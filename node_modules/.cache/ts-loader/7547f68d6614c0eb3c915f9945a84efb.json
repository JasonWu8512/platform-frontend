{"remainingRequest":"/Users/jlglqa/Documents/QA/noa/node_modules/babel-loader/lib/index.js!/Users/jlglqa/Documents/QA/noa/node_modules/ts-loader/index.js??ref--14-2!/Users/jlglqa/Documents/QA/noa/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/jlglqa/Documents/QA/noa/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jlglqa/Documents/QA/noa/src/pages/track/plan/components/PackagingTest.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/jlglqa/Documents/QA/noa/src/pages/track/plan/components/PackagingTest.vue","mtime":1655949681802},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/cache-loader/dist/cjs.js","mtime":1644298102062},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/babel-loader/lib/index.js","mtime":1644314985388},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/ts-loader/index.js","mtime":1644314987889},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/cache-loader/dist/cjs.js","mtime":1644298102062},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/vue-loader/lib/index.js","mtime":1644314988580},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/cache-loader/dist/cjs.js","mtime":1644298102062},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/babel-loader/lib/index.js","mtime":1644314985388},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/ts-loader/index.js","mtime":1644314987889},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/cache-loader/dist/cjs.js","mtime":1644298102062},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/vue-loader/lib/index.js","mtime":1644314988580}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyIpOwoKdmFyIF9faW1wb3J0RGVmYXVsdCA9IHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQgfHwgZnVuY3Rpb24gKG1vZCkgewogIHJldHVybiBtb2QgJiYgbW9kLl9fZXNNb2R1bGUgPyBtb2QgOiB7CiAgICAiZGVmYXVsdCI6IG1vZAogIH07Cn07CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7Cgp2YXIgYXBpXzEgPSByZXF1aXJlKCJAL2FwaSIpOwoKdmFyIHV0aWxzX3Njc3NfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKCJAL2Fzc2V0cy9jc3MvdXRpbHMuc2NzcyIpKTsKCnZhciBEaWFsb2dGb290ZXJfdnVlXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZSgiQC9jb21tb24vY29tcG9uZW50cy9EaWFsb2dGb290ZXIudnVlIikpOwoKdmFyIFRlc3RQbGFuXzEgPSByZXF1aXJlKCJAL2NvbnN0YW50L1Rlc3RQbGFuIik7Cgp2YXIgZm9ybXNfMSA9IHJlcXVpcmUoIkAvcGFnZXMvdHJhY2svcGxhbi9mb3JtcyIpOwoKdmFyIGxvZGFzaF8xID0gcmVxdWlyZSgibG9kYXNoIik7CgpleHBvcnRzLmRlZmF1bHQgPSB7CiAgbmFtZTogIlBhY2thZ2luZ1Rlc3QiLAogIGNvbXBvbmVudHM6IHsKICAgIERpYWxvZ0Zvb3RlcjogRGlhbG9nRm9vdGVyX3Z1ZV8xLmRlZmF1bHQKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkaWFsb2dGb3JtVmlzaWJsZTogZmFsc2UsCiAgICAgIHBsYW5JbnN0YW5jZVN0YXR1c0VudW06IFRlc3RQbGFuXzEucGxhbkluc3RhbmNlU3RhdHVzRW51bSwKICAgICAgZm9ybTogZm9ybXNfMS5wYWNrYWdpbmdUZXN0Rm9ybSwKICAgICAgcnVsZXM6IGZvcm1zXzEucGFja2FnaW5nVGVzdFJ1bGVzLAogICAgICBvcGVyYXRpb246ICcnLAogICAgICBvd25lck9wdGlvbnM6IFtdLAogICAgICBwcm9qZWN0T3B0aW9uczogW10sCiAgICAgIGVwaWNPcHRpb25zOiBbXSwKICAgICAgcGxhbk9wdGlvbnM6IFtdLAogICAgICBwaWNrZXJPcHRpb25zU3RhcnQ6IHt9LAogICAgICB0ZXN0UGxhbjogZm9ybXNfMS5wbGFuRm9ybQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBmb3JtTGFiZWxXaWR0aDogZnVuY3Rpb24gZm9ybUxhYmVsV2lkdGgoKSB7CiAgICAgIHJldHVybiB1dGlsc19zY3NzXzEuZGVmYXVsdFsnZm9ybUxhYmVsV2lkdGgnXTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHRoaXMuJGV2ZW50QnVzLiRvbigncGFja2FnaW5nVGVzdFN1Ym1pdCcsIGZ1bmN0aW9uICh0ZXN0UGxhbikgewogICAgICBfdGhpcy50ZXN0UGxhbiA9IHRlc3RQbGFuOwogICAgICBjb25zb2xlLmxvZyh0ZXN0UGxhbik7CgogICAgICBfdGhpcy5vcGVuKHRlc3RQbGFuKTsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgb3BlbjogZnVuY3Rpb24gb3Blbih0ZXN0UGxhbikgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5kaWFsb2dGb3JtVmlzaWJsZSA9IHRydWU7CiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAoX3RoaXMuJHJlZnMucGxhbkZvcm0pIHsKICAgICAgICAgIF90aGlzLiRyZWZzLnBsYW5Gb3JtLnJlc2V0RmllbGRzKCk7CiAgICAgICAgfQoKICAgICAgICBpZiAodGVzdFBsYW4uYXBwcm92YWxJbnN0YW5jZSkgewogICAgICAgICAgdmFyIHRtcCA9IGxvZGFzaF8xLmNsb25lRGVlcChKU09OLnBhcnNlKHRlc3RQbGFuLmFwcHJvdmFsSW5zdGFuY2UpKTsKICAgICAgICAgIE9iamVjdC5hc3NpZ24oX3RoaXMuZm9ybSwgdG1wKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMuZm9ybS5uYW1lID0gdGVzdFBsYW4ubmFtZTsKICAgICAgICAgIF90aGlzLmZvcm0ucmVzdWx0ID0gd2luZG93LmxvY2F0aW9uLmhyZWYucmVwbGFjZSgibGlzdCIsIHRlc3RQbGFuLmlkKTsKICAgICAgICB9CgogICAgICAgIF90aGlzLmZvcm0uaWQgPSB0ZXN0UGxhbi5pZDsKICAgICAgICBfdGhpcy5mb3JtLnN0YXR1cyA9IHRlc3RQbGFuLmluc3RhbmNlU3RhdHVzOwogICAgICAgIF90aGlzLmZvcm0ucmVqZWN0Q291bnQgPSB0ZXN0UGxhbi5yZWplY3RDb3VudDsKICAgICAgICBfdGhpcy5mb3JtLm93bmVyRW1haWwgPSBfdGhpcy4kc3RvcmUuc3RhdGUudXNlcnMudXNlcnMuZmluZChmdW5jdGlvbiAocykgewogICAgICAgICAgcmV0dXJuIHMudXNlcm5hbWUgPT0gdGVzdFBsYW4ub3duZXI7CiAgICAgICAgfSkuZW1haWw7CiAgICAgIH0pOwogICAgfSwKICAgIGJ1aWxkUGFyYW1zOiBmdW5jdGlvbiBidWlsZFBhcmFtcygpIHsKICAgICAgdmFyIGJvZHkgPSB7CiAgICAgICAgbmFtZTogdGhpcy5mb3JtLm5hbWUsCiAgICAgICAgc3VtbWFyeTogdGhpcy5mb3JtLnN1bW1hcnksCiAgICAgICAgaW5mbHVlbmNlOiB0aGlzLmZvcm0uaW5mbHVlbmNlLAogICAgICAgIHNlcnZlcjogdGhpcy5mb3JtLnNlcnZlciwKICAgICAgICByZXN1bHQ6IHRoaXMuZm9ybS5yZXN1bHQsCiAgICAgICAgcG9zdHBvbmU6IHRoaXMuZm9ybS5wb3N0cG9uZSwKICAgICAgICByZWFzb246IHRoaXMuZm9ybS5yZWFzb24sCiAgICAgICAgcmVqZWN0Q291bnQ6IHRoaXMuZm9ybS5yZWplY3RDb3VudCwKICAgICAgICB1c2VyRW1haWw6IHRoaXMuJHN0b3JlLnN0YXRlLmxvZ2luLmVtYWlsLAogICAgICAgIG93bmVyRW1haWw6IHRoaXMuZm9ybS5vd25lckVtYWlsLAogICAgICAgIGppcmFQcm9qZWN0czogdGhpcy50ZXN0UGxhbi5wcm9qSWRzCiAgICAgIH07CiAgICAgIHJldHVybiBib2R5OwogICAgfSwKICAgIGFwcHJvdmFsU3VibWl0OiBmdW5jdGlvbiBhcHByb3ZhbFN1Ym1pdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuJHJlZnMucGxhbkZvcm0udmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICB2YXIgYm9keSA9IF90aGlzLmJ1aWxkUGFyYW1zKCk7CgogICAgICAgICAgYXBpXzEudGVzdFBsYW5BcGkuY3JlYXRlUGFja2FnaW5nVGVzdEFwcHJvdmFsKF90aGlzLmZvcm0uaWQsIGJvZHkpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpcy4kZW1pdCgncmVmcmVzaCcpOwogICAgICAgICAgfSk7CiAgICAgICAgICBfdGhpcy5kaWFsb2dGb3JtVmlzaWJsZSA9IGZhbHNlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/Users/jlglqa/Documents/QA/noa/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/jlglqa/Documents/QA/noa/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jlglqa/Documents/QA/noa/src/pages/track/plan/components/PackagingTest.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {testPlanApi} from \"@/api\"\nimport {RequestCreatePackagingTestApproval} from \"@/api/types/testPlan\"\nimport {typePackagingTestData, typePlanData} from \"@/api/types/testPlanType\"\nimport variables from \"@/assets/css/utils.scss\"\nimport DialogFooter from \"@/common/components/DialogFooter.vue\"\nimport {planInstanceStatusEnum} from '@/constant/TestPlan'\nimport {packagingTestForm, packagingTestRules, planForm} from \"@/pages/track/plan/forms\"\nimport {cloneDeep} from \"lodash\"\n\nexport default {\n  name: \"PackagingTest\",\n  components: {DialogFooter},\n  data() {\n    return {\n      dialogFormVisible: false,\n      planInstanceStatusEnum: planInstanceStatusEnum,\n      form: packagingTestForm,\n      rules: packagingTestRules,\n      operation: '',\n      ownerOptions: [],\n      projectOptions: [],\n      epicOptions: [],\n      planOptions: [],\n      pickerOptionsStart: {},\n      testPlan: planForm,\n    }\n  },\n  computed: {\n    formLabelWidth() {\n      return variables['formLabelWidth']\n    },\n  },\n  mounted() {\n    this.$eventBus.$on('packagingTestSubmit', (testPlan: typePlanData) => {\n      this.testPlan = testPlan\n      console.log(testPlan)\n      this.open(testPlan)\n    })\n  },\n  methods: {\n    open(testPlan: typePlanData) {\n      this.dialogFormVisible = true\n      this.$nextTick(() => {\n        if (this.$refs.planForm) {\n          this.$refs.planForm.resetFields()\n        }\n        if (testPlan.approvalInstance) {\n          let tmp: typePackagingTestData = cloneDeep(JSON.parse(testPlan.approvalInstance))\n          Object.assign(this.form, tmp)\n        } else {\n          this.form.name = testPlan.name\n          this.form.result = window.location.href.replace(\"list\", testPlan.id)\n        }\n        this.form.id = testPlan.id\n        this.form.status = testPlan.instanceStatus\n        this.form.rejectCount = testPlan.rejectCount\n        this.form.ownerEmail = this.$store.state.users.users.find((s: { username: string }) => s.username == testPlan.owner).email\n      })\n    },\n    buildParams() {\n      let body: RequestCreatePackagingTestApproval = {\n        name: this.form.name,\n        summary: this.form.summary,\n        influence: this.form.influence,\n        server: this.form.server,\n        result: this.form.result,\n        postpone: this.form.postpone,\n        reason: this.form.reason,\n        rejectCount: this.form.rejectCount,\n        userEmail: this.$store.state.login.email,\n        ownerEmail: this.form.ownerEmail,\n        jiraProjects: this.testPlan.projIds,\n      }\n      return body\n    },\n    approvalSubmit() {\n      this.$refs.planForm.validate((valid: boolean) => {\n        if (valid) {\n          const body: RequestCreatePackagingTestApproval = this.buildParams()\n          testPlanApi.createPackagingTestApproval(this.form.id, body)\n            .then(() => {\n              this.$emit('refresh')\n            })\n          this.dialogFormVisible = false\n        } else {\n          return false\n        }\n      })\n    },\n  }\n}\n"],"sourceRoot":""}]}