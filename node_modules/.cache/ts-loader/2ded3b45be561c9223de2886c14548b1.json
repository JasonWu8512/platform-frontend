{"remainingRequest":"/Users/jlglqa/Documents/QA/noa/node_modules/thread-loader/dist/cjs.js!/Users/jlglqa/Documents/QA/noa/node_modules/babel-loader/lib/index.js!/Users/jlglqa/Documents/QA/noa/node_modules/ts-loader/index.js??ref--14-3!/Users/jlglqa/Documents/QA/noa/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/jlglqa/Documents/QA/noa/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jlglqa/Documents/QA/noa/src/pages/track/plan/components/PackagingTest.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/jlglqa/Documents/QA/noa/src/pages/track/plan/components/PackagingTest.vue","mtime":1655949681802},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/cache-loader/dist/cjs.js","mtime":1644298102062},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/thread-loader/dist/cjs.js","mtime":1644298102066},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/babel-loader/lib/index.js","mtime":1644314985388},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/ts-loader/index.js","mtime":1644314987889},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/cache-loader/dist/cjs.js","mtime":1644298102062},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/vue-loader/lib/index.js","mtime":1644314988580}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyIpOwoKdmFyIF9faW1wb3J0RGVmYXVsdCA9IHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQgfHwgZnVuY3Rpb24gKG1vZCkgewogIHJldHVybiBtb2QgJiYgbW9kLl9fZXNNb2R1bGUgPyBtb2QgOiB7CiAgICAiZGVmYXVsdCI6IG1vZAogIH07Cn07CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7Cgp2YXIgYXBpXzEgPSByZXF1aXJlKCJAL2FwaSIpOwoKdmFyIHV0aWxzX3Njc3NfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKCJAL2Fzc2V0cy9jc3MvdXRpbHMuc2NzcyIpKTsKCnZhciBEaWFsb2dGb290ZXJfdnVlXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZSgiQC9jb21tb24vY29tcG9uZW50cy9EaWFsb2dGb290ZXIudnVlIikpOwoKdmFyIFRlc3RQbGFuXzEgPSByZXF1aXJlKCJAL2NvbnN0YW50L1Rlc3RQbGFuIik7Cgp2YXIgZm9ybXNfMSA9IHJlcXVpcmUoIkAvcGFnZXMvdHJhY2svcGxhbi9mb3JtcyIpOwoKdmFyIGxvZGFzaF8xID0gcmVxdWlyZSgibG9kYXNoIik7CgpleHBvcnRzLmRlZmF1bHQgPSB7CiAgbmFtZTogIlBhY2thZ2luZ1Rlc3QiLAogIGNvbXBvbmVudHM6IHsKICAgIERpYWxvZ0Zvb3RlcjogRGlhbG9nRm9vdGVyX3Z1ZV8xLmRlZmF1bHQKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkaWFsb2dGb3JtVmlzaWJsZTogZmFsc2UsCiAgICAgIHBsYW5JbnN0YW5jZVN0YXR1c0VudW06IFRlc3RQbGFuXzEucGxhbkluc3RhbmNlU3RhdHVzRW51bSwKICAgICAgZm9ybTogZm9ybXNfMS5wYWNrYWdpbmdUZXN0Rm9ybSwKICAgICAgcnVsZXM6IGZvcm1zXzEucGFja2FnaW5nVGVzdFJ1bGVzLAogICAgICBvcGVyYXRpb246ICcnLAogICAgICBvd25lck9wdGlvbnM6IFtdLAogICAgICBwcm9qZWN0T3B0aW9uczogW10sCiAgICAgIGVwaWNPcHRpb25zOiBbXSwKICAgICAgcGxhbk9wdGlvbnM6IFtdLAogICAgICBwaWNrZXJPcHRpb25zU3RhcnQ6IHt9LAogICAgICB0ZXN0UGxhbjogZm9ybXNfMS5wbGFuRm9ybQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBmb3JtTGFiZWxXaWR0aDogZnVuY3Rpb24gZm9ybUxhYmVsV2lkdGgoKSB7CiAgICAgIHJldHVybiB1dGlsc19zY3NzXzEuZGVmYXVsdFsnZm9ybUxhYmVsV2lkdGgnXTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHRoaXMuJGV2ZW50QnVzLiRvbigncGFja2FnaW5nVGVzdFN1Ym1pdCcsIGZ1bmN0aW9uICh0ZXN0UGxhbikgewogICAgICBfdGhpcy50ZXN0UGxhbiA9IHRlc3RQbGFuOwogICAgICBjb25zb2xlLmxvZyh0ZXN0UGxhbik7CgogICAgICBfdGhpcy5vcGVuKHRlc3RQbGFuKTsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgb3BlbjogZnVuY3Rpb24gb3Blbih0ZXN0UGxhbikgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSB0cnVlOwogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKF90aGlzMi4kcmVmcy5wbGFuRm9ybSkgewogICAgICAgICAgX3RoaXMyLiRyZWZzLnBsYW5Gb3JtLnJlc2V0RmllbGRzKCk7CiAgICAgICAgfQoKICAgICAgICBpZiAodGVzdFBsYW4uYXBwcm92YWxJbnN0YW5jZSkgewogICAgICAgICAgdmFyIHRtcCA9IGxvZGFzaF8xLmNsb25lRGVlcChKU09OLnBhcnNlKHRlc3RQbGFuLmFwcHJvdmFsSW5zdGFuY2UpKTsKICAgICAgICAgIE9iamVjdC5hc3NpZ24oX3RoaXMyLmZvcm0sIHRtcCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzMi5mb3JtLm5hbWUgPSB0ZXN0UGxhbi5uYW1lOwogICAgICAgICAgX3RoaXMyLmZvcm0ucmVzdWx0ID0gd2luZG93LmxvY2F0aW9uLmhyZWYucmVwbGFjZSgibGlzdCIsIHRlc3RQbGFuLmlkKTsKICAgICAgICB9CgogICAgICAgIF90aGlzMi5mb3JtLmlkID0gdGVzdFBsYW4uaWQ7CiAgICAgICAgX3RoaXMyLmZvcm0uc3RhdHVzID0gdGVzdFBsYW4uaW5zdGFuY2VTdGF0dXM7CiAgICAgICAgX3RoaXMyLmZvcm0ucmVqZWN0Q291bnQgPSB0ZXN0UGxhbi5yZWplY3RDb3VudDsKICAgICAgICBfdGhpczIuZm9ybS5vd25lckVtYWlsID0gX3RoaXMyLiRzdG9yZS5zdGF0ZS51c2Vycy51c2Vycy5maW5kKGZ1bmN0aW9uIChzKSB7CiAgICAgICAgICByZXR1cm4gcy51c2VybmFtZSA9PSB0ZXN0UGxhbi5vd25lcjsKICAgICAgICB9KS5lbWFpbDsKICAgICAgfSk7CiAgICB9LAogICAgYnVpbGRQYXJhbXM6IGZ1bmN0aW9uIGJ1aWxkUGFyYW1zKCkgewogICAgICB2YXIgYm9keSA9IHsKICAgICAgICBuYW1lOiB0aGlzLmZvcm0ubmFtZSwKICAgICAgICBzdW1tYXJ5OiB0aGlzLmZvcm0uc3VtbWFyeSwKICAgICAgICBpbmZsdWVuY2U6IHRoaXMuZm9ybS5pbmZsdWVuY2UsCiAgICAgICAgc2VydmVyOiB0aGlzLmZvcm0uc2VydmVyLAogICAgICAgIHJlc3VsdDogdGhpcy5mb3JtLnJlc3VsdCwKICAgICAgICBwb3N0cG9uZTogdGhpcy5mb3JtLnBvc3Rwb25lLAogICAgICAgIHJlYXNvbjogdGhpcy5mb3JtLnJlYXNvbiwKICAgICAgICByZWplY3RDb3VudDogdGhpcy5mb3JtLnJlamVjdENvdW50LAogICAgICAgIHVzZXJFbWFpbDogdGhpcy4kc3RvcmUuc3RhdGUubG9naW4uZW1haWwsCiAgICAgICAgb3duZXJFbWFpbDogdGhpcy5mb3JtLm93bmVyRW1haWwsCiAgICAgICAgamlyYVByb2plY3RzOiB0aGlzLnRlc3RQbGFuLnByb2pJZHMKICAgICAgfTsKICAgICAgcmV0dXJuIGJvZHk7CiAgICB9LAogICAgYXBwcm92YWxTdWJtaXQ6IGZ1bmN0aW9uIGFwcHJvdmFsU3VibWl0KCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHRoaXMuJHJlZnMucGxhbkZvcm0udmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICB2YXIgYm9keSA9IF90aGlzMy5idWlsZFBhcmFtcygpOwoKICAgICAgICAgIGFwaV8xLnRlc3RQbGFuQXBpLmNyZWF0ZVBhY2thZ2luZ1Rlc3RBcHByb3ZhbChfdGhpczMuZm9ybS5pZCwgYm9keSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzMy4kZW1pdCgncmVmcmVzaCcpOwogICAgICAgICAgfSk7CiAgICAgICAgICBfdGhpczMuZGlhbG9nRm9ybVZpc2libGUgPSBmYWxzZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/Users/jlglqa/Documents/QA/noa/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/jlglqa/Documents/QA/noa/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jlglqa/Documents/QA/noa/src/pages/track/plan/components/PackagingTest.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {testPlanApi} from \"@/api\"\nimport {RequestCreatePackagingTestApproval} from \"@/api/types/testPlan\"\nimport {typePackagingTestData, typePlanData} from \"@/api/types/testPlanType\"\nimport variables from \"@/assets/css/utils.scss\"\nimport DialogFooter from \"@/common/components/DialogFooter.vue\"\nimport {planInstanceStatusEnum} from '@/constant/TestPlan'\nimport {packagingTestForm, packagingTestRules, planForm} from \"@/pages/track/plan/forms\"\nimport {cloneDeep} from \"lodash\"\n\nexport default {\n  name: \"PackagingTest\",\n  components: {DialogFooter},\n  data() {\n    return {\n      dialogFormVisible: false,\n      planInstanceStatusEnum: planInstanceStatusEnum,\n      form: packagingTestForm,\n      rules: packagingTestRules,\n      operation: '',\n      ownerOptions: [],\n      projectOptions: [],\n      epicOptions: [],\n      planOptions: [],\n      pickerOptionsStart: {},\n      testPlan: planForm,\n    }\n  },\n  computed: {\n    formLabelWidth() {\n      return variables['formLabelWidth']\n    },\n  },\n  mounted() {\n    this.$eventBus.$on('packagingTestSubmit', (testPlan: typePlanData) => {\n      this.testPlan = testPlan\n      console.log(testPlan)\n      this.open(testPlan)\n    })\n  },\n  methods: {\n    open(testPlan: typePlanData) {\n      this.dialogFormVisible = true\n      this.$nextTick(() => {\n        if (this.$refs.planForm) {\n          this.$refs.planForm.resetFields()\n        }\n        if (testPlan.approvalInstance) {\n          let tmp: typePackagingTestData = cloneDeep(JSON.parse(testPlan.approvalInstance))\n          Object.assign(this.form, tmp)\n        } else {\n          this.form.name = testPlan.name\n          this.form.result = window.location.href.replace(\"list\", testPlan.id)\n        }\n        this.form.id = testPlan.id\n        this.form.status = testPlan.instanceStatus\n        this.form.rejectCount = testPlan.rejectCount\n        this.form.ownerEmail = this.$store.state.users.users.find((s: { username: string }) => s.username == testPlan.owner).email\n      })\n    },\n    buildParams() {\n      let body: RequestCreatePackagingTestApproval = {\n        name: this.form.name,\n        summary: this.form.summary,\n        influence: this.form.influence,\n        server: this.form.server,\n        result: this.form.result,\n        postpone: this.form.postpone,\n        reason: this.form.reason,\n        rejectCount: this.form.rejectCount,\n        userEmail: this.$store.state.login.email,\n        ownerEmail: this.form.ownerEmail,\n        jiraProjects: this.testPlan.projIds,\n      }\n      return body\n    },\n    approvalSubmit() {\n      this.$refs.planForm.validate((valid: boolean) => {\n        if (valid) {\n          const body: RequestCreatePackagingTestApproval = this.buildParams()\n          testPlanApi.createPackagingTestApproval(this.form.id, body)\n            .then(() => {\n              this.$emit('refresh')\n            })\n          this.dialogFormVisible = false\n        } else {\n          return false\n        }\n      })\n    },\n  }\n}\n"],"sourceRoot":""}]}