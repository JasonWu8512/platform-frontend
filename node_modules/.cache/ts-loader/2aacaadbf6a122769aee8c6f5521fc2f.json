{"remainingRequest":"/Users/jlglqa/Documents/QA/noa/node_modules/babel-loader/lib/index.js!/Users/jlglqa/Documents/QA/noa/node_modules/ts-loader/index.js??ref--14-2!/Users/jlglqa/Documents/QA/noa/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/jlglqa/Documents/QA/noa/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jlglqa/Documents/QA/noa/src/pages/track/review/components/TestCaseReviewEdit.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/jlglqa/Documents/QA/noa/src/pages/track/review/components/TestCaseReviewEdit.vue","mtime":1655949681807},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/cache-loader/dist/cjs.js","mtime":1644298102062},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/babel-loader/lib/index.js","mtime":1644314985388},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/ts-loader/index.js","mtime":1644314987889},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/cache-loader/dist/cjs.js","mtime":1644298102062},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/vue-loader/lib/index.js","mtime":1644314988580},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/cache-loader/dist/cjs.js","mtime":1644298102062},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/babel-loader/lib/index.js","mtime":1644314985388},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/ts-loader/index.js","mtime":1644314987889},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/cache-loader/dist/cjs.js","mtime":1644298102062},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/vue-loader/lib/index.js","mtime":1644314988580}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiKTsKCnZhciBfX2ltcG9ydERlZmF1bHQgPSB0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0IHx8IGZ1bmN0aW9uIChtb2QpIHsKICByZXR1cm4gbW9kICYmIG1vZC5fX2VzTW9kdWxlID8gbW9kIDogewogICAgImRlZmF1bHQiOiBtb2QKICB9Owp9OwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwoKdmFyIGFwaV8xID0gcmVxdWlyZSgiQC9hcGkiKTsKCnZhciB1dGlsc19zY3NzXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZSgiQC9hc3NldHMvY3NzL3V0aWxzLnNjc3MiKSk7Cgp2YXIgRGlhbG9nRm9vdGVyX3Z1ZV8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoIkAvY29tbW9uL2NvbXBvbmVudHMvRGlhbG9nRm9vdGVyLnZ1ZSIpKTsKCnZhciB1dGlsc18xID0gcmVxdWlyZSgiQC9jb21tb24vdXRpbHMiKTsKCnZhciBUZXN0Q2FzZV8xID0gcmVxdWlyZSgiQC9jb25zdGFudC9UZXN0Q2FzZSIpOwoKdmFyIFRlc3RSZXZpZXdTdGF0dXNCdXR0b25fdnVlXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZSgiQC9wYWdlcy90cmFjay9yZXZpZXcvY29tbW9tL1Rlc3RSZXZpZXdTdGF0dXNCdXR0b24udnVlIikpOwoKdmFyIGZvcm1zXzEgPSByZXF1aXJlKCJAL3BhZ2VzL3RyYWNrL3Jldmlldy9mb3JtcyIpOwoKdmFyIGxvZGFzaF8xID0gcmVxdWlyZSgibG9kYXNoIik7CgpleHBvcnRzLmRlZmF1bHQgPSB7CiAgbmFtZTogIlRlc3RDYXNlUmV2aWV3RWRpdCIsCiAgY29tcG9uZW50czogewogICAgRGlhbG9nRm9vdGVyOiBEaWFsb2dGb290ZXJfdnVlXzEuZGVmYXVsdCwKICAgIFRlc3RSZXZpZXdTdGF0dXNCdXR0b246IFRlc3RSZXZpZXdTdGF0dXNCdXR0b25fdnVlXzEuZGVmYXVsdAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG9wZXJhdGlvbkVudW06IFRlc3RDYXNlXzEub3BlcmF0aW9uRW51bSwKICAgICAgcHJvamVjdHM6IHRoaXMucHJvamVjdHMsCiAgICAgIGRpYWxvZ0Zvcm1WaXNpYmxlOiBmYWxzZSwKICAgICAgZm9ybTogZm9ybXNfMS5yZXZpZXdGb3JtLAogICAgICBydWxlczogZm9ybXNfMS5yZXZpZXdGb3JtUnVsZXMsCiAgICAgIG9wZXJhdGlvbjogJycsCiAgICAgIHJldmlld2VyT3B0aW9uczogW10sCiAgICAgIHBpY2tlck9wdGlvbnNTdGFydDoge30KICAgIH07CiAgfSwKICBwcm9wczogewogICAgY29uZGl0aW9uOiBPYmplY3QKICB9LAogIGluamVjdDogWydwcm9qZWN0cyddLAogIGNvbXB1dGVkOiB7CiAgICBmb3JtTGFiZWxXaWR0aDogZnVuY3Rpb24gZm9ybUxhYmVsV2lkdGgoKSB7CiAgICAgIHJldHVybiB1dGlsc19zY3NzXzEuZGVmYXVsdFsnZm9ybUxhYmVsV2lkdGgnXTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHRoaXMuJGV2ZW50QnVzLiRvbigiY2FzZVJldmlld0VkaXQiLCBmdW5jdGlvbiAoY2FzZVJldmlldykgewogICAgICBfdGhpcy5vcGVuKGNhc2VSZXZpZXcpOwogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBpbml0T3B0aW9uczogZnVuY3Rpb24gaW5pdE9wdGlvbnMoKSB7CiAgICAgIHRoaXMucmV2aWV3ZXJPcHRpb25zID0gdGhpcy5jb25kaXRpb24ucmV2aWV3ZXJPcHRpb25zOwogICAgfSwKICAgIGluaXREYXRlT3B0aW9uczogZnVuY3Rpb24gaW5pdERhdGVPcHRpb25zKCkgewogICAgICB0aGlzLnBpY2tlck9wdGlvbnNTdGFydCA9IHV0aWxzXzEuZGF0ZVBpY2tlck9wdGlvbnNTdGFydCgpOwogICAgfSwKICAgIG9wZW46IGZ1bmN0aW9uIG9wZW4oY2FzZVJldmlldykgewogICAgICB0aGlzLmluaXRPcHRpb25zKCk7CiAgICAgIHRoaXMuaW5pdERhdGVPcHRpb25zKCk7IC8v5L+u5pS5CgogICAgICBpZiAoY2FzZVJldmlldykgewogICAgICAgIHRoaXMuZm9ybSA9IGxvZGFzaF8xLmNsb25lRGVlcChjYXNlUmV2aWV3KTsKICAgICAgICB0aGlzLm9wZXJhdGlvbiA9IFRlc3RDYXNlXzEub3BlcmF0aW9uRW51bS5FRElUOwogICAgICB9IC8vIGNvbnNvbGUubG9nKHRoaXMuZm9ybSkKCgogICAgICB0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlID0gdHJ1ZTsKICAgIH0sCiAgICBzYXZlUmV2aWV3OiBmdW5jdGlvbiBzYXZlUmV2aWV3KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuJHJlZnNbJ3Jldmlld0Zvcm0nXS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIHZhciByZXZpZXdCb2R5ID0gewogICAgICAgICAgICBuYW1lOiBfdGhpczIuZm9ybS5uYW1lLAogICAgICAgICAgICB0YXJnZXRFbmQ6IF90aGlzMi5mb3JtLnRhcmdldEVuZCB8fCBudWxsLAogICAgICAgICAgICByZXZpZXdlcjogX3RoaXMyLmZvcm0ucmV2aWV3ZXJMaXN0LAogICAgICAgICAgICBzdGF0dXM6IF90aGlzMi5mb3JtLnN0YXR1cwogICAgICAgICAgfTsKICAgICAgICAgIGFwaV8xLnRlc3RSZXZpZXdBcGkudXBkYXRlVGVzdENhc2VSZXZpZXcoX3RoaXMyLmZvcm0uaWQsIHJldmlld0JvZHkpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpczIuJGVtaXQoInJlZnJlc2giKTsKCiAgICAgICAgICAgIF90aGlzMi5jbG9zZSgpOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBzdGF0dXNDaGFuZ2U6IGZ1bmN0aW9uIHN0YXR1c0NoYW5nZShzdGF0dXMpIHsKICAgICAgdGhpcy5mb3JtLnN0YXR1cyA9IHN0YXR1czsKICAgICAgdGhpcy4kZm9yY2VVcGRhdGUoKTsKICAgIH0sCiAgICBjbG9zZTogZnVuY3Rpb24gY2xvc2UoKSB7CiAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSBmYWxzZTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/Users/jlglqa/Documents/QA/noa/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/jlglqa/Documents/QA/noa/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jlglqa/Documents/QA/noa/src/pages/track/review/components/TestCaseReviewEdit.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {testReviewApi} from \"@/api\"\nimport {RequestUpdateTestCaseReview} from \"@/api/types/testReview\"\nimport {typeReviewData} from \"@/api/types/testReviewType\"\nimport variables from \"@/assets/css/utils.scss\"\nimport DialogFooter from \"@/common/components/DialogFooter.vue\"\nimport {datePickerOptionsStart} from \"@/common/utils\"\nimport {operationEnum} from \"@/constant/TestCase\"\nimport {reviewStatusEnum} from \"@/constant/TestReivew\"\nimport TestReviewStatusButton from \"@/pages/track/review/commom/TestReviewStatusButton.vue\"\nimport {reviewForm, reviewFormRules} from \"@/pages/track/review/forms\"\nimport {cloneDeep} from \"lodash\"\n\nexport default {\n  name: \"TestCaseReviewEdit\",\n  components: {DialogFooter, TestReviewStatusButton},\n  data() {\n    return {\n      operationEnum: operationEnum,\n      projects: this.projects,\n      dialogFormVisible: false,\n      form: reviewForm,\n      rules: reviewFormRules,\n      operation: '',\n      reviewerOptions: [],\n      pickerOptionsStart: {},\n    }\n  },\n  props: {\n    condition: Object,\n  },\n  inject: ['projects'],\n  computed: {\n    formLabelWidth() {\n      return variables['formLabelWidth']\n    },\n  },\n  mounted() {\n    this.$eventBus.$on(\"caseReviewEdit\", (caseReview: typeReviewData) => {\n      this.open(caseReview)\n    })\n  },\n  methods: {\n    initOptions() {\n      this.reviewerOptions = this.condition.reviewerOptions\n    },\n    initDateOptions() {\n      this.pickerOptionsStart = datePickerOptionsStart()\n    },\n    open(caseReview: typeReviewData) {\n      this.initOptions()\n      this.initDateOptions()\n      //修改\n      if (caseReview) {\n        this.form = cloneDeep(caseReview)\n        this.operation = operationEnum.EDIT\n      }\n      // console.log(this.form)\n      this.dialogFormVisible = true\n    },\n    saveReview() {\n      this.$refs['reviewForm'].validate((valid: boolean) => {\n        if (valid) {\n          let reviewBody: RequestUpdateTestCaseReview = {\n            name: this.form.name,\n            targetEnd: this.form.targetEnd || null,\n            reviewer: this.form.reviewerList,\n            status: this.form.status,\n          }\n          testReviewApi.updateTestCaseReview(this.form.id, reviewBody)\n            .then(() => {\n              this.$emit(\"refresh\")\n              this.close()\n            })\n        }\n      })\n    },\n    statusChange(status: reviewStatusEnum) {\n      this.form.status = status\n      this.$forceUpdate()\n    },\n    close() {\n      this.dialogFormVisible = false\n    },\n  }\n}\n"],"sourceRoot":""}]}