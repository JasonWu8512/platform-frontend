{"remainingRequest":"/Users/jlglqa/Documents/QA/noa/node_modules/babel-loader/lib/index.js!/Users/jlglqa/Documents/QA/noa/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/jlglqa/Documents/QA/noa/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jlglqa/Documents/QA/noa/src/pages/testTools/mockSwitch.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jlglqa/Documents/QA/noa/src/pages/testTools/mockSwitch.vue","mtime":1655949681779},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/cache-loader/dist/cjs.js","mtime":1644298102062},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/babel-loader/lib/index.js","mtime":1644314985388},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/cache-loader/dist/cjs.js","mtime":1644298102062},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/vue-loader/lib/index.js","mtime":1644314988580}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IE1lc3NhZ2UgfSBmcm9tICJlbGVtZW50LXVpIjsKaW1wb3J0IG1vY2sgZnJvbSAiLi4vLi4vYXBpL3Rvb2wiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIm1vY2tTd2l0Y2giLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgc2VydmVyTGlzdDogW10sCiAgICAgIGRvbWFpbnM6IFt7CiAgICAgICAgJ2RvbWFpbic6ICdhcGkucGluZ3h4LmNvbScsCiAgICAgICAgJ3N0YXR1cyc6IGZhbHNlLAogICAgICAgICdkZXRhaWxzJzogW10KICAgICAgfV0sCiAgICAgIGVudjogJ2RldicKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgaG9zdDogZnVuY3Rpb24gaG9zdCgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmRldkhvc3RzW3RoaXMuZW52XTsKICAgIH0sCiAgICBlbWFpbDogZnVuY3Rpb24gZW1haWwoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5sb2dpbi5lbWFpbDsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldERvbWFpblN0YXR1cygpOwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0RG9tYWluU3RhdHVzOiBmdW5jdGlvbiBnZXREb21haW5TdGF0dXMoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBtb2NrLmdldEFsbERvbWFpblN0YXR1cyh7CiAgICAgICAgZW52OiB0aGlzLmVudgogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICB2YXIgcmVzdWx0ID0gcmVzLmRhdGE7IC8vIHZhciBkb21haW5fa2V5cyA9IE9iamVjdC5rZXlzKHJlc3VsdCkKCiAgICAgICAgX3RoaXMuZG9tYWlucyA9IHJlc3VsdC5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGRvbWFpbjogaXRlbS5kb21haW4sCiAgICAgICAgICAgIHN0YXR1czogaXRlbS5zdGF0dXMsCiAgICAgICAgICAgIGRldGFpbHM6IGl0ZW0uZGV0YWlscwogICAgICAgICAgfTsKICAgICAgICB9KTsKICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIG9uU3VibWl0OiBmdW5jdGlvbiBvblN1Ym1pdCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICB2YXIgZG9tYWlucyA9IHt9OwogICAgICB0aGlzLmRvbWFpbnMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIGRvbWFpbnNbaXRlbS5kb21haW5dID0gaXRlbS5zdGF0dXM7CiAgICAgIH0pOwogICAgICBtb2NrLnVwZGF0ZU1vY2soewogICAgICAgIGVudjogdGhpcy5lbnYsCiAgICAgICAgZG9tYWluczogZG9tYWlucywKICAgICAgICB1c2VyX2VtYWlsOiB0aGlzLmVtYWlsLAogICAgICAgIHNlcnZlcl9saXN0OiB0aGlzLnNlcnZlckxpc3QKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMyLmdldERvbWFpblN0YXR1cygpOwoKICAgICAgICBfdGhpczIubG9hZGluZyA9IGZhbHNlOwogICAgICAgIE1lc3NhZ2UoewogICAgICAgICAgbWVzc2FnZTogIuato+WcqOmHjeWQr+aUr+S7mOacjeWKoe+8jOivt+iAkOW/g+etieW+hTMw56eS5ZCO5bCd6K+VIiwKICAgICAgICAgIHR5cGU6ICJpbmZvIiwKICAgICAgICAgIGR1cmF0aW9uOiAzMDAwLAogICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlCiAgICAgICAgfSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczIubG9hZGluZyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["mockSwitch.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA,SAAA,OAAA,QAAA,YAAA;AACA,OAAA,IAAA,MAAA,gBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,YADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,KADA;AAEA,MAAA,UAAA,EAAA,EAFA;AAGA,MAAA,OAAA,EAAA,CAAA;AAAA,kBAAA,gBAAA;AAAA,kBAAA,KAAA;AAAA,mBAAA;AAAA,OAAA,CAHA;AAIA,MAAA,GAAA,EAAA;AAJA,KAAA;AAMA,GATA;AAUA,EAAA,QAAA,EAAA;AACA,IAAA,IADA,kBACA;AACA,aAAA,KAAA,MAAA,CAAA,KAAA,CAAA,QAAA,CAAA,KAAA,GAAA,CAAA;AACA,KAHA;AAIA,IAAA,KAJA,mBAIA;AACA,aAAA,KAAA,MAAA,CAAA,KAAA,CAAA,KAAA,CAAA,KAAA;AACA;AANA,GAVA;AAkBA,EAAA,OAlBA,qBAkBA;AACA,SAAA,eAAA;AACA,GApBA;AAqBA,EAAA,OAAA,EAAA;AACA,IAAA,eADA,6BACA;AAAA;;AACA,MAAA,IAAA,CAAA,kBAAA,CAAA;AAAA,QAAA,GAAA,EAAA,KAAA;AAAA,OAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,YAAA,MAAA,GAAA,GAAA,CAAA,IAAA,CADA,CAEA;;AACA,QAAA,KAAA,CAAA,OAAA,GAAA,MAAA,CAAA,GAAA,CAAA,UAAA,IAAA,EAAA;AACA,iBAAA;AACA,YAAA,MAAA,EAAA,IAAA,CAAA,MADA;AAEA,YAAA,MAAA,EAAA,IAAA,CAAA,MAFA;AAGA,YAAA,OAAA,EAAA,IAAA,CAAA;AAHA,WAAA;AAKA,SANA,CAAA;AAOA,QAAA,KAAA,CAAA,OAAA,GAAA,KAAA;AACA,OAXA;AAYA,KAdA;AAeA,IAAA,QAfA,sBAeA;AAAA;;AACA,WAAA,OAAA,GAAA,IAAA;AACA,UAAA,OAAA,GAAA,EAAA;AACA,WAAA,OAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA;AACA,QAAA,OAAA,CAAA,IAAA,CAAA,MAAA,CAAA,GAAA,IAAA,CAAA,MAAA;AACA,OAFA;AAGA,MAAA,IAAA,CAAA,UAAA,CAAA;AAAA,QAAA,GAAA,EAAA,KAAA,GAAA;AAAA,QAAA,OAAA,EAAA,OAAA;AAAA,QAAA,UAAA,EAAA,KAAA,KAAA;AAAA,QAAA,WAAA,EAAA,KAAA;AAAA,OAAA,EAAA,IAAA,CACA,YAAA;AACA,QAAA,MAAA,CAAA,eAAA;;AACA,QAAA,MAAA,CAAA,OAAA,GAAA,KAAA;AACA,QAAA,OAAA,CAAA;AACA,UAAA,OAAA,EAAA,sBADA;AAEA,UAAA,IAAA,EAAA,MAFA;AAGA,UAAA,QAAA,EAAA,IAHA;AAIA,UAAA,SAAA,EAAA;AAJA,SAAA,CAAA;AAMA,OAVA,EAWA,KAXA,CAWA,YAAA;AACA,QAAA,MAAA,CAAA,OAAA,GAAA,KAAA;AACA,OAbA;AAcA;AAnCA;AArBA,CAAA","sourcesContent":["<template>\n  <el-card\n      v-loading=\"loading\"\n      class=\"form-card\"\n      element-loading-spinner=\"el-icon-loading\"\n      element-loading-text=\"拼命加载中\"\n  >\n    <div slot=\"header\" class=\"card-title\">\n      <span>mock设置</span>\n\n    </div>\n    <el-form label-position=\"right\" label-width=\"150px\">\n      <el-form-item label=\"环境 :\">\n        <!--          <el-switch v-model=\"env\"></el-switch>-->\n        <el-radio-group v-model=\"env\" @change=\"getDomainStatus\">\n          <el-radio label=\"dev\"></el-radio>\n          <el-radio label=\"fat\"></el-radio>\n        </el-radio-group>\n      </el-form-item>\n      <el-form-item\n          v-for=\"item in domains\"\n          :key=\"item\"\n          :label=\"`${item.domain}:`\"\n      >\n        <el-row align=\"middle\">\n          <el-col :span=\"5\">\n            <el-switch v-model=\"item.status\"></el-switch>\n          </el-col>\n          <el-col :span=\"15\">\n            <el-checkbox-group v-model=\"serverList\" size=\"medium\"><el-checkbox label=\"payatom\"></el-checkbox><el-checkbox label=\"交易中台\"></el-checkbox></el-checkbox-group>\n          </el-col>\n        </el-row>\n\n        <div v-for=\"(item2, index) in item.details\" :key=\"index\">\n          <span style=\"color: #909399\"> {{item2.server}}:{{item2.status}}</span>\n        </div>\n      </el-form-item>\n      <el-form-item label-width=\"0\" style=\"text-align: center;padding-top: 15px\">\n        <el-button type=\"primary\" @click=\"onSubmit\">确定</el-button>\n        <el-button>取消</el-button>\n      </el-form-item>\n    </el-form>\n  </el-card>\n\n</template>\n\n<script>\nimport {Message} from \"element-ui\"\nimport mock from \"../../api/tool\"\n\nexport default {\n  name: \"mockSwitch\",\n  data() {\n    return {\n      loading: false,\n      serverList: [],\n      domains: [{'domain': 'api.pingxx.com', 'status': false, 'details': []}],\n      env: 'dev',\n    }\n  },\n  computed: {\n    host() {\n      return this.$store.state.devHosts[this.env]\n    },\n    email() {\n      return this.$store.state.login.email\n    }\n  },\n  created() {\n    this.getDomainStatus();\n  },\n  methods: {\n    getDomainStatus() {\n      mock.getAllDomainStatus({env: this.env}).then(res => {\n        var result = res.data\n        // var domain_keys = Object.keys(result)\n        this.domains = result.map(item => {\n          return {\n            domain: item.domain,\n            status: item.status,\n            details: item.details\n          }\n        })\n        this.loading = false;\n      })\n    },\n    onSubmit() {\n      this.loading = true;\n      var domains = {};\n      this.domains.forEach(item => {\n        domains[item.domain] = item.status\n      })\n      mock.updateMock({env: this.env, domains: domains, user_email: this.email, server_list: this.serverList}).then(\n          () => {\n            this.getDomainStatus();\n            this.loading = false\n            Message({\n              message: \"正在重启支付服务，请耐心等待30秒后尝试\",\n              type: \"info\",\n              duration: 3000,\n              showClose: true\n            })\n          }\n      ).catch(() => {\n        this.loading = false\n      });\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.el-form-item{\n  text-align: left;\n}\n.form-card {\n  width: 500px;\n}\n\n.card-title {\n  font-size: 18px;\n  font-weight: 500;\n  text-align: left;\n}\n\n</style>\n"],"sourceRoot":"src/pages/testTools"}]}