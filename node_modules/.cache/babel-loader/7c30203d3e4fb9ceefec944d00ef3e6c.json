{"remainingRequest":"/Users/jlglqa/Documents/QA/noa/node_modules/thread-loader/dist/cjs.js!/Users/jlglqa/Documents/QA/noa/node_modules/babel-loader/lib/index.js!/Users/jlglqa/Documents/QA/noa/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/jlglqa/Documents/QA/noa/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jlglqa/Documents/QA/noa/src/pages/Team/components/SprintTestPlan.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jlglqa/Documents/QA/noa/src/pages/Team/components/SprintTestPlan.vue","mtime":1655949681770},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/cache-loader/dist/cjs.js","mtime":1644298102062},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/thread-loader/dist/cjs.js","mtime":1644298102066},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/babel-loader/lib/index.js","mtime":1644314985388},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/cache-loader/dist/cjs.js","mtime":1644298102062},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/vue-loader/lib/index.js","mtime":1644314988580}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBqaXJhQXBpIH0gZnJvbSAiQC9hcGkiOwppbXBvcnQgQ29tbW9uQ29tcG9uZW50IGZyb20gIkAvcGFnZXMvdHJhY2svcGxhbi92aWV3L2NvbW9uZW50cy9yZXBvcnQvY29tcG9uZW50cy9Db21tb25Db21wb25lbnQudnVlIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJTcHJpbnRUZXN0UGxhbiIsCiAgY29tcG9uZW50czogewogICAgQ29tbW9uQ29tcG9uZW50OiBDb21tb25Db21wb25lbnQKICB9LAogIHByb3BzOiB7CiAgICBzcHJpbnRJZDogU3RyaW5nCiAgfSwKICB3YXRjaDogewogICAgc3ByaW50SWQ6IGZ1bmN0aW9uIHNwcmludElkKCkgewogICAgICB0aGlzLmdldFNwcmludFN0b3J5VGVzdFBsYW4oKTsKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgaW5SZWZyZXNoOiBmYWxzZSwKICAgICAgc3BWYWx1ZXM6IFtdLAogICAgICBvcHRpb25Qcm9wczogewogICAgICAgIHZhbHVlOiAnaWQnLAogICAgICAgIGxhYmVsOiAnbmFtZScsCiAgICAgICAgY2hpbGRyZW46ICdzcHJpbnRzJwogICAgICB9LAogICAgICBvcHRpb246IHsKICAgICAgICBsZWdlbmQ6IHsKICAgICAgICAgIGRhdGE6IFt7CiAgICAgICAgICAgIG5hbWU6ICfmraPluLgnLAogICAgICAgICAgICB0ZXh0U3R5bGU6IHsKICAgICAgICAgICAgICBjb2xvcjogJyM3MmE5MmYnLAogICAgICAgICAgICAgIGZvbnRXZWlnaHQ6ICdib2xkJwogICAgICAgICAgICB9CiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIG5hbWU6ICflu7bmnJ8nLAogICAgICAgICAgICB0ZXh0U3R5bGU6IHsKICAgICAgICAgICAgICBjb2xvcjogJyNFNkEyM0MnLAogICAgICAgICAgICAgIGZvbnRXZWlnaHQ6ICdib2xkJwogICAgICAgICAgICB9CiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIG5hbWU6ICfmnKrmj5DmtYsnLAogICAgICAgICAgICB0ZXh0U3R5bGU6IHsKICAgICAgICAgICAgICBjb2xvcjogJyM4MWNiZjMnLAogICAgICAgICAgICAgIGZvbnRXZWlnaHQ6ICdib2xkJwogICAgICAgICAgICB9CiAgICAgICAgICB9XQogICAgICAgIH0sCiAgICAgICAgY29sb3I6IFsndHJhbnNwYXJlbnQnXSwKICAgICAgICB0b29sdGlwOiB7CiAgICAgICAgICB0cmlnZ2VyOiAnaXRlbScsCiAgICAgICAgICAvLyBheGlzUG9pbnRlcjogeyAgICAgICAgICAgIC8vIOWdkOagh+i9tOaMh+ekuuWZqO+8jOWdkOagh+i9tOinpuWPkeacieaViAogICAgICAgICAgLy8gICB0eXBlOiAnc2hhZG93JyAgICAgICAgLy8g6buY6K6k5Li655u057q/77yM5Y+v6YCJ5Li677yaJ2xpbmUnIHwgJ3NoYWRvdycKICAgICAgICAgIC8vIH0sCiAgICAgICAgICBmb3JtYXR0ZXI6IGZ1bmN0aW9uIGZvcm1hdHRlcihwYXJhbXMpIHsKICAgICAgICAgICAgcmV0dXJuIHBhcmFtcy5uYW1lOwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgeEF4aXM6IHsKICAgICAgICAgIHR5cGU6ICdjYXRlZ29yeScsCiAgICAgICAgICBkYXRhOiBbXSwKICAgICAgICAgIGF4aXNMYWJlbDogewogICAgICAgICAgICBpbnRlcnZhbDogMCwKICAgICAgICAgICAgcm90YXRlOiAzMAogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgeUF4aXM6IHsKICAgICAgICAgIHR5cGU6ICd2YWx1ZScKICAgICAgICB9LAogICAgICAgIHNlcmllczogW10KICAgICAgfQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIG9wZW5KaXJhOiBmdW5jdGlvbiBvcGVuSmlyYShwYXJhbXMpIHsKICAgICAgd2luZG93Lm9wZW4ocGFyYW1zLmRhdGEua2V5KTsKICAgIH0sCiAgICBnZXRTcHJpbnRTdG9yeVRlc3RQbGFuOiBmdW5jdGlvbiBnZXRTcHJpbnRTdG9yeVRlc3RQbGFuKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5vcHRpb24uc2VyaWVzID0gW107CiAgICAgIHRoaXMub3B0aW9uLnhBeGlzLmRhdGEgPSBbXTsKICAgICAgamlyYUFwaS5nZXRTcHJpbnRTdG9yeVRlc3RQbGFuKHsKICAgICAgICBzcHJpbnRJZDogdGhpcy5zcHJpbnRJZAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpcy5vcHRpb24ueEF4aXMuZGF0YSA9IHJlcy5kYXRhLmRhdGVzOwogICAgICAgIF90aGlzLm9wdGlvbi5zZXJpZXMgPSByZXMuZGF0YS5zdG9yaWVzLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGl0ZW0sIHsKICAgICAgICAgICAgImxhYmVsIjogewogICAgICAgICAgICAgICJub3JtYWwiOiB7CiAgICAgICAgICAgICAgICAic2hvdyI6IHRydWUsCiAgICAgICAgICAgICAgICAicG9zaXRpb24iOiAnaW5zaWRlJywKICAgICAgICAgICAgICAgICJmb3JtYXR0ZXIiOiBmdW5jdGlvbiBmb3JtYXR0ZXIocGFyYW1zKSB7CiAgICAgICAgICAgICAgICAgIGlmIChwYXJhbXMudmFsdWUgPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcmFtcy52YWx1ZTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gJyAnOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICAiaXRlbVN0eWxlIjogewogICAgICAgICAgICAgICJjb2xvciI6IGZ1bmN0aW9uIGNvbG9yKCkgewogICAgICAgICAgICAgICAgaWYgKGl0ZW0ubmFtZSA9PT0gJ+ato+W4uCcpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuICIjNzJhOTJmIjsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXRlbS5uYW1lID09PSAn5bu25pyfJykgewogICAgICAgICAgICAgICAgICByZXR1cm4gIiNFNkEyM0MiOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuICIjODFjYmYzIjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICJiYXJCb3JkZXJDb2xvciI6ICcjZmZmJywKICAgICAgICAgICAgICAiYmFyQm9yZGVyUmFkaXVzIjogMgogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfSkuZmluYWxseShmdW5jdGlvbiAoKSB7CiAgICAgICAgLy8g5by65Yi25Yi35paw5Zu+6KGo77yM5riF6Zmk5Zu+6KGo5pi+56S657yT5a2YCiAgICAgICAgX3RoaXMuaW5SZWZyZXNoID0gZmFsc2U7CgogICAgICAgIF90aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpcy5pblJlZnJlc2ggPSB0cnVlOwogICAgICAgIH0pOwoKICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["SprintTestPlan.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div>\n      <common-component title=\"提测规划图\" v-loading=\"loading\">\n        <div v-if=\"option.series.length === 0\" style=\"font-size: 14px; color: #909399; text-align: center;\">-->\n                <span>暂无数据</span>\n              </div>\n        <div v-else>\n          <chart :autoresize=\"true\" :options=\"option\" class=\"e-chart\" v-if=\"inRefresh\" @click=\"openJira\"></chart>\n        </div>\n\n      </common-component>\n    </div>\n</template>\n\n<script>\nimport {jiraApi} from \"@/api\";\nimport CommonComponent from \"@/pages/track/plan/view/comonents/report/components/CommonComponent.vue\"\nexport default {\nname: \"SprintTestPlan\",\n  components: {CommonComponent},\n  props: {\n  sprintId: String,\n  },\n  watch: {\n    sprintId() {\n      this.getSprintStoryTestPlan()\n    },\n  },\n  data() {\n  return {\n    loading: false,\n    inRefresh: false,\n    spValues: [],\n    optionProps: {\n      value: 'id',\n      label: 'name',\n      children: 'sprints'\n    },\n    option:{\n      legend: {\n        data: [{name: '正常', textStyle: {color: '#72a92f', fontWeight: 'bold'}},\n          {name: '延期', textStyle: {color: '#E6A23C', fontWeight: 'bold'}},\n          {name: '未提测', textStyle: {color: '#81cbf3', fontWeight: 'bold'}}]\n      },\n      color: ['transparent'],\n      tooltip: {\n        trigger: 'item',\n        // axisPointer: {            // 坐标轴指示器，坐标轴触发有效\n        //   type: 'shadow'        // 默认为直线，可选为：'line' | 'shadow'\n        // },\n        formatter: function (params) {\n          return params.name;\n        }\n      },\n      xAxis: {\n        type: 'category',\n        data:[],\n        axisLabel:{\n          interval: 0,\n          rotate: 30,\n        }},\n      yAxis: {\n        type: 'value',\n      },\n\n      series: []\n    }\n  }\n  },\n  methods: {\n    openJira(params) {\n      window.open(params.data.key)\n    },\n  getSprintStoryTestPlan() {\n    this.option.series = []\n    this.option.xAxis.data = []\n    jiraApi.getSprintStoryTestPlan({sprintId: this.sprintId}).then(res => {\n      this.option.xAxis.data = res.data.dates\n      this.option.series = res.data.stories.map(item => {\n        return Object.assign({}, item, {\"label\": {\n            \"normal\":{\n              \"show\": true,\n              \"position\": 'inside',\n              \"formatter\": function(params) {\n                if (params.value > 0) {\n                  return params.value;\n                } else {\n                  return ' ';\n                }\n              }            }},\n          \"itemStyle\":{\n            \"color\": function () {\n              if(item.name === '正常') {\n                return \"#72a92f\"\n              } else if(item.name === '延期') {\n                return \"#E6A23C\"\n              } else {\n                return \"#81cbf3\"\n              }\n            },\n            \"barBorderColor\": '#fff',\n            \"barBorderRadius\": 2},})\n      })\n    }).finally(() => {\n      // 强制刷新图表，清除图表显示缓存\n      this.inRefresh = false;\n      this.$nextTick(() => {\n        this.inRefresh = true;\n      });\n      this.loading = false;\n    });\n  },\n  },\n}\n</script>\n\n<style scoped lang=\"scss\">\n\n.e-chart {\n  width: 100%;\n  height: 300px;\n  margin: 0 auto\n}\n\n</style>\n"],"sourceRoot":"src/pages/Team/components"}]}