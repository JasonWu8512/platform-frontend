{"remainingRequest":"/Users/jlglqa/Documents/QA/noa/node_modules/thread-loader/dist/cjs.js!/Users/jlglqa/Documents/QA/noa/node_modules/babel-loader/lib/index.js!/Users/jlglqa/Documents/QA/noa/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/jlglqa/Documents/QA/noa/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jlglqa/Documents/QA/noa/src/pages/testTools/apolloIntlNotify.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jlglqa/Documents/QA/noa/src/pages/testTools/apolloIntlNotify.vue","mtime":1655949681778},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/cache-loader/dist/cjs.js","mtime":1644298102062},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/thread-loader/dist/cjs.js","mtime":1644298102066},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/babel-loader/lib/index.js","mtime":1644314985388},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/cache-loader/dist/cjs.js","mtime":1644298102062},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/vue-loader/lib/index.js","mtime":1644314988580}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB2YXJpYWJsZXMgZnJvbSAiQC9hc3NldHMvY3NzL3V0aWxzLnNjc3MiOwppbXBvcnQgeyBkYXRhVG9vbEFwaSB9IGZyb20gIkAvYXBpIjsKaW1wb3J0IHsgY2xvbmVEZWVwIH0gZnJvbSAibG9kYXNoIjsKaW1wb3J0IFRhYmxlT3BlcmF0b3IgZnJvbSAiQC9jb21tb24vY29tcG9uZW50cy9UYWJsZU9wZXJhdG9yIjsKaW1wb3J0IFRhYmxlSGVhZGVyIGZyb20gIkAvY29tbW9uL2NvbXBvbmVudHMvVGFibGVIZWFkZXIiOwppbXBvcnQgVGFibGVQYWdpbmF0aW9uIGZyb20gIkAvY29tbW9uL2NvbXBvbmVudHMvcGFnaW5hdGlvbi9UYWJsZVBhZ2luYXRpb24iOwppbXBvcnQgRGlhbG9nRm9vdGVyIGZyb20gIkAvY29tbW9uL2NvbXBvbmVudHMvRGlhbG9nRm9vdGVyIjsKaW1wb3J0IHsgb3BlcmF0aW9uRW51bSB9IGZyb20gIkAvY29uc3RhbnQvR2l0bGFiIjsKaW1wb3J0IHsgUEFHSU5BVElPTl9TSVpFIH0gZnJvbSAiQC9jb25zdGFudCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiYXBvbGxvSW50bE5vdGlmeSIsCiAgY29tcG9uZW50czogewogICAgVGFibGVPcGVyYXRvcjogVGFibGVPcGVyYXRvciwKICAgIFRhYmxlSGVhZGVyOiBUYWJsZUhlYWRlciwKICAgIFRhYmxlUGFnaW5hdGlvbjogVGFibGVQYWdpbmF0aW9uLAogICAgRGlhbG9nRm9vdGVyOiBEaWFsb2dGb290ZXIKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBvcGVyYXRpb25FbnVtOiBvcGVyYXRpb25FbnVtLAogICAgICBkaWFsb2dGb3JtVmlzaWJsZTogZmFsc2UsCiAgICAgIGNvbmRpdGlvbjoge30sCiAgICAgIG9wZXJhdGlvbjogJycsCiAgICAgIHRhYmxlRGF0YTogW10sCiAgICAgIGN1cnJlbnRQYWdlOiAxLAogICAgICBwYWdlU2l6ZTogUEFHSU5BVElPTl9TSVpFLkxBUkdFLAogICAgICB0b3RhbDogMCwKICAgICAgYXBwT3B0aW9uczogW10sCiAgICAgIGFwcENoYXRGb3JtOiB7CiAgICAgICAgYXBwSWQ6ICcnLAogICAgICAgIGNoYXRJZDogJycKICAgICAgfSwKICAgICAgYXBwQ2hhdFJ1bGVzOiB7CiAgICAgICAgYXBwSWQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fpgInmi6nlupTnlKgnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgY2hhdElkOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36YCJ5oup6YCa55+l576k6IGKJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dCiAgICAgIH0KICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgZm9ybUxhYmVsV2lkdGg6IGZ1bmN0aW9uIGZvcm1MYWJlbFdpZHRoKCkgewogICAgICByZXR1cm4gdmFyaWFibGVzWydmb3JtTGFiZWxXaWR0aCddOwogICAgfSwKICAgIGxvYWRpbmc6IGZ1bmN0aW9uIGxvYWRpbmcoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5sb2FkaW5nOwogICAgfSwKICAgIGNoYXRPcHRpb25zOiBmdW5jdGlvbiBjaGF0T3B0aW9ucygpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmNvdmVyYWdlLmxhcmtDaGF0czsKICAgIH0sCiAgICB0YWJsZTJCdG5XaWR0aDogZnVuY3Rpb24gdGFibGUyQnRuV2lkdGgoKSB7CiAgICAgIHJldHVybiB2YXJpYWJsZXNbJ3RhYmxlMkJ0bldpZHRoJ107CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5nZXRBbGxJbnRsQXBwcygpOwogICAgdGhpcy5nZXRUYWJsZURhdGFJbnRsKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRBbGxJbnRsQXBwczogZnVuY3Rpb24gZ2V0QWxsSW50bEFwcHMoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBkYXRhVG9vbEFwaS5nZXRBcG9sbG9JbnRsQXBwcygpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzLmFwcE9wdGlvbnMgPSByZXMuZGF0YTsKICAgICAgfSk7CiAgICB9LAogICAgb3BlbkVkaXRJbnRsOiBmdW5jdGlvbiBvcGVuRWRpdEludGwocm93KSB7CiAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSB0cnVlOwogICAgICB0aGlzLm9wZXJhdGlvbiA9IG9wZXJhdGlvbkVudW0uQUREOwogICAgICB0aGlzLmFwcENoYXRGb3JtID0gewogICAgICAgIGFwcElkOiAnJywKICAgICAgICBjaGF0SWQ6ICcnCiAgICAgIH07CgogICAgICBpZiAocm93KSB7CiAgICAgICAgdGhpcy5vcGVyYXRpb24gPSBvcGVyYXRpb25FbnVtLkVESVQ7CiAgICAgICAgdGhpcy5hcHBDaGF0Rm9ybSA9IGNsb25lRGVlcChyb3cpOwogICAgICB9CiAgICB9LAogICAgZ2V0VGFibGVEYXRhSW50bDogZnVuY3Rpb24gZ2V0VGFibGVEYXRhSW50bCh2YWx1ZSkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciBwYXJhbXMgPSB7CiAgICAgICAgb2Zmc2V0OiB0aGlzLnBhZ2VTaXplICogKHRoaXMuY3VycmVudFBhZ2UgLSAxKSwKICAgICAgICBsaW1pdDogdGhpcy5wYWdlU2l6ZSwKICAgICAgICBzZWFyY2g6IHZhbHVlID8gdmFsdWUgOiAnJwogICAgICB9OwogICAgICBkYXRhVG9vbEFwaS5nZXRBcG9sbG9JbnRsQXBwQ2hhdChwYXJhbXMpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMi50YWJsZURhdGEgPSByZXMuZGF0YS5kYXRhOwogICAgICAgIF90aGlzMi50b3RhbCA9IHJlcy5kYXRhLnRvdGFsOwogICAgICB9KTsKICAgIH0sCiAgICBzYXZlQ29uZmlnSW50bDogZnVuY3Rpb24gc2F2ZUNvbmZpZ0ludGwoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMub3BlcmF0aW9uID09PSBvcGVyYXRpb25FbnVtLkFERCkgewogICAgICAgIGRhdGFUb29sQXBpLmNyZWF0ZUFwb2xsb0ludGxBcHBDaGF0KHRoaXMuYXBwQ2hhdEZvcm0pLmZpbmFsbHkoZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMzLmRpYWxvZ0Zvcm1WaXNpYmxlID0gZmFsc2U7CgogICAgICAgICAgX3RoaXMzLmdldFRhYmxlRGF0YUludGwoKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBkYXRhVG9vbEFwaS51cGRhdGVBcG9sbG9JbnRsQXBwQ2hhdCh0aGlzLmFwcENoYXRGb3JtLCB0aGlzLmFwcENoYXRGb3JtWydpZCddKS5maW5hbGx5KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzMy5kaWFsb2dGb3JtVmlzaWJsZSA9IGZhbHNlOwoKICAgICAgICAgIF90aGlzMy5nZXRUYWJsZURhdGFJbnRsKCk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBoYW5kbGVkZWxldGVJbnRsOiBmdW5jdGlvbiBoYW5kbGVkZWxldGVJbnRsKHJvdykgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHRoaXMuJGFsZXJ0KCfnoa7orqTliKDpmaTor6XphY3nva4/JywgJycsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soYWN0aW9uKSB7CiAgICAgICAgICBpZiAoYWN0aW9uID09PSAnY29uZmlybScpIHsKICAgICAgICAgICAgZGF0YVRvb2xBcGkuZGVsZXRlQXBvbGxvSW50bEFwcENoYXQocm93LmlkKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICBfdGhpczQuZ2V0VGFibGVEYXRhSW50bCgpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZVNlYXJjaEludGw6IGZ1bmN0aW9uIGhhbmRsZVNlYXJjaEludGwodmFsdWUpIHsKICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IDE7CiAgICAgIHRoaXMuZ2V0VGFibGVEYXRhSW50bCh2YWx1ZSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["apolloIntlNotify.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <el-card class=\"card-content\">\n      <template slot=\"header\">\n        <table-header\n          :condition=\"condition\"\n          create-tip=\"apollo通知配置-出海\"\n          placeholder=\"根据项目名称搜索\"\n          @create=\"openEditIntl\"\n          @search=\"handleSearchIntl\"\n        >\n          <template slot=\"title\">\n            <div>apolloIntl通知配置-出海</div>\n          </template>\n        </table-header>\n      </template>\n      <el-table ref=\"table\" v-loading=\"loading\" :data=\"tableData\">\n\n        <!--  项目名称  -->\n        <el-table-column label=\"应用\" prop=\"appId\"/>\n\n        <!--  群聊  -->\n        <el-table-column label=\"群聊\" prop=\"chatName\"/>\n\n        <!--  操作  -->\n        <el-table-column :width=\"table2BtnWidth\" label=\"操作\">\n          <template slot-scope=\"scope\">\n            <table-operator\n              show-delete\n              show-edit\n              @deleteClick=\"handledeleteIntl(scope.row)\"\n              @editClick=\"openEditIntl(scope.row)\"\n            />\n          </template>\n        </el-table-column>\n      </el-table>\n\n      <table-pagination\n        :change=\"getTableDataIntl\"\n        :current-page.sync=\"currentPage\"\n        :page-size.sync=\"pageSize\"\n        :total=\"total\"\n      />\n    </el-card>\n\n    <el-dialog\n      :close-on-click-modal=\"false\"\n      :visible.sync=\"dialogFormVisible\"\n      class=\"dialog-title\"\n      width=\"65%\"\n    >\n      <template slot=\"title\">\n        <div style=\"text-align: left;\">\n          <span>{{ operation === operationEnum.EDIT? '编辑apollo通知配置' : '创建apollo通知配置' }}</span>\n        </div>\n        <el-divider style=\"width: 100%;\"></el-divider>\n      </template>\n\n      <el-form ref=\"apolloIntlNotifyForm\" :model=\"appChatForm\" :rules=\"appChatRules\" :label-width=\"formLabelWidth\">\n        <el-row>\n          <el-col :offset=\"1\" :span=\"10\">\n            <el-form-item label=\"应用\" prop=\"appId\">\n              <el-select v-model=\"appChatForm.appId\" filterable placeholder=\"请选择应用\" style=\"width: 100%\">\n                <el-option\n                  v-for=\"item in appOptions\"\n                  :key=\"item.id\"\n                  :label=\"item.appId\"\n                  :value=\"item.appId\"\n                />\n              </el-select>\n            </el-form-item>\n          </el-col>\n\n          <el-col :span=\"10\">\n            <el-form-item label=\"推送群聊\" prop=\"chatId\">\n              <el-select\n                v-model=\"appChatForm.chatId\"\n                filterable\n                placeholder=\"请选择需要通知的群\"\n                style=\"width: 100%;\"\n              >\n                <el-option\n                  v-for=\"item in chatOptions\"\n                  :key=\"item.chatId\"\n                  :label=\"item.name\"\n                  :value=\"item.chatId\"\n                />\n              </el-select>\n            </el-form-item>\n          </el-col>\n        </el-row>\n      </el-form>\n\n      <template slot=\"footer\">\n        <dialog-footer @cancel=\"dialogFormVisible = false\" @confirm=\"saveConfigIntl\"/>\n      </template>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport variables from \"@/assets/css/utils.scss\"\nimport {dataToolApi} from \"@/api\";\nimport {cloneDeep} from \"lodash\"\nimport TableOperator from \"@/common/components/TableOperator\";\nimport TableHeader from \"@/common/components/TableHeader\";\nimport TablePagination from \"@/common/components/pagination/TablePagination\";\nimport DialogFooter from \"@/common/components/DialogFooter\";\nimport {operationEnum} from \"@/constant/Gitlab\";\nimport {PAGINATION_SIZE} from \"@/constant\";\nexport default {\n  name: \"apolloIntlNotify\",\n  components: {\n    TableOperator,\n    TableHeader,\n    TablePagination,\n    DialogFooter,\n  },\n  data() {\n    return {\n      operationEnum: operationEnum,\n      dialogFormVisible: false,\n      condition: {},\n      operation: '',\n      tableData: [],\n      currentPage: 1,\n      pageSize: PAGINATION_SIZE.LARGE,\n      total: 0,\n      appOptions: [],\n      appChatForm:{\n        appId: '',\n        chatId: ''\n      },\n      appChatRules: {\n        appId: [{required: true, message: '请选择应用', trigger: 'blur'}],\n        chatId: [{required: true, message: '请选择通知群聊', trigger: 'blur'}],\n      }\n    }\n  },\n  computed: {\n    formLabelWidth() {\n      return variables['formLabelWidth']\n    },\n    loading() {\n      return this.$store.state.loading\n    },\n    chatOptions() {\n      return this.$store.state.coverage.larkChats\n    },\n    table2BtnWidth() {\n      return variables['table2BtnWidth']\n    },\n\n  },\n  mounted() {\n    this.getAllIntlApps()\n    this.getTableDataIntl()\n  },\n  methods: {\n    getAllIntlApps() {\n      dataToolApi.getApolloIntlApps().then(res => {\n        this.appOptions = res.data\n      })\n    },\n    openEditIntl(row) {\n      this.dialogFormVisible = true\n      this.operation = operationEnum.ADD\n      this.appChatForm = {\n        appId: '',\n        chatId: ''\n      }\n      if (row) {\n        this.operation = operationEnum.EDIT\n        this.appChatForm = cloneDeep(row)\n      }\n    },\n    getTableDataIntl(value) {\n      const params = {\n        offset: this.pageSize * (this.currentPage - 1),\n        limit: this.pageSize,\n        search: value ? value : ''\n      }\n      dataToolApi.getApolloIntlAppChat(params).then(res => {\n        this.tableData = res.data.data\n        this.total = res.data.total\n      })\n    },\n    saveConfigIntl() {\n      if (this.operation === operationEnum.ADD){\n        dataToolApi.createApolloIntlAppChat(this.appChatForm).finally(() => {\n          this.dialogFormVisible = false\n          this.getTableDataIntl()\n        })\n      } else {\n        dataToolApi.updateApolloIntlAppChat(this.appChatForm, this.appChatForm['id']).finally(() => {\n          this.dialogFormVisible = false\n          this.getTableDataIntl()\n        })\n      }\n    },\n    handledeleteIntl(row) {\n      this.$alert('确认删除该配置?', '', {\n        confirmButtonText: '确定',\n        showCancelButton: true,\n        cancelButtonText: '取消',\n        callback: (action) => {\n          if (action === 'confirm') {\n            dataToolApi.deleteApolloIntlAppChat(row.id)\n              .then(() => {\n                this.getTableDataIntl()\n              })\n          }\n        }\n      })\n    },\n    handleSearchIntl(value) {\n      this.currentPage = 1\n      this.getTableDataIntl(value)\n    }\n\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n"],"sourceRoot":"src/pages/testTools"}]}