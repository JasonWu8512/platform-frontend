{"remainingRequest":"/Users/jlglqa/Documents/QA/noa/node_modules/thread-loader/dist/cjs.js!/Users/jlglqa/Documents/QA/noa/node_modules/babel-loader/lib/index.js!/Users/jlglqa/Documents/QA/noa/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/jlglqa/Documents/QA/noa/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jlglqa/Documents/QA/noa/src/pages/Team/components/MonthResourceReport.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jlglqa/Documents/QA/noa/src/pages/Team/components/MonthResourceReport.vue","mtime":1655949681769},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/cache-loader/dist/cjs.js","mtime":1644298102062},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/thread-loader/dist/cjs.js","mtime":1644298102066},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/babel-loader/lib/index.js","mtime":1644314985388},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/cache-loader/dist/cjs.js","mtime":1644298102062},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/vue-loader/lib/index.js","mtime":1644314988580}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgamlyYUFwaSB9IGZyb20gIkAvYXBpIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJNb250aFJlc291cmNlUmVwb3J0IiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIG1vbnRoOiAnJywKICAgICAgdGFibGVEYXRhOiBbXSwKICAgICAgY29sdW1uczogW3sKICAgICAgICBsYWJlbDogIumDqOmXqCIsCiAgICAgICAgcHJvcDogImRlcGFydE5hbWUiLAogICAgICAgIGVkaXRhYmxlOiBmYWxzZQogICAgICB9LCB7CiAgICAgICAgbGFiZWw6ICLotJ/otKPkuroiLAogICAgICAgIHByb3A6ICJsZWFkZXIiLAogICAgICAgIGVkaXRhYmxlOiBmYWxzZQogICAgICB9LCB7CiAgICAgICAgbGFiZWw6ICLkurrmlbAiLAogICAgICAgIHByb3A6ICJwZW9wbGVDb3VudCIsCiAgICAgICAgZWRpdGFibGU6IGZhbHNlCiAgICAgIH0sIHsKICAgICAgICBsYWJlbDogIuW3peS9nOaXpSIsCiAgICAgICAgcHJvcDogIndvcmtEYXlzIiwKICAgICAgICBlZGl0YWJsZTogZmFsc2UKICAgICAgfSwgewogICAgICAgIGxhYmVsOiAi5oC75bel5pe2IiwKICAgICAgICBwcm9wOiAidG90YWxXb3JraW5nRGF5cyIsCiAgICAgICAgZWRpdGFibGU6IGZhbHNlCiAgICAgIH0sIHsKICAgICAgICBsYWJlbDogIuS4iuaciOW8gOWniyzmnKzmnIjlrozmiJAiLAogICAgICAgIHByb3A6ICJwcmVEZXBhcnRtZW50RGF5cyIsCiAgICAgICAgZWRpdGFibGU6IGZhbHNlCiAgICAgIH0sIHsKICAgICAgICBsYWJlbDogIuacrOaciOW8gOWniyzmnKzmnIjlrozmiJAiLAogICAgICAgIHByb3A6ICJjdXJyZW50RGVwYXJ0bWVudERheXMiLAogICAgICAgIGVkaXRhYmxlOiBmYWxzZQogICAgICB9LCB7CiAgICAgICAgbGFiZWw6ICLmnKzmnIjlvIDlp4ss5LiL5pyI5a6M5oiQIiwKICAgICAgICBwcm9wOiAibmV4dERlcGFydG1lbnREYXlzIiwKICAgICAgICBlZGl0YWJsZTogZmFsc2UKICAgICAgfSwgewogICAgICAgIGxhYmVsOiAi5bel5pe25beu5YC8IiwKICAgICAgICBwcm9wOiAidGFyZ2V0RGF5c0RpZmYiLAogICAgICAgIGVkaXRhYmxlOiBmYWxzZQogICAgICB9LCB7CiAgICAgICAgbGFiZWw6ICLppbHlkozluqYiLAogICAgICAgIHByb3A6ICJwcm9kdWN0aXZpdHkiLAogICAgICAgIGVkaXRhYmxlOiBmYWxzZQogICAgICB9LCB7CiAgICAgICAgbGFiZWw6ICLlpIfms6giLAogICAgICAgIHByb3A6ICJtYXJrIiwKICAgICAgICBlZGl0YWJsZTogdHJ1ZQogICAgICB9XQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldGRhdGF0aW1lKCk7CiAgfSwKICB3YXRjaDogewogICAgbW9udGg6IGZ1bmN0aW9uIG1vbnRoKCkgewogICAgICB0aGlzLmdldE1vbnRoUmVwb3J0KCk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRkYXRhdGltZTogZnVuY3Rpb24gZ2V0ZGF0YXRpbWUoKSB7CiAgICAgIHRoaXMubW9udGggPSBuZXcgRGF0ZSgpLmZvcm1hdCgieXl5eS1NTSIpOwogICAgfSwKICAgIGdldE1vbnRoUmVwb3J0OiBmdW5jdGlvbiBnZXRNb250aFJlcG9ydCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIGppcmFBcGkuZ2V0TW9udGhSZXNvdXJjZVJlcG9ydCh7CiAgICAgICAgbW9udGg6IHRoaXMubW9udGgKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMudGFibGVEYXRhID0gcmVzLmRhdGEubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICBpZDogaXRlbS5pZCwKICAgICAgICAgICAgZGVwYXJ0TmFtZTogaXRlbS5kZXBhcnROYW1lLAogICAgICAgICAgICBsZWFkZXI6IGl0ZW0ubGVhZGVyLAogICAgICAgICAgICBwZW9wbGVDb3VudDogaXRlbS5wZW9wbGVDb3VudCwKICAgICAgICAgICAgd29ya0RheXM6IGl0ZW0ud29ya0RheXMsCiAgICAgICAgICAgIHRvdGFsV29ya2luZ0RheXM6IGl0ZW0udG90YWxXb3JraW5nRGF5cywKICAgICAgICAgICAgcHJlRGVwYXJ0bWVudERheXM6IGl0ZW0ucHJlRGVwYXJ0bWVudERheXMsCiAgICAgICAgICAgIGN1cnJlbnREZXBhcnRtZW50RGF5czogaXRlbS5jdXJyZW50RGVwYXJ0bWVudERheXMsCiAgICAgICAgICAgIG5leHREZXBhcnRtZW50RGF5czogaXRlbS5uZXh0RGVwYXJ0bWVudERheXMsCiAgICAgICAgICAgIHRhcmdldERheXNEaWZmOiBpdGVtLnRhcmdldERheXNEaWZmLAogICAgICAgICAgICBwcm9kdWN0aXZpdHk6IGl0ZW0ucHJvZHVjdGl2aXR5LAogICAgICAgICAgICBtYXJrOiBpdGVtLm1hcmssCiAgICAgICAgICAgIGVkaXRhYmxlOiBpdGVtLmVkaXRhYmxlCiAgICAgICAgICB9OwogICAgICAgIH0pOwogICAgICAgIF90aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgY2hhbmdlTWFyazogZnVuY3Rpb24gY2hhbmdlTWFyayhyb3cpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBqaXJhQXBpLmVkaXRNb250aFJlc291cmNlUmVwb3J0KHJvdy5pZCwgcm93KS50aGVuKCAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnMKICAgICAgZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMi5nZXRNb250aFJlcG9ydCgpOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["MonthResourceReport.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <el-card style=\"margin-top: 20px\">\n      <div slot=\"header\" class=\"title\">\n        <span>月度资源报告</span>\n        <el-date-picker\n          v-model=\"month\"\n          :clearable=\"false\"\n          placeholder=\"选择月\"\n          type=\"month\"\n          value-format=\"yyyy-MM\"\n          style=\"width: 200px;float: right; padding: 3px 0; border: 0;\"\n        />\n      </div>\n      <el-table :data=\"tableData\"\n                row-key=\"id\"\n                size=\"medium\"\n                v-loading=\"loading\" style=\"margin-top: -10px\">\n        <template v-for=\"col in columns\">\n          <el-table-column :prop=\"col.prop\" :label=\"col.label\" :key=\"col.prop\" :width=\"col.width\">\n            <template slot-scope=\"scope\">\n              <el-input v-if=\"col.editable\" style=\"width: 60%\"\n                        @change=\"changeMark(scope.row)\"\n                        @keyup.enter.native=\"$event.target.blur\"\n                        v-model=\"scope.row[col.prop]\"></el-input>\n              <span v-else>{{scope.row[col.prop]}}</span>\n            </template>\n          </el-table-column>\n        </template>\n      </el-table>\n    </el-card>\n  </div>\n\n</template>\n\n<script>\nimport {jiraApi} from \"@/api\";\n\nexport default {\n  name: \"MonthResourceReport\",\n  data() {\n    return{\n      loading: false,\n      month: '',\n      tableData: [],\n      columns: [\n        {\n          label: \"部门\",\n          prop: \"departName\",\n          editable: false,\n        },\n        {\n          label: \"负责人\",\n          prop: \"leader\",\n          editable: false,\n        },\n        {\n          label: \"人数\",\n          prop: \"peopleCount\",\n          editable: false,\n        },\n        {\n          label: \"工作日\",\n          prop: \"workDays\",\n          editable: false,\n        },\n        {\n          label: \"总工时\",\n          prop: \"totalWorkingDays\",\n          editable: false,\n        },\n        {\n          label: \"上月开始,本月完成\",\n          prop: \"preDepartmentDays\",\n          editable: false,\n        },\n        {\n          label: \"本月开始,本月完成\",\n          prop: \"currentDepartmentDays\",\n          editable: false,\n        },\n        {\n          label: \"本月开始,下月完成\",\n          prop: \"nextDepartmentDays\",\n          editable: false,\n        },\n        {\n          label: \"工时差值\",\n          prop: \"targetDaysDiff\",\n          editable: false,\n        },\n        {\n          label: \"饱和度\",\n          prop: \"productivity\",\n          editable: false,\n        },\n        {\n          label: \"备注\",\n          prop: \"mark\",\n          editable: true,\n        }\n      ]\n    }\n\n  },\n  mounted() {\n    this.getdatatime()\n  },\n  watch: {\n    month() {\n      this.getMonthReport()\n    }\n  },\n  methods: {\n    getdatatime(){\n      this.month = new Date().format(\"yyyy-MM\");\n    },\n    getMonthReport(){\n      this.loading = true\n      jiraApi.getMonthResourceReport({month: this.month}).then(res => {\n        this.tableData = res.data.map(item => {\n          return{\n            id: item.id,\n            departName: item.departName,\n            leader: item.leader,\n            peopleCount: item.peopleCount,\n            workDays: item.workDays,\n            totalWorkingDays: item.totalWorkingDays,\n            preDepartmentDays: item.preDepartmentDays,\n            currentDepartmentDays: item.currentDepartmentDays,\n            nextDepartmentDays: item.nextDepartmentDays,\n            targetDaysDiff: item.targetDaysDiff,\n            productivity: item.productivity,\n            mark: item.mark,\n            editable: item.editable\n          }\n        })\n        this.loading = false\n      })\n\n    },\n    changeMark(row) {\n      jiraApi.editMonthResourceReport(row.id, row).then(\n        // eslint-disable-next-line no-unused-vars\n        res => {\n          this.getMonthReport()\n        }\n      )\n    },\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n.title {\n  font-size: 20px;\n  font-weight: 700;\n  margin-left: 5px;\n  line-height: 35px;\n  text-align: left;\n}\n</style>\n"],"sourceRoot":"src/pages/Team/components"}]}