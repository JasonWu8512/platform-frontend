{"remainingRequest":"/Users/jlglqa/Documents/QA/noa/node_modules/thread-loader/dist/cjs.js!/Users/jlglqa/Documents/QA/noa/node_modules/babel-loader/lib/index.js!/Users/jlglqa/Documents/QA/noa/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/jlglqa/Documents/QA/noa/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jlglqa/Documents/QA/noa/src/pages/login/selfPassword.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jlglqa/Documents/QA/noa/src/pages/login/selfPassword.vue","mtime":1655949681778},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/cache-loader/dist/cjs.js","mtime":1644298102062},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/thread-loader/dist/cjs.js","mtime":1644298102066},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/babel-loader/lib/index.js","mtime":1644314985388},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/cache-loader/dist/cjs.js","mtime":1644298102062},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/vue-loader/lib/index.js","mtime":1644314988580}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHVzZXJBcGkgZnJvbSAiQC9hcGkvdXNlciI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICB2YXIgdmFsaWRhdGVQYXNzMiA9IGZ1bmN0aW9uIHZhbGlkYXRlUGFzczIocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSB7CiAgICAgIGlmICh2YWx1ZSA9PT0gJycpIHsKICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ+ivt+ehruiupOaWsOWvhueggScpKTsKICAgICAgfSBlbHNlIGlmICh2YWx1ZSAhPT0gX3RoaXMuZWRpdERhdGEubmV3cGFzc3dvcmQpIHsKICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ+S4pOasoei+k+WFpeWvhueggeS4jeS4gOiHtCEnKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY2FsbGJhY2soKTsKICAgICAgfQogICAgfTsKCiAgICByZXR1cm4gewogICAgICBlZGl0RGF0YTogewogICAgICAgIG9sZHBhc3N3b3JkOiAiIiwKICAgICAgICBuZXdwYXNzd29yZDogIiIsCiAgICAgICAgbmV3cGFzc3dvcmQyOiAiIgogICAgICB9LAogICAgICBydWxlczogewogICAgICAgIG9sZHBhc3N3b3JkOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6K+35aGr5YaZ5pen5a+G56CBIiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIG5ld3Bhc3N3b3JkOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi6K+35aGr5YaZ5paw5a+G56CBIiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIG5ld3Bhc3N3b3JkMjogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgdmFsaWRhdG9yOiB2YWxpZGF0ZVBhc3MyLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0KICAgICAgfQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICB1c2VySWQ6IGZ1bmN0aW9uIHVzZXJJZCgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmxvZ2luLnVzZXJpZDsKICAgIH0sCiAgICB1c2VyTmFtZTogZnVuY3Rpb24gdXNlck5hbWUoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5sb2dpbi51c2VybmFtZTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICAvLyDov5vlhaXpobXpnaLvvIzpmpDol4/kvqfovrnmoI8KICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnU0VUX0FTSURFSElEREVOJywgdHJ1ZSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBjYW5jZWxGdW46IGZ1bmN0aW9uIGNhbmNlbEZ1bigpIHsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdTRVRfQVNJREVISURERU4nLCBmYWxzZSk7CiAgICAgIHRoaXMuJHJvdXRlci5nbygtMSk7IC8v6L+U5Zue5LiK5LiA5bGCCiAgICB9LAogICAgc3VyZUZ1bjogZnVuY3Rpb24gc3VyZUZ1bigpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLiRyZWZzLmFkZEZvcm0udmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICB2YXIgcGFyYW1zID0gewogICAgICAgICAgICBvbGRwYXNzd29yZDogX3RoaXMyLmVkaXREYXRhLm9sZHBhc3N3b3JkLAogICAgICAgICAgICBuZXdwYXNzd29yZDogX3RoaXMyLmVkaXREYXRhLm5ld3Bhc3N3b3JkCiAgICAgICAgICB9OwogICAgICAgICAgdXNlckFwaS5yZXNldFBhc3N3b3JkKF90aGlzMi51c2VySWQsIHBhcmFtcykudGhlbiggLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzCiAgICAgICAgICBmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgIF90aGlzMi4kbWVzc2FnZS5zdWNjZXNzKHsKICAgICAgICAgICAgICBtZXNzYWdlOiAi5a+G56CB5L+u5pS55oiQ5Yqf77yBIiwKICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBfdGhpczIuJHN0b3JlLmNvbW1pdCgnU0VUX0FTSURFSElEREVOJywgZmFsc2UpOwoKICAgICAgICAgICAgX3RoaXMyLiRyb3V0ZXIuZ28oLTEpOyAvL+i/lOWbnuS4iuS4gOWxggoKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkge30KfTs="},{"version":3,"sources":["selfPassword.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA,OAAA,OAAA,MAAA,YAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,gBAAA;AAAA;;AACA,QAAA,aAAA,GAAA,SAAA,aAAA,CAAA,IAAA,EAAA,KAAA,EAAA,QAAA,EAAA;AACA,UAAA,KAAA,KAAA,EAAA,EAAA;AACA,QAAA,QAAA,CAAA,IAAA,KAAA,CAAA,QAAA,CAAA,CAAA;AACA,OAFA,MAEA,IAAA,KAAA,KAAA,KAAA,CAAA,QAAA,CAAA,WAAA,EAAA;AACA,QAAA,QAAA,CAAA,IAAA,KAAA,CAAA,YAAA,CAAA,CAAA;AACA,OAFA,MAEA;AACA,QAAA,QAAA;AACA;AACA,KARA;;AASA,WAAA;AACA,MAAA,QAAA,EAAA;AACA,QAAA,WAAA,EAAA,EADA;AAEA,QAAA,WAAA,EAAA,EAFA;AAGA,QAAA,YAAA,EAAA;AAHA,OADA;AAMA,MAAA,KAAA,EAAA;AACA,QAAA,WAAA,EAAA,CACA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,QAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SADA,CADA;AAIA,QAAA,WAAA,EAAA,CACA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,QAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SADA,CAJA;AAOA,QAAA,YAAA,EAAA,CACA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,SAAA,EAAA,aAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SADA;AAPA;AANA,KAAA;AAkBA,GA7BA;AA8BA,EAAA,QAAA,EAAA;AACA,IAAA,MADA,oBACA;AACA,aAAA,KAAA,MAAA,CAAA,KAAA,CAAA,KAAA,CAAA,MAAA;AACA,KAHA;AAIA,IAAA,QAJA,sBAIA;AACA,aAAA,KAAA,MAAA,CAAA,KAAA,CAAA,KAAA,CAAA,QAAA;AACA;AANA,GA9BA;AAsCA,EAAA,OAtCA,qBAsCA;AACA;AACA,SAAA,MAAA,CAAA,MAAA,CAAA,iBAAA,EAAA,IAAA;AACA,GAzCA;AA0CA,EAAA,OAAA,EAAA;AACA,IAAA,SADA,uBACA;AACA,WAAA,MAAA,CAAA,MAAA,CAAA,iBAAA,EAAA,KAAA;AACA,WAAA,OAAA,CAAA,EAAA,CAAA,CAAA,CAAA,EAFA,CAEA;AACA,KAJA;AAKA,IAAA,OALA,qBAKA;AAAA;;AACA,WAAA,KAAA,CAAA,OAAA,CAAA,QAAA,CAAA,UAAA,KAAA,EAAA;AACA,YAAA,KAAA,EAAA;AACA,cAAA,MAAA,GAAA;AACA,YAAA,WAAA,EAAA,MAAA,CAAA,QAAA,CAAA,WADA;AAEA,YAAA,WAAA,EAAA,MAAA,CAAA,QAAA,CAAA;AAFA,WAAA;AAIA,UAAA,OAAA,CAAA,aAAA,CAAA,MAAA,CAAA,MAAA,EAAA,MAAA,EAAA,IAAA,EACA;AACA,oBAAA,GAAA,EAAA;AACA,YAAA,MAAA,CAAA,QAAA,CAAA,OAAA,CAAA;AACA,cAAA,OAAA,EAAA,SADA;AAEA,cAAA,IAAA,EAAA;AAFA,aAAA;;AAIA,YAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,iBAAA,EAAA,KAAA;;AACA,YAAA,MAAA,CAAA,OAAA,CAAA,EAAA,CAAA,CAAA,CAAA,EANA,CAMA;;AACA,WATA;AAWA;AACA,OAlBA;AAmBA;AAzBA,GA1CA;AAqEA,EAAA,OArEA,qBAqEA,CACA;AAtEA,CAAA","sourcesContent":["<template>\n  <el-card>\n    <div>\n      <i class=\"q-icon fa fa-user\"></i>\n      <el-breadcrumb separator=\"/\">\n        <el-breadcrumb-item>用户管理</el-breadcrumb-item>\n        <el-breadcrumb-item>修改密码</el-breadcrumb-item>\n      </el-breadcrumb>\n    </div>\n    <el-form ref=\"addForm\" :model=\"editData\" :rules=\"rules\" class=\"addForm\" label-width=\"100px\">\n      <el-form-item label=\" \">\n        <p style=\"color:#999;\">（ 这里的修改只针对本平台有效！）</p>\n      </el-form-item>\n      <el-form-item label=\"旧密码：\" prop=\"oldpassword\">\n        <el-input v-model=\"editData.oldpassword\" type=\"password\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"新密码：\" prop=\"newpassword\">\n        <el-input v-model=\"editData.newpassword\" type=\"password\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"确认密码：\" prop=\"newpassword2\">\n        <el-input v-model=\"editData.newpassword2\" type=\"password\"></el-input>\n      </el-form-item>\n      <el-form-item>\n        <el-button @click=\"cancelFun\">取消</el-button>\n        <el-button type=\"primary\" @click=\"sureFun\">确定</el-button>\n      </el-form-item>\n    </el-form>\n  </el-card>\n</template>\n<script>\nimport userApi from \"@/api/user\"\n\nexport default {\n  data: function () {\n    var validatePass2 = (rule, value, callback) => {\n      if (value === '') {\n        callback(new Error('请确认新密码'));\n      } else if (value !== this.editData.newpassword) {\n        callback(new Error('两次输入密码不一致!'));\n      } else {\n        callback();\n      }\n    };\n    return {\n      editData: {\n        oldpassword: \"\",\n        newpassword: \"\",\n        newpassword2: \"\",\n      },\n      rules: {\n        oldpassword: [\n          {required: true, message: \"请填写旧密码\", trigger: \"blur\"}\n        ],\n        newpassword: [\n          {required: true, message: \"请填写新密码\", trigger: \"blur\"}\n        ],\n        newpassword2: [\n          {required: true, validator: validatePass2, trigger: \"blur\"}\n        ]\n      }\n    };\n  },\n  computed: {\n    userId() {\n      return this.$store.state.login.userid;\n    },\n    userName() {\n      return this.$store.state.login.username;\n    }\n  },\n  created() {\n    // 进入页面，隐藏侧边栏\n    this.$store.commit('SET_ASIDEHIDDEN', true)\n  },\n  methods: {\n    cancelFun() {\n      this.$store.commit('SET_ASIDEHIDDEN', false)\n      this.$router.go(-1); //返回上一层\n    },\n    sureFun() {\n      this.$refs.addForm.validate(valid => {\n        if (valid) {\n          let params = {\n            oldpassword: this.editData.oldpassword,\n            newpassword: this.editData.newpassword\n          };\n          userApi.resetPassword(this.userId, params).then(\n              // eslint-disable-next-line no-unused-vars\n              res => {\n                this.$message.success({\n                  message: \"密码修改成功！\",\n                  type: \"success\"\n                });\n                this.$store.commit('SET_ASIDEHIDDEN', false)\n                this.$router.go(-1); //返回上一层\n              },\n          );\n        }\n      });\n    },\n  },\n  mounted() {\n  }\n};\n</script>\n<style lang=\"scss\" scoped>\n.addForm {\n  width: 500px;\n}\n</style>\n"],"sourceRoot":"src/pages/login"}]}