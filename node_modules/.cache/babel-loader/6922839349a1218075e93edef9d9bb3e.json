{"remainingRequest":"/Users/jlglqa/Documents/QA/noa/node_modules/babel-loader/lib/index.js!/Users/jlglqa/Documents/QA/noa/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/jlglqa/Documents/QA/noa/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jlglqa/Documents/QA/noa/src/pages/dashboard/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jlglqa/Documents/QA/noa/src/pages/dashboard/index.vue","mtime":1667183519689},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/cache-loader/dist/cjs.js","mtime":1644298102062},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/babel-loader/lib/index.js","mtime":1644314985388},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/cache-loader/dist/cjs.js","mtime":1644298102062},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/vue-loader/lib/index.js","mtime":1644314988580}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBqaXJhQXBpIGZyb20gJ0AvYXBpL2ppcmEnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImRhc2hib2FyZCIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHZhbHVlOiBbXSwKICAgICAgcHJvaklkOiAnJywKICAgICAgYWN0aXZlRHJvcDogJ+WFqOmDqOmhueebricsCiAgICAgIGJ1Z19zdW1tYXJ5OiBbXQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBwcm9qZWN0czogZnVuY3Rpb24gcHJvamVjdHMoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5qaXJhLnByb2plY3RzOwogICAgfSwKICAgIHRpbWVEZWZhdWx0OiBmdW5jdGlvbiB0aW1lRGVmYXVsdCgpIHsKICAgICAgdmFyIHRpbWUxID0gbmV3IERhdGUoKTsKICAgICAgdGltZTEuc2V0VGltZSh0aW1lMS5nZXRUaW1lKCkgLSAyNCAqIDYwICogNjAgKiAxMDAwKTsKICAgICAgdmFyIFkxID0gdGltZTEuZ2V0RnVsbFllYXIoKTsKICAgICAgdmFyIE0xID0gdGltZTEuZ2V0TW9udGgoKSArIDEgPiA5ID8gdGltZTEuZ2V0TW9udGgoKSArIDEgOiAnMCcgKyAodGltZTEuZ2V0TW9udGgoKSArIDEpOwogICAgICB2YXIgRDEgPSB0aW1lMS5nZXREYXRlKCkgPiA5ID8gdGltZTEuZ2V0RGF0ZSgpIDogJzAnICsgdGltZTEuZ2V0RGF0ZSgpOwogICAgICB2YXIgdGltZXIxID0gWTEgKyAnLScgKyBNMSArICctJyArIEQxOyAvLyDlvZPliY3ml7bpl7QKCiAgICAgIHZhciB0aW1lMiA9IG5ldyBEYXRlKCk7IC8vIOW+gOWJjTMw5aSpCgogICAgICB0aW1lMi5zZXRUaW1lKHRpbWUyLmdldFRpbWUoKSAtIDI0ICogNjAgKiA2MCAqIDEwMDAgKiAzMCk7CiAgICAgIHZhciBZMiA9IHRpbWUyLmdldEZ1bGxZZWFyKCk7CiAgICAgIHZhciBNMiA9IHRpbWUyLmdldE1vbnRoKCkgKyAxID4gOSA/IHRpbWUyLmdldE1vbnRoKCkgKyAxIDogJzAnICsgKHRpbWUyLmdldE1vbnRoKCkgKyAxKTsKICAgICAgdmFyIEQyID0gdGltZTIuZ2V0RGF0ZSgpID4gOSA/IHRpbWUyLmdldERhdGUoKSA6ICcwJyArIHRpbWUyLmdldERhdGUoKTsKICAgICAgdmFyIHRpbWVyMiA9IFkyICsgJy0nICsgTTIgKyAnLScgKyBEMjsgLy8g5LmL5YmN55qEN+WkqeaIluiAhTMw5aSpCiAgICAgIC8vIGNvbnNvbGUubG9nKHRpbWVyMSwgdGltZXIyKQoKICAgICAgcmV0dXJuIFt0aW1lcjIsIHRpbWVyMV07CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBjaGFuZ2VfcHJvamlkOiBmdW5jdGlvbiBjaGFuZ2VfcHJvamlkKGNvbW1hbmQpIHsKICAgICAgaWYgKGNvbW1hbmQgPCAwKSB7CiAgICAgICAgdGhpcy5wcm9qSWQgPSAnJzsKICAgICAgICB0aGlzLmFjdGl2ZURyb3AgPSAn5YWo6YOo6aG555uuJzsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnByb2pJZCA9IHRoaXMucHJvamVjdHNbY29tbWFuZF0uaWQ7CiAgICAgICAgdGhpcy5hY3RpdmVEcm9wID0gdGhpcy5wcm9qZWN0c1tjb21tYW5kXS5uYW1lOwogICAgICB9CgogICAgICB0aGlzLmdldEJ1Z1N1bW1hcnkoKTsKICAgIH0sCiAgICBnZXRCdWdTdW1tYXJ5OiBmdW5jdGlvbiBnZXRCdWdTdW1tYXJ5KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgLy8gY29uc29sZS5sb2coJ2RhdGVyYW5nZScsIHRoaXMudmFsdWUpCiAgICAgIC8vIGNvbnNvbGUubG9nKCdwcm9qcycsIHRoaXMucHJvamVjdHMpCiAgICAgIGppcmFBcGkuZ2V0QnVnU3VtbWFyeSh7CiAgICAgICAgc3RhcnRfZGF0ZTogdGhpcy52YWx1ZVswXSwKICAgICAgICBlbmRfZGF0ZTogdGhpcy52YWx1ZVsxXSwKICAgICAgICBwcm9qSWQ6IHRoaXMucHJvaklkCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzLmJ1Z19zdW1tYXJ5ID0gcmVzLmRhdGE7CiAgICAgIH0pOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIC8vIGNvbnNvbGUubG9nKCdwcm9qcycsIHRoaXMuJHN0b3JlLnN0YXRlLmppcmEucHJvamVjdHMpCiAgICB0aGlzLnZhbHVlID0gdGhpcy50aW1lRGVmYXVsdDsKICAgIHRoaXMuZ2V0QnVnU3VtbWFyeSgpOwogIH0KfTs="},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <el-header class=\"dashboard-header\" height=\"40px\">\n      <el-row>\n        <el-col class=\"dashboard-header-col\">\n          <el-dropdown placement=\"\" @command=\"change_projid\">\n          <span class=\"el-dropdown-link\">\n        {{ activeDrop }}\n            <i class=\"el-icon-arrow-down el-icon--right\"/>\n            <el-dropdown-menu>\n              <el-dropdown-item command=\"-1\">全部项目</el-dropdown-item>\n              <el-dropdown-item\n                  v-for=\"(item,index) in projects\"\n                  :key=\"index\"\n                  :command=\"index\"\n              >\n                {{ item.name }}\n              </el-dropdown-item>\n            </el-dropdown-menu>\n      </span>\n          </el-dropdown>\n          <el-date-picker\n              v-model=\"value\"\n              :default-time=\"['00:00:00', '23:59:59']\"\n              align=\"right\"\n              end-placeholder=\"结束日期\"\n              range-separator=\"至\"\n              start-placeholder=\"开始日期\"\n              style=\"margin-left: 20px\"\n              type=\"daterange\"\n              unlink-panels\n              value-format=\"yyyy-MM-dd\"\n              @change=\"getBugSummary\">\n          </el-date-picker>\n        </el-col>\n      </el-row>\n    </el-header>\n    <div style=\"margin: 20px 0\">\n      <el-card shadow=\"never\" style=\"padding: 16px; border: none\">\n        <el-row>\n          <el-col v-for=\"(data, index) in bug_summary\" :key=\"index\" :span=\"8\">\n            <div class=\"col-title-style\">\n              <span>{{ data.name }}</span>\n            </div>\n            <div class=\"col-data-style\">\n              <span>{{ data.data }}</span>\n            </div>\n            <div v-if=\"index > 0\" class=\"yBar\"></div>\n          </el-col>\n        </el-row>\n      </el-card>\n    </div>\n  </div>\n\n\n</template>\n\n<script>\nimport jiraApi from '@/api/jira'\n\nexport default {\n  name: \"dashboard\",\n  data() {\n    return {\n      value: [],\n      projId: '',\n      activeDrop: '全部项目',\n      bug_summary: []\n    }\n  },\n  computed: {\n    projects() {\n      return this.$store.state.jira.projects\n    },\n    timeDefault() {\n      let time1 = new Date()\n      time1.setTime(time1.getTime() - (24 * 60 * 60 * 1000))\n      let Y1 = time1.getFullYear()\n      let M1 = ((time1.getMonth() + 1) > 9 ? (time1.getMonth() + 1) : '0' + (time1.getMonth() + 1))\n      let D1 = (time1.getDate() > 9 ? time1.getDate() : '0' + time1.getDate())\n      let timer1 = Y1 + '-' + M1 + '-' + D1 // 当前时间\n      let time2 = new Date()\n      // 往前30天\n      time2.setTime(time2.getTime() - (24 * 60 * 60 * 1000 * 30))\n      let Y2 = time2.getFullYear()\n      let M2 = ((time2.getMonth() + 1) > 9 ? (time2.getMonth() + 1) : '0' + (time2.getMonth() + 1))\n      let D2 = (time2.getDate() > 9 ? time2.getDate() : '0' + time2.getDate())\n      let timer2 = Y2 + '-' + M2 + '-' + D2 // 之前的7天或者30天\n      // console.log(timer1, timer2)\n      return [timer2, timer1]\n    }\n\n  },\n  methods: {\n    change_projid(command) {\n      if (command < 0) {\n        this.projId = '';\n        this.activeDrop = '全部项目';\n      } else {\n        this.projId = this.projects[command].id;\n        this.activeDrop = this.projects[command].name;\n      }\n      this.getBugSummary()\n    },\n    getBugSummary() {\n      // console.log('daterange', this.value)\n      // console.log('projs', this.projects)\n      jiraApi.getBugSummary({start_date: this.value[0], end_date: this.value[1], projId: this.projId}).then(res => {\n        this.bug_summary = res.data\n      })\n    }\n  },\n  mounted() {\n    // console.log('projs', this.$store.state.jira.projects)\n    this.value = this.timeDefault\n    this.getBugSummary()\n  }\n}\n</script>\n\n\n<style lang=\"scss\" scoped>\n.dashboard-header {\n  height: 40px;\n  margin: 0 auto;\n\n  background-color: #fff;\n  text-align: left;\n  padding: 5px;\n}\n\n.dashboard-header-col {\n  margin-left: 20px;\n}\n\n.el-dropdown-menu {\n  overflow: scroll;\n  max-height: 390px;\n  overflow-x: hidden;\n}\n\n.el-dropdown-link {\n  line-height: 30px;\n  color: #409EFF;\n  cursor: pointer;\n  font-size: 12px;\n  font-family: \"Microsoft Yahei\";\n}\n\n.col-title-style {\n  font-size: 18px;\n  font-weight: 400;\n  margin: 0px 0px 18px;\n}\n\n.col-data-style {\n  font-size: 24px;\n  font-weight: bolder;\n}\n\n.yBar {\n  position: absolute;\n  bottom: 0;\n  width: 2px;\n  height: 100%;\n  background-color: #d9d9d9;\n  border-radius: 1px;\n  opacity: .8;\n}\n\n</style>\n"],"sourceRoot":"src/pages/dashboard"}]}