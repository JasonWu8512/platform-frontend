{"remainingRequest":"/Users/jlglqa/Documents/QA/noa/node_modules/babel-loader/lib/index.js!/Users/jlglqa/Documents/QA/noa/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/jlglqa/Documents/QA/noa/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jlglqa/Documents/QA/noa/src/pages/testTools/apolloNotify.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jlglqa/Documents/QA/noa/src/pages/testTools/apolloNotify.vue","mtime":1655949681778},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/cache-loader/dist/cjs.js","mtime":1644298102062},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/babel-loader/lib/index.js","mtime":1644314985388},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/cache-loader/dist/cjs.js","mtime":1644298102062},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/vue-loader/lib/index.js","mtime":1644314988580}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB2YXJpYWJsZXMgZnJvbSAiQC9hc3NldHMvY3NzL3V0aWxzLnNjc3MiOwppbXBvcnQgeyBkYXRhVG9vbEFwaSB9IGZyb20gIkAvYXBpIjsKaW1wb3J0IHsgY2xvbmVEZWVwIH0gZnJvbSAibG9kYXNoIjsKaW1wb3J0IFRhYmxlT3BlcmF0b3IgZnJvbSAiQC9jb21tb24vY29tcG9uZW50cy9UYWJsZU9wZXJhdG9yIjsKaW1wb3J0IFRhYmxlSGVhZGVyIGZyb20gIkAvY29tbW9uL2NvbXBvbmVudHMvVGFibGVIZWFkZXIiOwppbXBvcnQgVGFibGVQYWdpbmF0aW9uIGZyb20gIkAvY29tbW9uL2NvbXBvbmVudHMvcGFnaW5hdGlvbi9UYWJsZVBhZ2luYXRpb24iOwppbXBvcnQgRGlhbG9nRm9vdGVyIGZyb20gIkAvY29tbW9uL2NvbXBvbmVudHMvRGlhbG9nRm9vdGVyIjsKaW1wb3J0IHsgb3BlcmF0aW9uRW51bSB9IGZyb20gIkAvY29uc3RhbnQvR2l0bGFiIjsKaW1wb3J0IHsgUEFHSU5BVElPTl9TSVpFIH0gZnJvbSAiQC9jb25zdGFudCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiYXBvbGxvTm90aWZ5IiwKICBjb21wb25lbnRzOiB7CiAgICBUYWJsZU9wZXJhdG9yOiBUYWJsZU9wZXJhdG9yLAogICAgVGFibGVIZWFkZXI6IFRhYmxlSGVhZGVyLAogICAgVGFibGVQYWdpbmF0aW9uOiBUYWJsZVBhZ2luYXRpb24sCiAgICBEaWFsb2dGb290ZXI6IERpYWxvZ0Zvb3RlcgogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG9wZXJhdGlvbkVudW06IG9wZXJhdGlvbkVudW0sCiAgICAgIGRpYWxvZ0Zvcm1WaXNpYmxlOiBmYWxzZSwKICAgICAgY29uZGl0aW9uOiB7fSwKICAgICAgb3BlcmF0aW9uOiAnJywKICAgICAgdGFibGVEYXRhOiBbXSwKICAgICAgY3VycmVudFBhZ2U6IDEsCiAgICAgIHBhZ2VTaXplOiBQQUdJTkFUSU9OX1NJWkUuTEFSR0UsCiAgICAgIHRvdGFsOiAwLAogICAgICBhcHBPcHRpb25zOiBbXSwKICAgICAgYXBwQ2hhdEZvcm06IHsKICAgICAgICBhcHBJZDogJycsCiAgICAgICAgY2hhdElkOiAnJwogICAgICB9LAogICAgICBhcHBDaGF0UnVsZXM6IHsKICAgICAgICBhcHBJZDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+mAieaLqeW6lOeUqCcsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBjaGF0SWQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fpgInmi6npgJrnn6XnvqTogYonLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0KICAgICAgfQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBmb3JtTGFiZWxXaWR0aDogZnVuY3Rpb24gZm9ybUxhYmVsV2lkdGgoKSB7CiAgICAgIHJldHVybiB2YXJpYWJsZXNbJ2Zvcm1MYWJlbFdpZHRoJ107CiAgICB9LAogICAgbG9hZGluZzogZnVuY3Rpb24gbG9hZGluZygpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmxvYWRpbmc7CiAgICB9LAogICAgY2hhdE9wdGlvbnM6IGZ1bmN0aW9uIGNoYXRPcHRpb25zKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuY292ZXJhZ2UubGFya0NoYXRzOwogICAgfSwKICAgIHRhYmxlMkJ0bldpZHRoOiBmdW5jdGlvbiB0YWJsZTJCdG5XaWR0aCgpIHsKICAgICAgcmV0dXJuIHZhcmlhYmxlc1sndGFibGUyQnRuV2lkdGgnXTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldEFsbEFwcHMoKTsKICAgIHRoaXMuZ2V0VGFibGVEYXRhKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRBbGxBcHBzOiBmdW5jdGlvbiBnZXRBbGxBcHBzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgZGF0YVRvb2xBcGkuZ2V0QXBvbGxvQXBwcygpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzLmFwcE9wdGlvbnMgPSByZXMuZGF0YTsKICAgICAgfSk7CiAgICB9LAogICAgb3BlbkVkaXQ6IGZ1bmN0aW9uIG9wZW5FZGl0KHJvdykgewogICAgICB0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlID0gdHJ1ZTsKICAgICAgdGhpcy5vcGVyYXRpb24gPSBvcGVyYXRpb25FbnVtLkFERDsKICAgICAgdGhpcy5hcHBDaGF0Rm9ybSA9IHsKICAgICAgICBhcHBJZDogJycsCiAgICAgICAgY2hhdElkOiAnJwogICAgICB9OwoKICAgICAgaWYgKHJvdykgewogICAgICAgIHRoaXMub3BlcmF0aW9uID0gb3BlcmF0aW9uRW51bS5FRElUOwogICAgICAgIHRoaXMuYXBwQ2hhdEZvcm0gPSBjbG9uZURlZXAocm93KTsKICAgICAgfQogICAgfSwKICAgIGdldFRhYmxlRGF0YTogZnVuY3Rpb24gZ2V0VGFibGVEYXRhKHZhbHVlKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIHBhcmFtcyA9IHsKICAgICAgICBvZmZzZXQ6IHRoaXMucGFnZVNpemUgKiAodGhpcy5jdXJyZW50UGFnZSAtIDEpLAogICAgICAgIGxpbWl0OiB0aGlzLnBhZ2VTaXplLAogICAgICAgIHNlYXJjaDogdmFsdWUgPyB2YWx1ZSA6ICcnCiAgICAgIH07CiAgICAgIGRhdGFUb29sQXBpLmdldEFwb2xsb0FwcENoYXQocGFyYW1zKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczIudGFibGVEYXRhID0gcmVzLmRhdGEuZGF0YTsKICAgICAgICBfdGhpczIudG90YWwgPSByZXMuZGF0YS50b3RhbDsKICAgICAgfSk7CiAgICB9LAogICAgc2F2ZUNvbmZpZzogZnVuY3Rpb24gc2F2ZUNvbmZpZygpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICBpZiAodGhpcy5vcGVyYXRpb24gPT09IG9wZXJhdGlvbkVudW0uQUREKSB7CiAgICAgICAgZGF0YVRvb2xBcGkuY3JlYXRlQXBvbGxvQXBwQ2hhdCh0aGlzLmFwcENoYXRGb3JtKS5maW5hbGx5KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzMy5kaWFsb2dGb3JtVmlzaWJsZSA9IGZhbHNlOwoKICAgICAgICAgIF90aGlzMy5nZXRUYWJsZURhdGEoKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBkYXRhVG9vbEFwaS51cGRhdGVBcG9sbG9BcHBDaGF0KHRoaXMuYXBwQ2hhdEZvcm0sIHRoaXMuYXBwQ2hhdEZvcm1bJ2lkJ10pLmZpbmFsbHkoZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMzLmRpYWxvZ0Zvcm1WaXNpYmxlID0gZmFsc2U7CgogICAgICAgICAgX3RoaXMzLmdldFRhYmxlRGF0YSgpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgaGFuZGxlZGVsZXRlOiBmdW5jdGlvbiBoYW5kbGVkZWxldGUocm93KSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdGhpcy4kYWxlcnQoJ+ehruiupOWIoOmZpOivpemFjee9rj8nLCAnJywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiBjYWxsYmFjayhhY3Rpb24pIHsKICAgICAgICAgIGlmIChhY3Rpb24gPT09ICdjb25maXJtJykgewogICAgICAgICAgICBkYXRhVG9vbEFwaS5kZWxldGVBcG9sbG9BcHBDaGF0KHJvdy5pZCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgX3RoaXM0LmdldFRhYmxlRGF0YSgpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZVNlYXJjaDogZnVuY3Rpb24gaGFuZGxlU2VhcmNoKHZhbHVlKSB7CiAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSAxOwogICAgICB0aGlzLmdldFRhYmxlRGF0YSh2YWx1ZSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["apolloNotify.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <el-card class=\"card-content\">\n      <template slot=\"header\">\n        <table-header\n          :condition=\"condition\"\n          create-tip=\"apollo通知配置-国内\"\n          placeholder=\"根据项目名称搜索\"\n          @create=\"openEdit\"\n          @search=\"handleSearch\"\n        >\n          <template slot=\"title\">\n            <div>apollo通知配置-国内</div>\n          </template>\n        </table-header>\n      </template>\n      <el-table ref=\"table\" v-loading=\"loading\" :data=\"tableData\">\n\n        <!--  项目名称  -->\n        <el-table-column label=\"应用\" prop=\"appId\"/>\n\n        <!--  群聊  -->\n        <el-table-column label=\"群聊\" prop=\"chatName\"/>\n\n        <!--  操作  -->\n        <el-table-column :width=\"table2BtnWidth\" label=\"操作\">\n          <template slot-scope=\"scope\">\n            <table-operator\n              show-delete\n              show-edit\n              @deleteClick=\"handledelete(scope.row)\"\n              @editClick=\"openEdit(scope.row)\"\n            />\n          </template>\n        </el-table-column>\n      </el-table>\n\n      <table-pagination\n        :change=\"getTableData\"\n        :current-page.sync=\"currentPage\"\n        :page-size.sync=\"pageSize\"\n        :total=\"total\"\n      />\n    </el-card>\n\n    <el-dialog\n      :close-on-click-modal=\"false\"\n      :visible.sync=\"dialogFormVisible\"\n      class=\"dialog-title\"\n      width=\"65%\"\n    >\n      <template slot=\"title\">\n        <div style=\"text-align: left;\">\n          <span>{{ operation === operationEnum.EDIT? '编辑apollo通知配置' : '创建apollo通知配置' }}</span>\n        </div>\n        <el-divider style=\"width: 100%;\"></el-divider>\n      </template>\n\n      <el-form ref=\"apolloNotifyForm\" :model=\"appChatForm\" :rules=\"appChatRules\" :label-width=\"formLabelWidth\">\n        <el-row>\n          <el-col :offset=\"1\" :span=\"10\">\n            <el-form-item label=\"应用\" prop=\"appId\">\n              <el-select v-model=\"appChatForm.appId\" filterable placeholder=\"请选择应用\" style=\"width: 100%\">\n                <el-option\n                  v-for=\"item in appOptions\"\n                  :key=\"item.id\"\n                  :label=\"item.appId\"\n                  :value=\"item.appId\"\n                />\n              </el-select>\n            </el-form-item>\n          </el-col>\n\n          <el-col :span=\"10\">\n            <el-form-item label=\"推送群聊\" prop=\"chatId\">\n              <el-select\n                v-model=\"appChatForm.chatId\"\n                filterable\n                placeholder=\"请选择需要通知的群\"\n                style=\"width: 100%;\"\n              >\n                <el-option\n                  v-for=\"item in chatOptions\"\n                  :key=\"item.chatId\"\n                  :label=\"item.name\"\n                  :value=\"item.chatId\"\n                />\n              </el-select>\n            </el-form-item>\n          </el-col>\n        </el-row>\n      </el-form>\n\n      <template slot=\"footer\">\n        <dialog-footer @cancel=\"dialogFormVisible = false\" @confirm=\"saveConfig\"/>\n      </template>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport variables from \"@/assets/css/utils.scss\"\nimport {dataToolApi} from \"@/api\";\nimport {cloneDeep} from \"lodash\"\nimport TableOperator from \"@/common/components/TableOperator\";\nimport TableHeader from \"@/common/components/TableHeader\";\nimport TablePagination from \"@/common/components/pagination/TablePagination\";\nimport DialogFooter from \"@/common/components/DialogFooter\";\nimport {operationEnum} from \"@/constant/Gitlab\";\nimport {PAGINATION_SIZE} from \"@/constant\";\nexport default {\n  name: \"apolloNotify\",\n  components: {\n    TableOperator,\n    TableHeader,\n    TablePagination,\n    DialogFooter,\n  },\n  data() {\n    return {\n      operationEnum: operationEnum,\n      dialogFormVisible: false,\n      condition: {},\n      operation: '',\n      tableData: [],\n      currentPage: 1,\n      pageSize: PAGINATION_SIZE.LARGE,\n      total: 0,\n      appOptions: [],\n      appChatForm:{\n        appId: '',\n        chatId: ''\n      },\n      appChatRules: {\n        appId: [{required: true, message: '请选择应用', trigger: 'blur'}],\n        chatId: [{required: true, message: '请选择通知群聊', trigger: 'blur'}],\n      }\n    }\n  },\n  computed: {\n    formLabelWidth() {\n      return variables['formLabelWidth']\n    },\n    loading() {\n      return this.$store.state.loading\n    },\n    chatOptions() {\n      return this.$store.state.coverage.larkChats\n    },\n    table2BtnWidth() {\n      return variables['table2BtnWidth']\n    },\n\n  },\n  mounted() {\n    this.getAllApps()\n    this.getTableData()\n  },\n  methods: {\n    getAllApps() {\n      dataToolApi.getApolloApps().then(res => {\n        this.appOptions = res.data\n      })\n    },\n    openEdit(row) {\n      this.dialogFormVisible = true\n      this.operation = operationEnum.ADD\n      this.appChatForm = {\n        appId: '',\n        chatId: ''\n      }\n      if (row) {\n        this.operation = operationEnum.EDIT\n        this.appChatForm = cloneDeep(row)\n      }\n    },\n    getTableData(value) {\n      const params = {\n        offset: this.pageSize * (this.currentPage - 1),\n        limit: this.pageSize,\n        search: value ? value : ''\n      }\n      dataToolApi.getApolloAppChat(params).then(res => {\n        this.tableData = res.data.data\n        this.total = res.data.total\n      })\n    },\n    saveConfig() {\n      if (this.operation === operationEnum.ADD){\n        dataToolApi.createApolloAppChat(this.appChatForm).finally(() => {\n          this.dialogFormVisible = false\n          this.getTableData()\n        })\n      } else {\n        dataToolApi.updateApolloAppChat(this.appChatForm, this.appChatForm['id']).finally(() => {\n          this.dialogFormVisible = false\n          this.getTableData()\n        })\n      }\n    },\n    handledelete(row) {\n      this.$alert('确认删除该配置?', '', {\n        confirmButtonText: '确定',\n        showCancelButton: true,\n        cancelButtonText: '取消',\n        callback: (action) => {\n          if (action === 'confirm') {\n            dataToolApi.deleteApolloAppChat(row.id)\n              .then(() => {\n                this.getTableData()\n              })\n          }\n        }\n      })\n    },\n    handleSearch(value) {\n      this.currentPage = 1\n      this.getTableData(value)\n    }\n\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n"],"sourceRoot":"src/pages/testTools"}]}