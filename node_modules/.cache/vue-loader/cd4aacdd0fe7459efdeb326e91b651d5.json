{"remainingRequest":"/Users/jlglqa/Documents/QA/noa/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jlglqa/Documents/QA/noa/src/pages/track/plan/view/comonents/TestCasePlanList.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/jlglqa/Documents/QA/noa/src/pages/track/plan/view/comonents/TestCasePlanList.vue","mtime":1655949681803},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/babel-loader/lib/index.js","mtime":1644314985388},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/ts-loader/index.js","mtime":1644314987889},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/cache-loader/dist/cjs.js","mtime":1644298102062},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/vue-loader/lib/index.js","mtime":1644314988580}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCmltcG9ydCB7dGVzdENhc2VBcGksIHRlc3RQbGFuQXBpfSBmcm9tICJAL2FwaSIKaW1wb3J0IHtSZXF1ZXN0R2V0VGVzdENhc2VQbGFuQ2FzZUxpc3QsIFJlcXVlc3RVcGRhdGVUZXN0Q2FzZVBsYW5DYXNlTGlzdH0gZnJvbSAiQC9hcGkvdHlwZXMvdGVzdFBsYW4iCmltcG9ydCB7dHlwZVBsYW5EYXRhfSBmcm9tICJAL2FwaS90eXBlcy90ZXN0UGxhblR5cGUiCmltcG9ydCB7UmVxdWVzdFVwZGF0ZVRlc3RDYXNlQmF0Y2h9IGZyb20gIkAvYXBpL3R5cGVzL3Rlc3RUcmFjayIKaW1wb3J0IHt0eXBlQ2FzZVN0ZXB9IGZyb20gIkAvYXBpL3R5cGVzL3Rlc3RUcmFja1R5cGUiCmltcG9ydCB2YXJpYWJsZXMgZnJvbSAiQC9hc3NldHMvY3NzL3V0aWxzLnNjc3MiCmltcG9ydCBUYWJsZVBhZ2luYXRpb24gZnJvbSAiQC9jb21tb24vY29tcG9uZW50cy9wYWdpbmF0aW9uL1RhYmxlUGFnaW5hdGlvbi52dWUiCmltcG9ydCBUYWJsZUhlYWRlciBmcm9tICJAL2NvbW1vbi9jb21wb25lbnRzL1RhYmxlSGVhZGVyLnZ1ZSIKaW1wb3J0IFRhYmxlT3BlcmF0b3IgZnJvbSAiQC9jb21tb24vY29tcG9uZW50cy9UYWJsZU9wZXJhdG9yLnZ1ZSIKaW1wb3J0IHtfZmlsdGVyLCBmb3JtYXRUaW1lfSBmcm9tICJAL2NvbW1vbi91dGlscyIKaW1wb3J0IHtQQUdJTkFUSU9OX1NJWkV9IGZyb20gIkAvY29uc3RhbnQiCmltcG9ydCB7UGF0aE5hbWV9IGZyb20gIkAvY29uc3RhbnQvcm91dGVEYXRhIgppbXBvcnQge2Nhc2VUeXBlVHlwZSwgY2FzZVVwZGF0ZVR5cGVFbnVtLCBleGVjdXRpb25UeXBlLCBwcmlvcml0eVR5cGUsIHN0ZXBTdGF0dXNFbnVtfSBmcm9tICJAL2NvbnN0YW50L1Rlc3RDYXNlIgppbXBvcnQgewogIGNhc2VCYXRjaEVkaXRFbnVtLAogIGNhc2VCYXRjaEVkaXRUeXBlLAogIHBsYW5PcGVyYXRpb25FbnVtLAogIHBsYW5SZXN1bHRUeXBlLAogIHBsYW5TdGFnZUVudW0KfSBmcm9tICJAL2NvbnN0YW50L1Rlc3RQbGFuIgppbXBvcnQgQmF0Y2hFZGl0IGZyb20gIkAvcGFnZXMvdHJhY2svY2FzZS9jb21wb25lbnRzL0JhdGNoRWRpdC52dWUiCmltcG9ydCBTaG93TW9yZUJ0biBmcm9tICJAL3BhZ2VzL3RyYWNrL2Nhc2UvY29tcG9uZW50cy9TaG93TW9yZUJ0bi52dWUiCmltcG9ydCBOb2RlQnJlYWRjcnVtYiBmcm9tICJAL3BhZ2VzL3RyYWNrL2NvbW1vbi9Ob2RlQnJlYWRjcnVtYi52dWUiCmltcG9ydCBDYXNlVHlwZVRhYmxlSXRlbSBmcm9tICJAL3BhZ2VzL3RyYWNrL2NvbW1vbi90YWJsZUl0ZW1zL0Nhc2VUeXBlVGFibGVJdGVtLnZ1ZSIKaW1wb3J0IEV4ZWN1dGlvblR5cGVUYWJsZUl0ZW0gZnJvbSAiQC9wYWdlcy90cmFjay9jb21tb24vdGFibGVJdGVtcy9FeGVjdXRpb25UeXBlVGFibGVJdGVtLnZ1ZSIKaW1wb3J0IFBsYW5DYXNlU3RhdHVzVGFibGVJdGVtIGZyb20gIkAvcGFnZXMvdHJhY2svY29tbW9uL3RhYmxlSXRlbXMvUGxhbkNhc2VTdGF0dXNUYWJsZUl0ZW0udnVlIgppbXBvcnQgUHJpb3JpdHlUYWJsZUl0ZW0gZnJvbSAiQC9wYWdlcy90cmFjay9jb21tb24vdGFibGVJdGVtcy9Qcmlvcml0eVRhYmxlSXRlbS52dWUiCmltcG9ydCB7Z2V0TW9kdWxlQnlUcmVlSWR9IGZyb20gIkAvcGFnZXMvdHJhY2svY29tbW9uL3V0aWxzIgppbXBvcnQgVGVzdENhc2VQbGFuUnVuIGZyb20gIkAvcGFnZXMvdHJhY2svcGxhbi92aWV3L2NvbW9uZW50cy9UZXN0Q2FzZVBsYW5SdW4udnVlIgppbXBvcnQgVGVzdENhc2VSZWxldmFuY2UgZnJvbSAiQC9wYWdlcy90cmFjay9wbGFuL3ZpZXcvY29tb25lbnRzL1Rlc3RDYXNlUmVsZXZhbmNlLnZ1ZSIKCi8vIOaJp+ihjOaWueW8jwpjb25zdCBleGVjdXRpb25PcHRpb25zID0gT2JqZWN0LmVudHJpZXMoZXhlY3V0aW9uVHlwZSkubWFwKChbdmFsdWUsIHRleHRdKSA9PiB7CiAgcmV0dXJuIHt0ZXh0OiB0ZXh0LCB2YWx1ZTogdmFsdWV9Cn0pCi8vIOeUqOS+i+S8mOWFiOe6pwpjb25zdCBwcmlvcml0eU9wdGlvbnMgPSBPYmplY3QuZW50cmllcyhwcmlvcml0eVR5cGUpLm1hcCgoW3ZhbHVlLCB0ZXh0XSkgPT4gewogIHJldHVybiB7dGV4dDogdGV4dCwgdmFsdWU6IHZhbHVlfQp9KQovLyDorqHliJLnlKjkvovnirbmgIEKY29uc3QgcGxhblJlc3VsdE9wdGlvbnMgPSBPYmplY3QuZW50cmllcyhwbGFuUmVzdWx0VHlwZSkubWFwKChbdmFsdWUsIHRleHRdKSA9PiB7CiAgcmV0dXJuIHt0ZXh0OiB0ZXh0LCB2YWx1ZTogdmFsdWV9Cn0pCi8vIOeUqOS+i+exu+Weiwpjb25zdCBjYXNlVHlwZU9wdGlvbnMgPSBPYmplY3QuZW50cmllcyhjYXNlVHlwZVR5cGUpLm1hcCgoW3ZhbHVlLCB0ZXh0XSkgPT4gewogIHJldHVybiB7dGV4dDogdGV4dCwgdmFsdWU6IHZhbHVlfQp9KQovLyDmibnph4/nvJbovpHnsbvlnosKY29uc3QgY2FzZUJhdGNoRWRpdE9wdGlvbnMgPSBPYmplY3QuZW50cmllcyhjYXNlQmF0Y2hFZGl0VHlwZSkubWFwKChbdmFsdWUsIHRleHRdKSA9PiB7CiAgcmV0dXJuIHt0ZXh0OiB0ZXh0LCB2YWx1ZTogdmFsdWV9Cn0pCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlRlc3RDYXNlUGxhbkxpc3QiLAogIGNvbXBvbmVudHM6IHsKICAgIEJhdGNoRWRpdCwKICAgIFRlc3RDYXNlUGxhblJ1biwKICAgIEV4ZWN1dGlvblR5cGVUYWJsZUl0ZW0sCiAgICBDYXNlVHlwZVRhYmxlSXRlbSwKICAgIFBsYW5DYXNlU3RhdHVzVGFibGVJdGVtLAogICAgUHJpb3JpdHlUYWJsZUl0ZW0sCiAgICBTaG93TW9yZUJ0biwKICAgIE5vZGVCcmVhZGNydW1iLAogICAgVGFibGVPcGVyYXRvciwKICAgIFRhYmxlUGFnaW5hdGlvbiwKICAgIFRhYmxlSGVhZGVyLAogICAgVGVzdENhc2VSZWxldmFuY2UsCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZXhlY3V0aW9uT3B0aW9uczogZXhlY3V0aW9uT3B0aW9ucywKICAgICAgcHJpb3JpdHlPcHRpb25zOiBwcmlvcml0eU9wdGlvbnMsCiAgICAgIHBsYW5SZXN1bHRPcHRpb25zOiBwbGFuUmVzdWx0T3B0aW9ucywKICAgICAgY2FzZVR5cGVPcHRpb25zOiBjYXNlVHlwZU9wdGlvbnMsCiAgICAgIGNhc2VCYXRjaEVkaXRPcHRpb25zOiBjYXNlQmF0Y2hFZGl0T3B0aW9ucywKICAgICAgcGxhblN0YWdlRW51bTogcGxhblN0YWdlRW51bSwKICAgICAgdXNlcnM6IHRoaXMudXNlcnMsCiAgICAgIHByb2plY3RzOiB0aGlzLnByb2plY3RzLAogICAgICBjb25kaXRpb246IHt9LAogICAgICBidXR0b25zOiBbCiAgICAgICAge25hbWU6ICfmibnph4/nvJbovpHnlKjkvosnLCBoYW5kbGVDbGljazogdGhpcy5oYW5kbGVCYXRjaEVkaXR9LAogICAgICAgIHtuYW1lOiAn5om56YeP5Y+W5raI5YWz6IGUJywgaGFuZGxlQ2xpY2s6IHRoaXMuaGFuZGxlQmF0Y2hVblJlbGF0ZX0sCiAgICAgIF0sCiAgICAgIGFsbENhc2U6IGZhbHNlLAogICAgICB0YWJsZURhdGE6IFtdLAogICAgICBzZWxlY3RSb3dzOiBuZXcgU2V0KCksCiAgICAgIGN1cnJlbnRQYWdlOiAxLAogICAgICBwYWdlU2l6ZTogUEFHSU5BVElPTl9TSVpFLkxBUkdFLAogICAgICB0b3RhbDogMCwKICAgICAgY2FzZUZpbHRlcjoge30sCiAgICAgIGJhdGNoRWRpdFZhbHVlQXJyOiB7CiAgICAgICAgLy8g5omn6KGM5pa55byPCiAgICAgICAgcmVzdWx0OiBwbGFuUmVzdWx0T3B0aW9ucywKICAgICAgICAvLyDnu7TmiqTkuroKICAgICAgICBleGVjdXRvcjogW10sCiAgICAgIH0sCiAgICAgIHBsYW5TdGFnZTogJycsCiAgICAgIGlzUWE6IGZhbHNlLAogICAgfQogIH0sCiAgcHJvcHM6IHsKICAgIHRyZWVOb2RlczogQXJyYXksCiAgICBzZWxlY3ROb2RlOiBPYmplY3QsCiAgICBzZWxlY3RQYXJlbnROb2RlczogQXJyYXksCiAgfSwKICBpbmplY3Q6IFsncHJvamVjdHMnLCAndXNlcnMnXSwKICBjb21wdXRlZDogewogICAgcGxhbklkKCkgewogICAgICByZXR1cm4gdGhpcy4kcm91dGUucGFyYW1zLnBsYW5JZAogICAgfSwKICAgIHByb2pJZCgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHJvdXRlLnF1ZXJ5LnByb2pJZAogICAgfSwKICAgIHRyZWVJZCgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHJvdXRlLnF1ZXJ5LnRyZWVJZAogICAgfSwKICAgIGNhc2VJZHMoKSB7CiAgICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuc2VsZWN0Um93cykubWFwKChyb3c6IHsgY2FzZUlkOiBzdHJpbmcgfSkgPT4gcm93LmNhc2VJZCkKICAgIH0sCiAgICB0YWJsZTJCdG5XaWR0aCgpIHsKICAgICAgcmV0dXJuIHZhcmlhYmxlc1sndGFibGUyQnRuV2lkdGgnXQogICAgfSwKICAgIHRhYmxlVGltZVdpZHRoKCkgewogICAgICByZXR1cm4gdmFyaWFibGVzWyd0YWJsZVRpbWVXaWR0aCddCiAgICB9CiAgfSwKICB3YXRjaDogewogICAgJyRyb3V0ZScoKSB7CiAgICAgIHRoaXMuaW5pdFRhYmxlRGF0YSgpCiAgICB9LAogICAgdHJlZU5vZGVzKCkgewogICAgICB0aGlzLmluaXRUYWJsZURhdGEoKQogICAgfSwKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldFBsYW5EZXRhaWwoKQogIH0sCiAgbWV0aG9kczogewogICAgc2V0U2VsZWN0T3B0aW9ucygpIHsKICAgICAgdGhpcy5zZXRQcmlvcml0eU9wdGlvbnMoKQogICAgICB0aGlzLnNldFByb2plY3RPcHRpb25zKCkKICAgICAgdGhpcy5zZXRDYXNlVHlwZU9wdGlvbnMoKQogICAgICB0aGlzLnNldEV4ZWN1dG9yT3B0aW9ucygpCiAgICB9LAogICAgaW5pdFRhYmxlRGF0YSgpIHsKICAgICAgdGhpcy5zZXRTZWxlY3RPcHRpb25zKCkKICAgICAgdGhpcy5nZXREYXRhKCkKICAgIH0sCiAgICBhc3luYyBnZXREYXRhKHZhbHVlPzogc3RyaW5nKSB7CiAgICAgIGxldCBwYXJhbXM6IFJlcXVlc3RHZXRUZXN0Q2FzZVBsYW5DYXNlTGlzdCA9IHsKICAgICAgICBvZmZzZXQ6IHRoaXMucGFnZVNpemUgKiAodGhpcy5jdXJyZW50UGFnZSAtIDEpLAogICAgICAgIGxpbWl0OiB0aGlzLnBhZ2VTaXplLAogICAgICAgIG5hbWU6IHZhbHVlLAogICAgICAgIHRyZWVJZDogdGhpcy50cmVlSWQsCiAgICAgICAgcHJvaklkOiB0aGlzLnRyZWVJZCA/IHVuZGVmaW5lZCA6IHRoaXMucHJvaklkCiAgICAgIH0KCiAgICAgIHRoaXMuY2FzZUZpbHRlciA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0odGhpcy4kcm91dGUucGF0aCkKICAgICAgdGhpcy5jYXNlRmlsdGVyID0gdGhpcy5jYXNlRmlsdGVyID8gSlNPTi5wYXJzZSh0aGlzLmNhc2VGaWx0ZXIpIDoge30KICAgICAgaWYgKEpTT04uc3RyaW5naWZ5KHRoaXMuY2FzZUZpbHRlcikgIT09ICJ7fSIpIHsKICAgICAgICBPYmplY3QuYXNzaWduKHBhcmFtcywgdGhpcy5jYXNlRmlsdGVyKQogICAgICAgIHRoaXMuJHJlZnMudGFibGUuY29sdW1ucy5mb3JFYWNoKChpdGVtOiBhbnkpID0+IHsKICAgICAgICAgIGl0ZW0uZmlsdGVyZWRWYWx1ZSA9IHRoaXMuY2FzZUZpbHRlcltpdGVtLmNvbHVtbktleV0KICAgICAgICB9KQogICAgICB9CgogICAgICBhd2FpdCB0ZXN0UGxhbkFwaS5nZXRUZXN0Q2FzZVBsYW5DYXNlTGlzdCh0aGlzLnBsYW5JZCwgcGFyYW1zKQogICAgICAgIC50aGVuKCh7ZGF0YX0pID0+IHsKICAgICAgICAgIHRoaXMudG90YWwgPSBkYXRhLnRvdGFsCiAgICAgICAgICB0aGlzLnRhYmxlRGF0YSA9IGRhdGEuZGF0YQogICAgICAgICAgdGhpcy50YWJsZURhdGEuZm9yRWFjaCgoaXRlbTogYW55KSA9PiB7CiAgICAgICAgICAgIGl0ZW0udHJlZVBhdGggPSBnZXRNb2R1bGVCeVRyZWVJZCh0aGlzLnRyZWVOb2RlcywgaXRlbS50cmVlSWQpLnBhdGgKICAgICAgICAgICAgaXRlbS51cGRhdGVkQXQgPSBmb3JtYXRUaW1lKGl0ZW0udXBkYXRlZEF0KQogICAgICAgICAgICBpdGVtLnByb2pOYW1lID0gdGhpcy5wcm9qZWN0cy5maW5kKChvYmo6IGFueSkgPT4gb2JqLmlkID09PSBpdGVtLnByb2pJZCkubmFtZQogICAgICAgICAgICBpdGVtLmNhc2VEZXRhaWwuc3RlcHMuZm9yRWFjaCgob2JqOiB0eXBlQ2FzZVN0ZXApID0+IHsKICAgICAgICAgICAgICBvYmouYWN0dWFsU3RhdHVzID0gc3RlcFN0YXR1c0VudW0uUEFTUwogICAgICAgICAgICB9KQogICAgICAgICAgICBpdGVtLnN0ZXBBY3R1YWxTdGF0dXMuZm9yRWFjaCgob2JqOiBzdGVwU3RhdHVzRW51bSwgaW5kZXg6IG51bWJlcikgPT4gewogICAgICAgICAgICAgIGl0ZW0uY2FzZURldGFpbC5zdGVwc1tpbmRleF0uYWN0dWFsU3RhdHVzID0gb2JqIHx8IHN0ZXBTdGF0dXNFbnVtLlBBU1MKICAgICAgICAgICAgfSkKICAgICAgICAgICAgaXRlbS5zdGVwQWN0dWFsUmVzdWx0cy5mb3JFYWNoKChvYmo6IHN0cmluZywgaW5kZXg6IG51bWJlcikgPT4gewogICAgICAgICAgICAgIGl0ZW0uY2FzZURldGFpbC5zdGVwc1tpbmRleF0uYWN0dWFsUmVzdWx0ID0gb2JqCiAgICAgICAgICAgIH0pCiAgICAgICAgICB9KQogICAgICAgIH0pCiAgICB9LAogICAgZ2V0UGxhbkRldGFpbCgpIHsKICAgICAgdGVzdFBsYW5BcGkuZ2V0VGVzdENhc2VQbGFuRGV0YWlsKHRoaXMucGxhbklkKQogICAgICAgIC50aGVuKChkYXRhOiBhbnkpID0+IHsKICAgICAgICAgIHRoaXMucGxhblN0YWdlID0gZGF0YS5zdGFnZQogICAgICAgIH0pCiAgICB9LAogICAgaGFuZGxlU3dpdGNoKCkgewogICAgICBPYmplY3QuYXNzaWduKAogICAgICAgIHRoaXMuY2FzZUZpbHRlciwKICAgICAgICB7ZXhlY3V0b3I6IHRoaXMuYWxsQ2FzZSA/IHVuZGVmaW5lZCA6IHRoaXMuJHN0b3JlLnN0YXRlLmxvZ2luLnVzZXJuYW1lfQogICAgICApCiAgICAgIHRoaXMuZ2V0RGF0YSgpCiAgICAgIHRoaXMuYWxsQ2FzZSA9ICF0aGlzLmFsbENhc2UKICAgIH0sCiAgICBoYW5kbGVTZWFyY2godmFsdWU/OiBzdHJpbmcpIHsKICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IDEKICAgICAgdGhpcy5nZXREYXRhKHZhbHVlKQogICAgfSwKICAgIGhhbmRsZVJ1blRlc3QodGVzdENhc2U/OiB0eXBlUGxhbkRhdGEpIHsKICAgICAgaWYgKCF0ZXN0Q2FzZSkgdGVzdENhc2UgPSB0aGlzLnRhYmxlRGF0YVswXQogICAgICB0aGlzLiRldmVudEJ1cy4kZW1pdCgidGVzdFBsYW5DYXNlUnVuIiwgdGVzdENhc2UsIHRoaXMudGFibGVEYXRhLCB0aGlzKQogICAgfSwKICAgIGhhbmRsZVNlbGVjdEFsbChzZWxlY3Rpb246IE9iamVjdFtdKSB7CiAgICAgIGlmIChzZWxlY3Rpb24ubGVuZ3RoID4gMCkgewogICAgICAgIHRoaXMudGFibGVEYXRhLmZvckVhY2goKGl0ZW06IGFueSkgPT4gewogICAgICAgICAgdGhpcy4kc2V0KGl0ZW0sICJpc0Rpc2FibGVkIiwgZmFsc2UpCiAgICAgICAgfSkKICAgICAgICB0aGlzLnNlbGVjdFJvd3MgPSBuZXcgU2V0KHNlbGVjdGlvbikKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnNlbGVjdFJvd3MuY2xlYXIoKQogICAgICAgIHRoaXMudGFibGVEYXRhLmZvckVhY2goKHJvdzogYW55KSA9PiB7CiAgICAgICAgICB0aGlzLiRzZXQocm93LCAiaXNEaXNhYmxlZCIsIHRydWUpCiAgICAgICAgfSkKICAgICAgfQogICAgfSwKICAgIGhhbmRsZVNlbGVjdGlvbkNoYW5nZShzZWxlY3Rpb246IE9iamVjdFtdLCByb3c6IGFueSkgewogICAgICBpZiAoc2VsZWN0aW9uLmluZGV4T2Yocm93KSA9PT0gLTEpIHsKICAgICAgICB0aGlzLiRzZXQocm93LCAiaXNEaXNhYmxlZCIsIHRydWUpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kc2V0KHJvdywgImlzRGlzYWJsZWQiLCBmYWxzZSkKICAgICAgfQogICAgICB0aGlzLnNlbGVjdFJvd3MgPSBuZXcgU2V0KHNlbGVjdGlvbikKICAgIH0sCiAgICBoYW5kbGVSZWxhdGVDYXNlKCkgewogICAgICB0aGlzLiRyZWZzLnRlc3RDYXNlUmVsZXZhbmNlLm9wZW4odGhpcy5jb25kaXRpb24sIHRoaXMucHJvaklkKQogICAgfSwKICAgIGhhbmRsZUJhdGNoRWRpdCgpIHsKICAgICAgdGhpcy4kcmVmcy5iYXRjaEVkaXQub3BlbigpCiAgICB9LAogICAgaGFuZGxlQmF0Y2hVblJlbGF0ZSgpIHsKICAgICAgdGhpcy5oYW5kbGVEZWxldGUoJycsIHRydWUpCiAgICB9LAogICAgYmF0Y2hFZGl0KGVkaXRGb3JtOiBhbnkpIHsKICAgICAgbGV0IGJvZHk6IFJlcXVlc3RVcGRhdGVUZXN0Q2FzZUJhdGNoID0gewogICAgICAgIGNhc2VJZHM6IHRoaXMuY2FzZUlkcywKICAgICAgICBwbGFuSWQ6IHRoaXMucGxhbklkLAogICAgICAgIHR5cGU6IGNhc2VVcGRhdGVUeXBlRW51bS5VUERBVEVfUExBTl9TVEFUVVMsCiAgICAgIH0KICAgICAgaWYgKGVkaXRGb3JtLnR5cGUgPT09IGNhc2VCYXRjaEVkaXRFbnVtLkVYRUNVVE9SKSB7CiAgICAgICAgYm9keSA9IE9iamVjdC5hc3NpZ24oYm9keSwgewogICAgICAgICAgdHlwZTogY2FzZVVwZGF0ZVR5cGVFbnVtLlVQREFURV9QTEFOX0VYRUNVVE9SLAogICAgICAgICAgZXhlY3V0b3I6IGVkaXRGb3JtLnZhbHVlLAogICAgICAgIH0pCiAgICAgIH0gZWxzZSBpZiAoZWRpdEZvcm0udHlwZSA9PT0gY2FzZUJhdGNoRWRpdEVudW0uUkVTVUxUKSB7CiAgICAgICAgaWYgKHRoaXMuaXNRYSkgewogICAgICAgICAgYm9keSA9IE9iamVjdC5hc3NpZ24oYm9keSwgewogICAgICAgICAgICB0eXBlOiBjYXNlVXBkYXRlVHlwZUVudW0uVVBEQVRFX1BMQU5fU01PS0VfQ0hFQ0ssCiAgICAgICAgICAgIHNtb2tlQ2hlY2s6IGVkaXRGb3JtLnZhbHVlLAogICAgICAgICAgfSkKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYm9keSA9IE9iamVjdC5hc3NpZ24oYm9keSwgewogICAgICAgICAgICBzdGF0dXM6IGVkaXRGb3JtLnZhbHVlLAogICAgICAgICAgfSkKICAgICAgICB9CiAgICAgIH0KICAgICAgdGVzdENhc2VBcGkudXBkYXRlVGVzdENhc2VCYXRjaChib2R5KQogICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgIHRoaXMucmVmcmVzaFRhYmxlKCkKICAgICAgICB9KQogICAgfSwKICAgIHJlZnJlc2hUYWJsZSgpIHsKICAgICAgdGhpcy4kZW1pdCgncmVmcmVzaCcpCiAgICB9LAogICAgaGFuZGxlRGVsZXRlKHJvdz86IGFueSwgaXNCYXRjaD86IGJvb2xlYW4pIHsKICAgICAgY29uc3QgbXNnID0gcm93IHx8IGlzQmF0Y2ggPyAn56Gu6K6k5Y+W5raI5YWz6IGU5rWL6K+V55So5L6LPycgOiAn56Gu6K6k5Y+W5raI5YWo6YOo5YWz6IGU5rWL6K+V55So5L6LPycKICAgICAgdGhpcy4kYWxlcnQobXNnLCAnJywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgIGNhbGxiYWNrOiAoYWN0aW9uOiBzdHJpbmcpID0+IHsKICAgICAgICAgIGlmIChhY3Rpb24gPT09ICdjb25maXJtJykgewogICAgICAgICAgICBsZXQgYm9keTogUmVxdWVzdFVwZGF0ZVRlc3RDYXNlUGxhbkNhc2VMaXN0ID0gewogICAgICAgICAgICAgIG9wZXJhdGlvbjogcGxhbk9wZXJhdGlvbkVudW0uUkVNT1ZFLAogICAgICAgICAgICAgIGNhc2VJZHM6IGlzQmF0Y2ggPyB0aGlzLmNhc2VJZHMgOiAocm93ID8gW3Jvdy5jYXNlSWRdIDogW10pLAogICAgICAgICAgICAgIHByb2pJZDogdGhpcy5wcm9qSWQsCiAgICAgICAgICAgICAgdHJlZUlkOiB0aGlzLnRyZWVJZCwKICAgICAgICAgICAgfQogICAgICAgICAgICB0ZXN0UGxhbkFwaS51cGRhdGVUZXN0Q2FzZVBsYW5DYXNlTGlzdCh0aGlzLnBsYW5JZCwgYm9keSkKICAgICAgICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2hUYWJsZSgpCiAgICAgICAgICAgICAgfSkKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogICAgZmlsdGVyKGZpbHRlcnM6IGFueSkgewogICAgICB0aGlzLmN1cnJlbnRQYWdlID0gMQogICAgICBfZmlsdGVyKGZpbHRlcnMsIHRoaXMuY2FzZUZpbHRlciwgdGhpcy4kcm91dGUucGF0aCkKICAgICAgdGhpcy5pbml0VGFibGVEYXRhKCkKICAgIH0sCiAgICBzZXRSZXZpZXdlck9wdGlvbnMoKSB7CiAgICAgIHRoaXMuY29uZGl0aW9uLnJldmlld2VyT3B0aW9ucyA9IHRoaXMudXNlcnMKICAgIH0sCiAgICBzZXRQcm9qZWN0T3B0aW9ucygpIHsKICAgICAgdGhpcy5jb25kaXRpb24ucHJvamVjdE9wdGlvbnMgPSB0aGlzLnRyZWVOb2RlcwogICAgfSwKICAgIHNldFByaW9yaXR5T3B0aW9ucygpIHsKICAgICAgdGhpcy5jb25kaXRpb24ucHJpb3JpdHlPcHRpb25zID0gdGhpcy5wcmlvcml0eU9wdGlvbnMKICAgIH0sCiAgICBzZXRDYXNlVHlwZU9wdGlvbnMoKSB7CiAgICAgIHRoaXMuY29uZGl0aW9uLmNhc2VUeXBlT3B0aW9ucyA9IHRoaXMuY2FzZVR5cGVPcHRpb25zCiAgICB9LAogICAgc2V0RXhlY3V0b3JPcHRpb25zKCkgewogICAgICB0aGlzLmJhdGNoRWRpdFZhbHVlQXJyLmV4ZWN1dG9yID0gdGhpcy51c2VycwogICAgfSwKICAgIGhhbmRsZVJvd0NsaWNrKHJvdzogYW55KSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiBQYXRoTmFtZS5UZXN0VHJhY2tDYXNlUmV2aWV3VmlldywKICAgICAgICBwYXJhbXM6IHtyZXZpZXdJZDogcm93LmlkfSwKICAgICAgfSkKICAgIH0KICB9Cn0K"},{"version":3,"sources":["TestCasePlanList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TestCasePlanList.vue","sourceRoot":"src/pages/track/plan/view/comonents","sourcesContent":["<template>\n  <div>\n    <el-card class=\"card-content\">\n      <template slot=\"header\">\n        <table-header\n          :condition=\"condition\"\n          :create-tip=\"allCase ? '我的用例' : '全部用例'\"\n          :icon-create=\"allCase ? 'el-icon-s-custom' : 'el-icon-files'\"\n          icon-run=\"el-icon-connection\"\n          icon-third=\"el-icon-document-remove\"\n          run-tip=\"关联测试用例\"\n          show-run\n          show-third\n          third-tip=\"取消全部关联\"\n          @create=\"handleSwitch\"\n          @runTest=\"handleRelateCase\"\n          @search=\"handleSearch\"\n          @thirdClick=\"handleDelete\"\n        >\n          <template slot=\"title\">\n            <node-breadcrumb :nodes=\"selectParentNodes\" @refresh=\"refreshTable\"/>\n          </template>\n          <template slot=\"button\">\n            <el-button\n              v-if=\"planStage === planStageEnum.SMOKE\"\n              :icon=\"isQa ? 'el-icon-s-check' : 'el-icon-cpu'\"\n              @click=\"isQa = !isQa\"\n            >\n              {{ isQa ? '测试验证' : '开发执行' }}\n            </el-button>\n          </template>\n        </table-header>\n\n      </template>\n      <el-table\n        ref=\"table\"\n        :data=\"tableData\"\n        row-key=\"id\"\n        @select=\"handleSelectionChange\"\n        @select-all=\"handleSelectAll\"\n        @row-click=\"handleRunTest\"\n        @filter-change=\"filter\"\n      >\n\n        <!--  复选框  -->\n        <el-table-column type=\"selection\"/>\n\n        <!--  复选按钮 -->\n        <el-table-column :resizable=\"false\" align=\"center\" width=\"40\">\n          <template slot-scope=\"scope\">\n            <show-more-btn\n              :buttons=\"buttons\"\n              :is-disabled=\"scope.row.isDisabled\"\n              :size=\"selectRows.size\"\n            />\n          </template>\n        </el-table-column>\n\n        <!--  名称  -->\n        <el-table-column label=\"名称\" prop=\"caseDetail.name\" show-overflow-tooltip/>\n\n        <!--  用例等级  -->\n        <el-table-column\n          :filters=\"priorityOptions\"\n          column-key=\"importance\"\n          label=\"用例等级\"\n          prop=\"caseDetail.importance\"\n          show-overflow-tooltip\n        >\n          <template slot-scope=\"scope\">\n            <priority-table-item :value=\"scope.row.caseDetail.importance\"/>\n          </template>\n        </el-table-column>\n\n        <!--  类型  -->\n        <el-table-column\n          column-key=\"caseDetail.caseType\"\n          label=\"类型\"\n          prop=\"caseDetail.caseType\"\n          show-overflow-tooltip\n        >\n          <template slot-scope=\"scope\">\n            <case-type-table-item :value=\"scope.row.caseDetail.caseType\"/>\n          </template>\n        </el-table-column>\n\n        <!--  测试方式  -->\n        <el-table-column\n          column-key=\"method\"\n          label=\"测试方式\"\n          prop=\"caseDetail.executionType\"\n          show-overflow-tooltip\n        >\n          <template slot-scope=\"scope\">\n            <execution-type-table-item :value=\"scope.row.caseDetail.executionType\"/>\n          </template>\n        </el-table-column>\n\n        <!--  所属模块  -->\n        <el-table-column label=\"所属模块\" prop=\"treePath\" show-overflow-tooltip/>\n\n        <!--  所属项目  -->\n        <el-table-column :filters=\"projects\" column-key=\"projId\" label=\"所属项目\" prop=\"projName\"/>\n\n        <!--  缺陷  -->\n        <el-table-column label=\"缺陷\" prop=\"issues\" show-overflow-tooltip/>\n\n        <!--  执行人  -->\n        <el-table-column\n          :filters=\"users\"\n          column-key=\"executor\"\n          label=\"执行人\"\n          prop=\"executor\"\n          show-overflow-tooltip\n        />\n\n        <!--  执行结果  -->\n        <el-table-column :filters=\"planResultOptions\" column-key=\"status\" label=\"执行结果\">\n          <template slot-scope=\"scope\">\n            <plan-case-status-table-item :value=\"scope.row.status\"/>\n          </template>\n        </el-table-column>\n\n        <!--  确认结果  -->\n        <el-table-column\n          v-if=\"planStage === planStageEnum.SMOKE\"\n          :filters=\"planResultOptions\"\n          column-key=\"smokeCheck\"\n          label=\"确认结果\"\n        >\n          <template slot-scope=\"scope\">\n            <plan-case-status-table-item :value=\"scope.row.smokeCheck\"/>\n          </template>\n        </el-table-column>\n\n        <!--  更新时间  -->\n        <el-table-column\n          :width=\"tableTimeWidth\"\n          label=\"更新时间\"\n          prop=\"updatedAt\"\n          show-overflow-tooltip\n          sortable\n        />\n\n        <!--  操作  -->\n        <el-table-column :width=\"table2BtnWidth\" label=\"操作\">\n          <template slot-scope=\"scope\">\n            <table-operator\n              delete-icon=\"el-icon-link\"\n              delete-tip=\"取消关联\"\n              show-delete\n              show-run\n              @deleteClick=\"handleDelete(scope.row)\"\n              @runClick=\"handleRunTest(scope.row)\"\n            />\n          </template>\n        </el-table-column>\n      </el-table>\n\n      <table-pagination\n        :change=\"initTableData\"\n        :current-page.sync=\"currentPage\"\n        :page-size.sync=\"pageSize\"\n        :total=\"total\"\n      />\n\n    </el-card>\n\n    <test-case-plan-run ref=\"testPlanTestCaseRun\" :plan-id=\"planId\" @refresh=\"refreshTable\"/>\n    <test-case-relevance ref=\"testCaseRelevance\" :plan-id=\"planId\" @refreshTable=\"refreshTable\"/>\n\n    <batch-edit\n      ref=\"batchEdit\"\n      :type-arr=\"caseBatchEditOptions\"\n      :value-arr=\"batchEditValueArr\"\n      dialog-title=\"批量编辑用例\"\n      @batchEdit=\"batchEdit\"\n    />\n\n  </div>\n</template>\n\n<script lang=\"ts\">\n\nimport {testCaseApi, testPlanApi} from \"@/api\"\nimport {RequestGetTestCasePlanCaseList, RequestUpdateTestCasePlanCaseList} from \"@/api/types/testPlan\"\nimport {typePlanData} from \"@/api/types/testPlanType\"\nimport {RequestUpdateTestCaseBatch} from \"@/api/types/testTrack\"\nimport {typeCaseStep} from \"@/api/types/testTrackType\"\nimport variables from \"@/assets/css/utils.scss\"\nimport TablePagination from \"@/common/components/pagination/TablePagination.vue\"\nimport TableHeader from \"@/common/components/TableHeader.vue\"\nimport TableOperator from \"@/common/components/TableOperator.vue\"\nimport {_filter, formatTime} from \"@/common/utils\"\nimport {PAGINATION_SIZE} from \"@/constant\"\nimport {PathName} from \"@/constant/routeData\"\nimport {caseTypeType, caseUpdateTypeEnum, executionType, priorityType, stepStatusEnum} from \"@/constant/TestCase\"\nimport {\n  caseBatchEditEnum,\n  caseBatchEditType,\n  planOperationEnum,\n  planResultType,\n  planStageEnum\n} from \"@/constant/TestPlan\"\nimport BatchEdit from \"@/pages/track/case/components/BatchEdit.vue\"\nimport ShowMoreBtn from \"@/pages/track/case/components/ShowMoreBtn.vue\"\nimport NodeBreadcrumb from \"@/pages/track/common/NodeBreadcrumb.vue\"\nimport CaseTypeTableItem from \"@/pages/track/common/tableItems/CaseTypeTableItem.vue\"\nimport ExecutionTypeTableItem from \"@/pages/track/common/tableItems/ExecutionTypeTableItem.vue\"\nimport PlanCaseStatusTableItem from \"@/pages/track/common/tableItems/PlanCaseStatusTableItem.vue\"\nimport PriorityTableItem from \"@/pages/track/common/tableItems/PriorityTableItem.vue\"\nimport {getModuleByTreeId} from \"@/pages/track/common/utils\"\nimport TestCasePlanRun from \"@/pages/track/plan/view/comonents/TestCasePlanRun.vue\"\nimport TestCaseRelevance from \"@/pages/track/plan/view/comonents/TestCaseRelevance.vue\"\n\n// 执行方式\nconst executionOptions = Object.entries(executionType).map(([value, text]) => {\n  return {text: text, value: value}\n})\n// 用例优先级\nconst priorityOptions = Object.entries(priorityType).map(([value, text]) => {\n  return {text: text, value: value}\n})\n// 计划用例状态\nconst planResultOptions = Object.entries(planResultType).map(([value, text]) => {\n  return {text: text, value: value}\n})\n// 用例类型\nconst caseTypeOptions = Object.entries(caseTypeType).map(([value, text]) => {\n  return {text: text, value: value}\n})\n// 批量编辑类型\nconst caseBatchEditOptions = Object.entries(caseBatchEditType).map(([value, text]) => {\n  return {text: text, value: value}\n})\n\nexport default {\n  name: \"TestCasePlanList\",\n  components: {\n    BatchEdit,\n    TestCasePlanRun,\n    ExecutionTypeTableItem,\n    CaseTypeTableItem,\n    PlanCaseStatusTableItem,\n    PriorityTableItem,\n    ShowMoreBtn,\n    NodeBreadcrumb,\n    TableOperator,\n    TablePagination,\n    TableHeader,\n    TestCaseRelevance,\n  },\n  data() {\n    return {\n      executionOptions: executionOptions,\n      priorityOptions: priorityOptions,\n      planResultOptions: planResultOptions,\n      caseTypeOptions: caseTypeOptions,\n      caseBatchEditOptions: caseBatchEditOptions,\n      planStageEnum: planStageEnum,\n      users: this.users,\n      projects: this.projects,\n      condition: {},\n      buttons: [\n        {name: '批量编辑用例', handleClick: this.handleBatchEdit},\n        {name: '批量取消关联', handleClick: this.handleBatchUnRelate},\n      ],\n      allCase: false,\n      tableData: [],\n      selectRows: new Set(),\n      currentPage: 1,\n      pageSize: PAGINATION_SIZE.LARGE,\n      total: 0,\n      caseFilter: {},\n      batchEditValueArr: {\n        // 执行方式\n        result: planResultOptions,\n        // 维护人\n        executor: [],\n      },\n      planStage: '',\n      isQa: false,\n    }\n  },\n  props: {\n    treeNodes: Array,\n    selectNode: Object,\n    selectParentNodes: Array,\n  },\n  inject: ['projects', 'users'],\n  computed: {\n    planId() {\n      return this.$route.params.planId\n    },\n    projId() {\n      return this.$route.query.projId\n    },\n    treeId() {\n      return this.$route.query.treeId\n    },\n    caseIds() {\n      return Array.from(this.selectRows).map((row: { caseId: string }) => row.caseId)\n    },\n    table2BtnWidth() {\n      return variables['table2BtnWidth']\n    },\n    tableTimeWidth() {\n      return variables['tableTimeWidth']\n    }\n  },\n  watch: {\n    '$route'() {\n      this.initTableData()\n    },\n    treeNodes() {\n      this.initTableData()\n    },\n  },\n  mounted() {\n    this.getPlanDetail()\n  },\n  methods: {\n    setSelectOptions() {\n      this.setPriorityOptions()\n      this.setProjectOptions()\n      this.setCaseTypeOptions()\n      this.setExecutorOptions()\n    },\n    initTableData() {\n      this.setSelectOptions()\n      this.getData()\n    },\n    async getData(value?: string) {\n      let params: RequestGetTestCasePlanCaseList = {\n        offset: this.pageSize * (this.currentPage - 1),\n        limit: this.pageSize,\n        name: value,\n        treeId: this.treeId,\n        projId: this.treeId ? undefined : this.projId\n      }\n\n      this.caseFilter = sessionStorage.getItem(this.$route.path)\n      this.caseFilter = this.caseFilter ? JSON.parse(this.caseFilter) : {}\n      if (JSON.stringify(this.caseFilter) !== \"{}\") {\n        Object.assign(params, this.caseFilter)\n        this.$refs.table.columns.forEach((item: any) => {\n          item.filteredValue = this.caseFilter[item.columnKey]\n        })\n      }\n\n      await testPlanApi.getTestCasePlanCaseList(this.planId, params)\n        .then(({data}) => {\n          this.total = data.total\n          this.tableData = data.data\n          this.tableData.forEach((item: any) => {\n            item.treePath = getModuleByTreeId(this.treeNodes, item.treeId).path\n            item.updatedAt = formatTime(item.updatedAt)\n            item.projName = this.projects.find((obj: any) => obj.id === item.projId).name\n            item.caseDetail.steps.forEach((obj: typeCaseStep) => {\n              obj.actualStatus = stepStatusEnum.PASS\n            })\n            item.stepActualStatus.forEach((obj: stepStatusEnum, index: number) => {\n              item.caseDetail.steps[index].actualStatus = obj || stepStatusEnum.PASS\n            })\n            item.stepActualResults.forEach((obj: string, index: number) => {\n              item.caseDetail.steps[index].actualResult = obj\n            })\n          })\n        })\n    },\n    getPlanDetail() {\n      testPlanApi.getTestCasePlanDetail(this.planId)\n        .then((data: any) => {\n          this.planStage = data.stage\n        })\n    },\n    handleSwitch() {\n      Object.assign(\n        this.caseFilter,\n        {executor: this.allCase ? undefined : this.$store.state.login.username}\n      )\n      this.getData()\n      this.allCase = !this.allCase\n    },\n    handleSearch(value?: string) {\n      this.currentPage = 1\n      this.getData(value)\n    },\n    handleRunTest(testCase?: typePlanData) {\n      if (!testCase) testCase = this.tableData[0]\n      this.$eventBus.$emit(\"testPlanCaseRun\", testCase, this.tableData, this)\n    },\n    handleSelectAll(selection: Object[]) {\n      if (selection.length > 0) {\n        this.tableData.forEach((item: any) => {\n          this.$set(item, \"isDisabled\", false)\n        })\n        this.selectRows = new Set(selection)\n      } else {\n        this.selectRows.clear()\n        this.tableData.forEach((row: any) => {\n          this.$set(row, \"isDisabled\", true)\n        })\n      }\n    },\n    handleSelectionChange(selection: Object[], row: any) {\n      if (selection.indexOf(row) === -1) {\n        this.$set(row, \"isDisabled\", true)\n      } else {\n        this.$set(row, \"isDisabled\", false)\n      }\n      this.selectRows = new Set(selection)\n    },\n    handleRelateCase() {\n      this.$refs.testCaseRelevance.open(this.condition, this.projId)\n    },\n    handleBatchEdit() {\n      this.$refs.batchEdit.open()\n    },\n    handleBatchUnRelate() {\n      this.handleDelete('', true)\n    },\n    batchEdit(editForm: any) {\n      let body: RequestUpdateTestCaseBatch = {\n        caseIds: this.caseIds,\n        planId: this.planId,\n        type: caseUpdateTypeEnum.UPDATE_PLAN_STATUS,\n      }\n      if (editForm.type === caseBatchEditEnum.EXECUTOR) {\n        body = Object.assign(body, {\n          type: caseUpdateTypeEnum.UPDATE_PLAN_EXECUTOR,\n          executor: editForm.value,\n        })\n      } else if (editForm.type === caseBatchEditEnum.RESULT) {\n        if (this.isQa) {\n          body = Object.assign(body, {\n            type: caseUpdateTypeEnum.UPDATE_PLAN_SMOKE_CHECK,\n            smokeCheck: editForm.value,\n          })\n        } else {\n          body = Object.assign(body, {\n            status: editForm.value,\n          })\n        }\n      }\n      testCaseApi.updateTestCaseBatch(body)\n        .then(() => {\n          this.refreshTable()\n        })\n    },\n    refreshTable() {\n      this.$emit('refresh')\n    },\n    handleDelete(row?: any, isBatch?: boolean) {\n      const msg = row || isBatch ? '确认取消关联测试用例?' : '确认取消全部关联测试用例?'\n      this.$alert(msg, '', {\n        confirmButtonText: '确定',\n        showCancelButton: true,\n        cancelButtonText: '取消',\n        callback: (action: string) => {\n          if (action === 'confirm') {\n            let body: RequestUpdateTestCasePlanCaseList = {\n              operation: planOperationEnum.REMOVE,\n              caseIds: isBatch ? this.caseIds : (row ? [row.caseId] : []),\n              projId: this.projId,\n              treeId: this.treeId,\n            }\n            testPlanApi.updateTestCasePlanCaseList(this.planId, body)\n              .then(() => {\n                this.refreshTable()\n              })\n          }\n        }\n      })\n    },\n    filter(filters: any) {\n      this.currentPage = 1\n      _filter(filters, this.caseFilter, this.$route.path)\n      this.initTableData()\n    },\n    setReviewerOptions() {\n      this.condition.reviewerOptions = this.users\n    },\n    setProjectOptions() {\n      this.condition.projectOptions = this.treeNodes\n    },\n    setPriorityOptions() {\n      this.condition.priorityOptions = this.priorityOptions\n    },\n    setCaseTypeOptions() {\n      this.condition.caseTypeOptions = this.caseTypeOptions\n    },\n    setExecutorOptions() {\n      this.batchEditValueArr.executor = this.users\n    },\n    handleRowClick(row: any) {\n      this.$router.push({\n        name: PathName.TestTrackCaseReviewView,\n        params: {reviewId: row.id},\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.el-table {\n  cursor: pointer;\n}\n\n</style>\n"]}]}