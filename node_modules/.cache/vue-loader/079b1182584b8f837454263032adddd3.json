{"remainingRequest":"/Users/jlglqa/Documents/QA/noa/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jlglqa/Documents/QA/noa/src/pages/dataTools/components/updateUser.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jlglqa/Documents/QA/noa/src/pages/dataTools/components/updateUser.vue","mtime":1655949681775},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/babel-loader/lib/index.js","mtime":1644314985388},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/cache-loader/dist/cjs.js","mtime":1644298102062},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/vue-loader/lib/index.js","mtime":1644314988580}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7ZGF0YVRvb2xBcGl9IGZyb20gIkAvYXBpIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAidXBkYXRlVXNlciIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVwZGF0ZUZvcm06IHsKICAgICAgICBtb2JpbGU6ICcnLAogICAgICAgIHN0YXRlOiAnJywKICAgICAgICBkYXRlOiAnJywKICAgICAgfSwKICAgICAgb3B0aW9uczogW3sKICAgICAgICBsYWJlbDogJ+a/gOa0uycsCiAgICAgICAgdmFsdWU6ICdhY3RpdmUnLAogICAgICB9LAogICAgICAgIHsKICAgICAgICAgIGxhYmVsOiAn5Ya757uTJywKICAgICAgICAgIHZhbHVlOiAnZnJvemVuJywKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIGxhYmVsOiAn5bCB5Y+3JywKICAgICAgICAgIHZhbHVlOiAnZm9yYmlkZGVuJywKICAgICAgICB9LHsKICAgICAgICAgIGxhYmVsOiAn5pyq5r+A5rS7JywKICAgICAgICAgIHZhbHVlOiAnaW5hY3RpdmUnLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgbGFiZWw6ICflt7LlpLHmlYgnLAogICAgICAgICAgdmFsdWU6ICdpbnZhbGlkJywKICAgICAgICB9XSwKICAgICAgcmVzdWx0OiAnJywKICAgICAgZGVsZXRlQ2xhc3M6IGZhbHNlLAogICAgICBjYW5jZWxVc2VyOiBmYWxzZSwKICAgICAgZGVsZXRlU2FtcGxlOiBmYWxzZQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgcXVlcnlDbGFzcygpIHsKICAgICAgY29uc29sZS5sb2codGhpcy51cGRhdGVGb3JtKQogICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWYKICAgICAgbGV0IHF1ZXJ5X3BhcmFtcyA9IF8uY2xvbmVEZWVwKHRoaXMudXBkYXRlRm9ybSk7CiAgICAgIGRhdGFUb29sQXBpLmdldFVzZXJDbGFzcyhxdWVyeV9wYXJhbXMpLnRoZW4ocmVzID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YSkKICAgICAgICB0aGlzLnJlc3VsdCA9IHJlcy5kYXRhCiAgICAgIH0pCiAgICB9LAogICAgZGVsZXRlQWxsQ2xhc3MoKSB7CiAgICAgIHRoaXMuZGVsZXRlQ2xhc3MgPSB0cnVlCiAgICB9LAogICAgZGVsZXRlVXNlcigpIHsKICAgICAgdGhpcy5jYW5jZWxVc2VyID0gdHJ1ZQogICAgfSwKICAgIGRlbGV0ZVVzZXJTYW1wbGUoKSB7CiAgICAgIHRoaXMuZGVsZXRlU2FtcGxlID0gdHJ1ZQogICAgfSwKICAgIGRlbGV0ZVN1Ym1pdCgpIHsKICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmCiAgICAgIGxldCBkZWxldGVfcGFyYW1zID0gXy5jbG9uZURlZXAodGhpcy51cGRhdGVGb3JtKTsKICAgICAgZGF0YVRvb2xBcGkuZGVsZXRlVXNlckFsbENsYXNzKGRlbGV0ZV9wYXJhbXMpLnRoZW4oKQogICAgfSwKICAgIGRlbGV0ZVVzZXJTdWJtaXQoKSB7CiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZgogICAgICBsZXQgZGVsZXRlX3VzZXJfcGFyYW1zID0gXy5jbG9uZURlZXAodGhpcy51cGRhdGVGb3JtKQogICAgICBkYXRhVG9vbEFwaS5kZWxldGVBY2NvdW50KGRlbGV0ZV91c2VyX3BhcmFtcykudGhlbigpCiAgICAgIHRoaXMuY2FuY2VsVXNlciA9IGZhbHNlCiAgICB9LAogICAgZGVsZXRlU2FtcGxlU3VibWl0KCkgewogICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWYKICAgICAgbGV0IGRlbGV0ZV9zYW1wbGVfcGFyYW1zID0gXy5jbG9uZURlZXAodGhpcy51cGRhdGVGb3JtKQogICAgICBkYXRhVG9vbEFwaS5kZWxldGVVc2VyU2FtcGxlQ2xhc3MoZGVsZXRlX3NhbXBsZV9wYXJhbXMpLnRoZW4oKQogICAgICB0aGlzLmRlbGV0ZVNhbXBsZSA9IGZhbHNlCiAgICB9LAogICAgdXBkYXRlcHJvbW90ZXIoKSB7CiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZgogICAgICBsZXQgcHJvbW90ZXJfcGFyYW1zID0gXy5jbG9uZURlZXAodGhpcy51cGRhdGVGb3JtKTsKICAgICAgZGF0YVRvb2xBcGkudXBkYXRlUHJvbW90ZXJTdGF0ZShwcm9tb3Rlcl9wYXJhbXMpLnRoZW4oKQogICAgfSwKICAgIHJlc2V0Rm9ybShmb3JtTmFtZSkgewogICAgICB0aGlzLiRyZWZzW2Zvcm1OYW1lXS5yZXNldEZpZWxkcygpOwogICAgfSwKICB9Cn0K"},{"version":3,"sources":["updateUser.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"updateUser.vue","sourceRoot":"src/pages/dataTools/components","sourcesContent":["<template>\n  <div>\n    <el-card style=\"margin-top: 20px\">\n      <div>\n        <el-form ref=\"updateForm\" :model=\"updateForm\" label-width=\"100px\" style=\"width: 100%; margin: 20px auto\">\n          <el-form-item label=\"手机号:\" prop=\"mobile\">\n            <el-input v-model=\"updateForm.mobile\" style=\"width: 200px\" placeholder=\"请输入手机号\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"状态:\" prop=\"state\">\n            <el-select v-model=\"updateForm.state\" style=\"width: 200px\">\n              <el-option\n              v-for=\"item in options\"\n              :key=\"item.label\"\n              :label=\"item.label\"\n              :value=\"item.value\"></el-option>\n            </el-select>\n            <el-tooltip class=\"item\" effect=\"dark\" content=\"若场景为修改推广人状态，此字段必填\" placement=\"top\">\n              <i class=\"el-icon-question\" style=\"margin-left: 5px\"></i>\n            </el-tooltip>\n          </el-form-item>\n          <el-form-item style=\"margin-top: 30px\">\n            <el-button type=\"primary\" @click=\"queryClass\">查询用户所有课程</el-button>\n            <el-button type=\"primary\" @click=\"deleteAllClass\">删除用户所有课程</el-button>\n            <el-button type=\"primary\" @click=\"deleteUser\">注销</el-button>\n          </el-form-item>\n          <el-form-item>\n            <el-button type=\"primary\" @click=\"deleteUserSample\">删除用户体验课</el-button>\n            <el-button type=\"primary\" @click=\"updatepromoter\">修改推广人状态</el-button>\n            <el-button @click=\"resetForm('updateForm')\">重置</el-button>\n          </el-form-item>\n        </el-form>\n      </div>\n      <div style=\"margin-top: 50px; margin-left: 28px\">\n        <span style=\"font-size: 14px; float: left; color: #606266\">响应数据：</span>\n        <el-input type=\"textarea\" :rows=\"15\" style=\"margin-top: 10px\" v-model=\"result\"></el-input>\n      </div>\n      <div>\n        <el-dialog :visible.sync=\"deleteClass\" center title=\"提示\" width=\"30%\">\n          <span>是否要删除用户下已拥有的所有课程？</span>\n          <span slot=\"footer\">\n          <el-button @click=\"deleteClass = false\">取 消</el-button>\n          <el-button type=\"primary\" @click=\"deleteSubmit\">确 定</el-button>\n        </span>\n        </el-dialog>\n        <el-dialog :visible.sync=\"cancelUser\" center title=\"提示\" width=\"30%\">\n          <span>是否要注销用户？</span>\n          <span slot=\"footer\">\n          <el-button @click=\"cancelUser = false\">取 消</el-button>\n          <el-button type=\"primary\" @click=\"deleteUserSubmit\">确 定</el-button>\n        </span>\n        </el-dialog>\n        <el-dialog :visible.sync=\"deleteSample\" center title=\"提示\" width=\"30%\">\n          <span>是否要删除用户下体验课？</span>\n          <span slot=\"footer\">\n          <el-button @click=\"deleteSample = false\">取 消</el-button>\n          <el-button type=\"primary\" @click=\"deleteSampleSubmit\">确 定</el-button>\n        </span>\n        </el-dialog>\n      </div>\n    </el-card>\n  </div>\n\n</template>\n\n<script>\nimport {dataToolApi} from \"@/api\";\n\nexport default {\n  name: \"updateUser\",\n  data() {\n    return {\n      updateForm: {\n        mobile: '',\n        state: '',\n        date: '',\n      },\n      options: [{\n        label: '激活',\n        value: 'active',\n      },\n        {\n          label: '冻结',\n          value: 'frozen',\n        },\n        {\n          label: '封号',\n          value: 'forbidden',\n        },{\n          label: '未激活',\n          value: 'inactive',\n        },\n        {\n          label: '已失效',\n          value: 'invalid',\n        }],\n      result: '',\n      deleteClass: false,\n      cancelUser: false,\n      deleteSample: false\n    }\n  },\n  methods: {\n    queryClass() {\n      console.log(this.updateForm)\n      // eslint-disable-next-line no-undef\n      let query_params = _.cloneDeep(this.updateForm);\n      dataToolApi.getUserClass(query_params).then(res => {\n        console.log(res.data)\n        this.result = res.data\n      })\n    },\n    deleteAllClass() {\n      this.deleteClass = true\n    },\n    deleteUser() {\n      this.cancelUser = true\n    },\n    deleteUserSample() {\n      this.deleteSample = true\n    },\n    deleteSubmit() {\n      // eslint-disable-next-line no-undef\n      let delete_params = _.cloneDeep(this.updateForm);\n      dataToolApi.deleteUserAllClass(delete_params).then()\n    },\n    deleteUserSubmit() {\n      // eslint-disable-next-line no-undef\n      let delete_user_params = _.cloneDeep(this.updateForm)\n      dataToolApi.deleteAccount(delete_user_params).then()\n      this.cancelUser = false\n    },\n    deleteSampleSubmit() {\n      // eslint-disable-next-line no-undef\n      let delete_sample_params = _.cloneDeep(this.updateForm)\n      dataToolApi.deleteUserSampleClass(delete_sample_params).then()\n      this.deleteSample = false\n    },\n    updatepromoter() {\n      // eslint-disable-next-line no-undef\n      let promoter_params = _.cloneDeep(this.updateForm);\n      dataToolApi.updatePromoterState(promoter_params).then()\n    },\n    resetForm(formName) {\n      this.$refs[formName].resetFields();\n    },\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n.title_top{\n  margin-top: 20px;\n  color: #909399;\n  font-size: 16px;\n  font-weight: 600;\n  float: left;\n}\n</style>\n"]}]}