{"remainingRequest":"/Users/jlglqa/Documents/QA/noa/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jlglqa/Documents/QA/noa/src/pages/track/review/view/components/TestReviewTestCaseList.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/jlglqa/Documents/QA/noa/src/pages/track/review/view/components/TestReviewTestCaseList.vue","mtime":1655949681808},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/babel-loader/lib/index.js","mtime":1644314985388},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/ts-loader/index.js","mtime":1644314987889},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/cache-loader/dist/cjs.js","mtime":1644298102062},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/vue-loader/lib/index.js","mtime":1644314988580}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCmltcG9ydCB7dGVzdENhc2VBcGl9IGZyb20gIkAvYXBpIgppbXBvcnQge1JlcXVlc3RHZXRUZXN0Q2FzZUxpc3QsIFJlcXVlc3RVcGRhdGVUZXN0Q2FzZUJhdGNofSBmcm9tICJAL2FwaS90eXBlcy90ZXN0VHJhY2siCmltcG9ydCB7dHlwZUNhc2VEYXRhfSBmcm9tICJAL2FwaS90eXBlcy90ZXN0VHJhY2tUeXBlIgppbXBvcnQgdmFyaWFibGVzIGZyb20gIkAvYXNzZXRzL2Nzcy91dGlscy5zY3NzIgppbXBvcnQgVGFibGVQYWdpbmF0aW9uIGZyb20gIkAvY29tbW9uL2NvbXBvbmVudHMvcGFnaW5hdGlvbi9UYWJsZVBhZ2luYXRpb24udnVlIgppbXBvcnQgVGFibGVIZWFkZXIgZnJvbSAiQC9jb21tb24vY29tcG9uZW50cy9UYWJsZUhlYWRlci52dWUiCmltcG9ydCBUYWJsZU9wZXJhdG9yIGZyb20gIkAvY29tbW9uL2NvbXBvbmVudHMvVGFibGVPcGVyYXRvci52dWUiCmltcG9ydCB7X2ZpbHRlciwgZm9ybWF0VGltZX0gZnJvbSAiQC9jb21tb24vdXRpbHMiCmltcG9ydCB7UEFHSU5BVElPTl9TSVpFfSBmcm9tICJAL2NvbnN0YW50IgppbXBvcnQge2Nhc2VUeXBlVHlwZSwgY2FzZVVwZGF0ZVR5cGVFbnVtLCBleGVjdXRpb25UeXBlLCBwcmlvcml0eVR5cGV9IGZyb20gIkAvY29uc3RhbnQvVGVzdENhc2UiCmltcG9ydCB7Y2FzZUJhdGNoUmV2aWV3VHlwZSwgcmV2aWV3Q2FzZVN0YXR1c1R5cGV9IGZyb20gIkAvY29uc3RhbnQvVGVzdFJlaXZldyIKaW1wb3J0IEJhdGNoRWRpdCBmcm9tICJAL3BhZ2VzL3RyYWNrL2Nhc2UvY29tcG9uZW50cy9CYXRjaEVkaXQudnVlIgppbXBvcnQgU2hvd01vcmVCdG4gZnJvbSAiQC9wYWdlcy90cmFjay9jYXNlL2NvbXBvbmVudHMvU2hvd01vcmVCdG4udnVlIgppbXBvcnQgQ2FzZVR5cGVUYWJsZUl0ZW0gZnJvbSAiQC9wYWdlcy90cmFjay9jb21tb24vdGFibGVJdGVtcy9DYXNlVHlwZVRhYmxlSXRlbS52dWUiCmltcG9ydCBFeGVjdXRpb25UeXBlVGFibGVJdGVtIGZyb20gIkAvcGFnZXMvdHJhY2svY29tbW9uL3RhYmxlSXRlbXMvRXhlY3V0aW9uVHlwZVRhYmxlSXRlbS52dWUiCmltcG9ydCBQcmlvcml0eVRhYmxlSXRlbSBmcm9tICJAL3BhZ2VzL3RyYWNrL2NvbW1vbi90YWJsZUl0ZW1zL1ByaW9yaXR5VGFibGVJdGVtLnZ1ZSIKaW1wb3J0IFJldmlld0Nhc2VTdGF0dXNUYWJsZUl0ZW0gZnJvbSAiQC9wYWdlcy90cmFjay9jb21tb24vdGFibGVJdGVtcy9SZXZpZXdDYXNlU3RhdHVzVGFibGVJdGVtLnZ1ZSIKaW1wb3J0IHtnZXRNb2R1bGVCeVRyZWVJZCwgZ2V0TW9kdWxlT3B0aW9uc30gZnJvbSAiQC9wYWdlcy90cmFjay9jb21tb24vdXRpbHMiCgovLyDmiafooYzmlrnlvI8KY29uc3QgZXhlY3V0aW9uT3B0aW9ucyA9IE9iamVjdC5lbnRyaWVzKGV4ZWN1dGlvblR5cGUpLm1hcCgoW3ZhbHVlLCB0ZXh0XSkgPT4gewogIHJldHVybiB7dGV4dDogdGV4dCwgdmFsdWU6IHZhbHVlfQp9KQovLyDnlKjkvovkvJjlhYjnuqcKY29uc3QgcHJpb3JpdHlPcHRpb25zID0gT2JqZWN0LmVudHJpZXMocHJpb3JpdHlUeXBlKS5tYXAoKFt2YWx1ZSwgdGV4dF0pID0+IHsKICByZXR1cm4ge3RleHQ6IHRleHQsIHZhbHVlOiB2YWx1ZX0KfSkKLy8g6K+E5a6h54q25oCBCmNvbnN0IHN0YXR1c09wdGlvbnMgPSBPYmplY3QuZW50cmllcyhyZXZpZXdDYXNlU3RhdHVzVHlwZSkubWFwKChbdmFsdWUsIHRleHRdKSA9PiB7CiAgcmV0dXJuIHt0ZXh0OiB0ZXh0LCB2YWx1ZTogdmFsdWV9Cn0pCi8vIOeUqOS+i+exu+Weiwpjb25zdCBjYXNlVHlwZU9wdGlvbnMgPSBPYmplY3QuZW50cmllcyhjYXNlVHlwZVR5cGUpLm1hcCgoW3ZhbHVlLCB0ZXh0XSkgPT4gewogIHJldHVybiB7dGV4dDogdGV4dCwgdmFsdWU6IHZhbHVlfQp9KQovLyDmibnph4/nvJbovpHnsbvlnosKY29uc3QgY2FzZUJhdGNoUmV2aWV3T3B0aW9ucyA9IE9iamVjdC5lbnRyaWVzKGNhc2VCYXRjaFJldmlld1R5cGUpLm1hcCgoW3ZhbHVlLCB0ZXh0XSkgPT4gewogIHJldHVybiB7dGV4dDogdGV4dCwgdmFsdWU6IHZhbHVlfQp9KQoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJUZXN0UmV2aWV3VGVzdENhc2VMaXN0IiwKICBjb21wb25lbnRzOiB7CiAgICBFeGVjdXRpb25UeXBlVGFibGVJdGVtLAogICAgQ2FzZVR5cGVUYWJsZUl0ZW0sCiAgICBSZXZpZXdDYXNlU3RhdHVzVGFibGVJdGVtLAogICAgVGFibGVPcGVyYXRvciwKICAgIFByaW9yaXR5VGFibGVJdGVtLAogICAgVGFibGVQYWdpbmF0aW9uLAogICAgVGFibGVIZWFkZXIsCiAgICBCYXRjaEVkaXQsCiAgICBTaG93TW9yZUJ0biwKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBleGVjdXRpb25PcHRpb25zOiBleGVjdXRpb25PcHRpb25zLAogICAgICBwcmlvcml0eU9wdGlvbnM6IHByaW9yaXR5T3B0aW9ucywKICAgICAgc3RhdHVzT3B0aW9uczogc3RhdHVzT3B0aW9ucywKICAgICAgY2FzZVR5cGVPcHRpb25zOiBjYXNlVHlwZU9wdGlvbnMsCiAgICAgIGNhc2VCYXRjaFJldmlld09wdGlvbnM6IGNhc2VCYXRjaFJldmlld09wdGlvbnMsCiAgICAgIHRhYmxlRGF0YTogW10sCiAgICAgIHRyZWVOb2RlczogW10sCiAgICAgIGN1cnJlbnRQYWdlOiAxLAogICAgICBwYWdlU2l6ZTogUEFHSU5BVElPTl9TSVpFLkxBUkdFLAogICAgICB0b3RhbDogMCwKICAgICAgc2VsZWN0Um93czogbmV3IFNldCgpLAogICAgICBpc0Rpc2FibGVkOiB0cnVlLAogICAgICBjYXNlRmlsdGVyOiB7fSwKICAgICAgYnV0dG9uczogW3tuYW1lOiAn5om56YeP6K+E5a6h55So5L6LJywgaGFuZGxlQ2xpY2s6IHRoaXMuaGFuZGxlQmF0Y2hSZXZpZXd9XSwKICAgICAgY29uZGl0aW9uOiB7CiAgICAgICAgLy8g5omA5bGe5qih5Z2XCiAgICAgICAgbW9kdWxlT3B0aW9uczogW10sCiAgICAgICAgLy8g57u05oqk5Lq6CiAgICAgICAgbWFpbnRhaW5lck9wdGlvbnM6IFtdLAogICAgICAgIC8vIOaJp+ihjOaWueW8jwogICAgICAgIGV4ZWN1dGlvbk9wdGlvbnM6IGV4ZWN1dGlvbk9wdGlvbnMsCiAgICAgICAgLy8g5LyY5YWI57qnCiAgICAgICAgcHJpb3JpdHlPcHRpb25zOiBwcmlvcml0eU9wdGlvbnMsCiAgICAgICAgLy8g55So5L6L57G75Z6LCiAgICAgICAgY2FzZVR5cGVPcHRpb25zOiBjYXNlVHlwZU9wdGlvbnMsCiAgICAgIH0sCiAgICAgIGJhdGNoUmV2aWV3VmFsdWVBcnI6IHsKICAgICAgICAvLyDor4TlrqHnirbmgIEKICAgICAgICBzdGF0dXM6IHN0YXR1c09wdGlvbnMsCiAgICAgIH0sCiAgICB9CiAgfSwKICBwcm9wczogewogICAgY3VycmVudFJldmlldzogT2JqZWN0LAogICAgcHJvamVjdHM6IEFycmF5LAogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGxvYWRpbmcoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5sb2FkaW5nCiAgICB9LAogICAgdXNlcnMoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS51c2Vycy51c2VycwogICAgfSwKICAgIHRhYmxlMUJ0bldpZHRoKCkgewogICAgICByZXR1cm4gdmFyaWFibGVzWyd0YWJsZTFCdG5XaWR0aCddCiAgICB9LAogICAgdGFibGVUaW1lV2lkdGgoKSB7CiAgICAgIHJldHVybiB2YXJpYWJsZXNbJ3RhYmxlVGltZVdpZHRoJ10KICAgIH0sCiAgICBjYXNlSWRzKCkgewogICAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLnNlbGVjdFJvd3MpLm1hcCgocm93OiB7IGlkOiBzdHJpbmcgfSkgPT4gcm93LmlkKQogICAgfSwKICB9LAogIHdhdGNoOiB7CiAgICBjdXJyZW50UmV2aWV3KCkgewogICAgICB0aGlzLmluaXRUYWJsZURhdGEoKQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgYXN5bmMgc2V0U2VsZWN0T3B0aW9ucygpIHsKICAgICAgYXdhaXQgdGhpcy5zZXRNb2R1bGVPcHRpb25zKCkKICAgICAgLy8gdGhpcy5zZXRNYWludGFpbmVyT3B0aW9ucygpCiAgICB9LAogICAgYXN5bmMgaW5pdFRhYmxlRGF0YSgpIHsKICAgICAgYXdhaXQgdGhpcy5zZXRTZWxlY3RPcHRpb25zKCkKICAgICAgYXdhaXQgdGhpcy5nZXREYXRhKCkKICAgIH0sCiAgICBhc3luYyBnZXREYXRhKHZhbHVlPzogc3RyaW5nKSB7CiAgICAgIGNvbnN0IHBhcmFtczogUmVxdWVzdEdldFRlc3RDYXNlTGlzdCA9IHsKICAgICAgICB0cmVlSWQ6IHRoaXMuY3VycmVudFJldmlldy50cmVlSWQsCiAgICAgICAgb2Zmc2V0OiB0aGlzLnBhZ2VTaXplICogKHRoaXMuY3VycmVudFBhZ2UgLSAxKSwKICAgICAgICBsaW1pdDogdGhpcy5wYWdlU2l6ZSwKICAgICAgICBuYW1lOiB2YWx1ZSwKICAgICAgfQoKICAgICAgdGhpcy5jYXNlRmlsdGVyID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSh0aGlzLiRyb3V0ZS5wYXRoKQogICAgICB0aGlzLmNhc2VGaWx0ZXIgPSB0aGlzLmNhc2VGaWx0ZXIgPyBKU09OLnBhcnNlKHRoaXMuY2FzZUZpbHRlcikgOiB7fQogICAgICBpZiAoSlNPTi5zdHJpbmdpZnkodGhpcy5jYXNlRmlsdGVyKSAhPT0gInt9IikgewogICAgICAgIE9iamVjdC5hc3NpZ24ocGFyYW1zLCB0aGlzLmNhc2VGaWx0ZXIpCiAgICAgICAgdGhpcy4kcmVmcy50YWJsZS5jb2x1bW5zLmZvckVhY2goKGl0ZW06IGFueSkgPT4gewogICAgICAgICAgaXRlbS5maWx0ZXJlZFZhbHVlID0gdGhpcy5jYXNlRmlsdGVyW2l0ZW0uY29sdW1uS2V5XQogICAgICAgIH0pCiAgICAgIH0KCiAgICAgIGF3YWl0IHRlc3RDYXNlQXBpLmdldFRlc3RDYXNlTGlzdChwYXJhbXMpCiAgICAgICAgLnRoZW4oKHtkYXRhfSkgPT4gewogICAgICAgICAgdGhpcy50b3RhbCA9IGRhdGEudG90YWwKICAgICAgICAgIHRoaXMudGFibGVEYXRhID0gZGF0YS5kYXRhCiAgICAgICAgICB0aGlzLnRhYmxlRGF0YS5mb3JFYWNoKChpdGVtOiBhbnkpID0+IHsKICAgICAgICAgICAgaXRlbS51cGRhdGVkQXQgPSBmb3JtYXRUaW1lKGl0ZW0udXBkYXRlZEF0KQogICAgICAgICAgICBpdGVtLnRyZWVQYXRoID0gZ2V0TW9kdWxlQnlUcmVlSWQodGhpcy50cmVlTm9kZXMsIGl0ZW0udHJlZUlkKS5wYXRoCiAgICAgICAgICAgIGl0ZW0ucHJvak5hbWUgPSB0aGlzLnByb2plY3RzLmZpbmQoKG9iajogYW55KSA9PiBvYmouaWQgPT09IGl0ZW0ucHJvaklkKS5uYW1lCiAgICAgICAgICB9KQogICAgICAgIH0pCiAgICB9LAogICAgaGFuZGxlU2VhcmNoKHZhbHVlPzogc3RyaW5nKSB7CiAgICAgIHRoaXMuZ2V0RGF0YSh2YWx1ZSkKICAgIH0sCiAgICBoYW5kbGVSZXZpZXdSdW4odGVzdENhc2U/OiB0eXBlQ2FzZURhdGEpIHsKICAgICAgLy8g5byA5aeL6K+E5a6h5oyJ6ZKu77yM6buY6K6k6YCJ5oup56ys5LiA5LiqCiAgICAgIGlmICghdGVzdENhc2UpIHRlc3RDYXNlID0gdGhpcy50YWJsZURhdGFbMF0KICAgICAgdGhpcy4kZXZlbnRCdXMuJGVtaXQoInRlc3RSZXZpZXdDYXNlUnVuIiwgdGVzdENhc2UsIHRoaXMudGFibGVEYXRhLCB0aGlzKQogICAgfSwKICAgIGhhbmRsZVNlbGVjdEFsbChzZWxlY3Rpb246IE9iamVjdFtdKSB7CiAgICAgIGlmIChzZWxlY3Rpb24ubGVuZ3RoID4gMCkgewogICAgICAgIHRoaXMudGFibGVEYXRhLmZvckVhY2goKGl0ZW06IGFueSkgPT4gewogICAgICAgICAgdGhpcy4kc2V0KGl0ZW0sICJpc0Rpc2FibGVkIiwgZmFsc2UpCiAgICAgICAgfSkKICAgICAgICB0aGlzLnNlbGVjdFJvd3MgPSBuZXcgU2V0KHNlbGVjdGlvbikKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnNlbGVjdFJvd3MuY2xlYXIoKQogICAgICAgIHRoaXMudGFibGVEYXRhLmZvckVhY2goKHJvdzogYW55KSA9PiB7CiAgICAgICAgICB0aGlzLiRzZXQocm93LCAiaXNEaXNhYmxlZCIsIHRydWUpCiAgICAgICAgfSkKICAgICAgfQogICAgfSwKICAgIGhhbmRsZVNlbGVjdGlvbkNoYW5nZShzZWxlY3Rpb246IE9iamVjdFtdLCByb3c6IGFueSkgewogICAgICBpZiAoc2VsZWN0aW9uLmluZGV4T2Yocm93KSA9PT0gLTEpIHsKICAgICAgICB0aGlzLiRzZXQocm93LCAiaXNEaXNhYmxlZCIsIHRydWUpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kc2V0KHJvdywgImlzRGlzYWJsZWQiLCBmYWxzZSkKICAgICAgfQogICAgICB0aGlzLnNlbGVjdFJvd3MgPSBuZXcgU2V0KHNlbGVjdGlvbikKICAgIH0sCiAgICBiYXRjaFJldmlldyhyZXZpZXdGb3JtOiBhbnkpIHsKICAgICAgY29uc3QgYm9keTogUmVxdWVzdFVwZGF0ZVRlc3RDYXNlQmF0Y2ggPSB7CiAgICAgICAgY2FzZUlkczogdGhpcy5jYXNlSWRzLAogICAgICAgIHR5cGU6IGNhc2VVcGRhdGVUeXBlRW51bS5VUERBVEVfUkVWSUVXX1NUQVRVUywKICAgICAgICBzdGF0dXM6IHJldmlld0Zvcm0udmFsdWUsCiAgICAgICAgcmV2aWV3SWQ6IHRoaXMuY3VycmVudFJldmlldy5pZCwKICAgICAgfQogICAgICB0ZXN0Q2FzZUFwaS51cGRhdGVUZXN0Q2FzZUJhdGNoKGJvZHkpCiAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgdGhpcy5yZWZyZXNoKCkKICAgICAgICB9KQogICAgfSwKICAgIGhhbmRsZUJhdGNoUmV2aWV3KCkgewogICAgICB0aGlzLiRyZWZzLmJhdGNoRWRpdC5vcGVuKCkKICAgIH0sCiAgICByZWZyZXNoKCkgewogICAgICB0aGlzLiRlbWl0KCdyZWZyZXNoJykKICAgIH0sCiAgICBmaWx0ZXIoZmlsdGVyczogYW55KSB7CiAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSAxCiAgICAgIF9maWx0ZXIoZmlsdGVycywgdGhpcy5jYXNlRmlsdGVyLCB0aGlzLiRyb3V0ZS5wYXRoKQogICAgICB0aGlzLmluaXRUYWJsZURhdGEoKQogICAgfSwKICAgIHNldE1haW50YWluZXJPcHRpb25zKCkgewogICAgICB0aGlzLmNvbmRpdGlvbi5tYWludGFpbmVyT3B0aW9ucyA9IHRoaXMudXNlcnMKICAgIH0sCiAgICBhc3luYyBzZXRNb2R1bGVPcHRpb25zKCkgewogICAgICBhd2FpdCB0ZXN0Q2FzZUFwaS5nZXRUZXN0Q2FzZU1vZHVsZXMoe3Byb2pJZDogdGhpcy5jdXJyZW50UmV2aWV3LnByb2pJZH0pCiAgICAgICAgLnRoZW4oKHtkYXRhfSkgPT4gewogICAgICAgICAgdGhpcy50cmVlTm9kZXMgPSBkYXRhCiAgICAgICAgICB0aGlzLmNvbmRpdGlvbi5tb2R1bGVPcHRpb25zID0gZ2V0TW9kdWxlT3B0aW9ucyh0aGlzLnRyZWVOb2RlcykKICAgICAgICB9KQogICAgfSwKICB9Cn0K"},{"version":3,"sources":["TestReviewTestCaseList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TestReviewTestCaseList.vue","sourceRoot":"src/pages/track/review/view/components","sourcesContent":["<template>\n  <div>\n    <el-card class=\"card-content\">\n      <template slot=\"header\">\n        <table-header\n          :condition=\"condition\"\n          :show-create=\"false\"\n          :show-run=\"true\"\n          run-tip=\"开始评审\"\n          @runTest=\"handleReviewRun\"\n          @search=\"handleSearch\"\n        >\n          <template slot=\"title\">\n            <div>全部用例</div>\n          </template>\n        </table-header>\n\n      </template>\n      <el-table\n        ref=\"table\"\n        v-loading=\"loading\"\n        :data=\"tableData\"\n        class=\"test-content adjust-table\"\n        row-key=\"id\"\n        @select=\"handleSelectionChange\"\n        @filter-change=\"filter\"\n        @select-all=\"handleSelectAll\"\n        @row-click=\"handleReviewRun\"\n      >\n\n        <!--  复选框  -->\n        <el-table-column type=\"selection\"/>\n\n        <!--  复选按钮 -->\n        <el-table-column :resizable=\"false\" align=\"center\" width=\"40\">\n          <template slot-scope=\"scope\">\n            <show-more-btn\n              :buttons=\"buttons\"\n              :is-disabled=\"scope.row.isDisabled\"\n              :size=\"selectRows.size\"\n            />\n          </template>\n        </el-table-column>\n\n        <!--  名称  -->\n        <el-table-column label=\"名称\" prop=\"name\" show-overflow-tooltip/>\n\n        <!--  用例等级  -->\n        <el-table-column\n          :filters=\"priorityOptions\"\n          column-key=\"importance\"\n          label=\"用例等级\"\n          prop=\"importance\"\n          show-overflow-tooltip\n        >\n          <template slot-scope=\"scope\">\n            <priority-table-item :value=\"scope.row.importance\"/>\n          </template>\n        </el-table-column>\n\n        <!--  类型  -->\n        <el-table-column\n          column-key=\"caseType\"\n          label=\"类型\"\n          prop=\"caseType\"\n          show-overflow-tooltip\n        >\n          <template slot-scope=\"scope\">\n            <case-type-table-item :value=\"scope.row.caseType\"/>\n          </template>\n        </el-table-column>\n\n        <!--  测试方式  -->\n        <el-table-column\n          column-key=\"executionType\"\n          label=\"测试方式\"\n          prop=\"executionType\"\n          show-overflow-tooltip\n        >\n          <template slot-scope=\"scope\">\n            <execution-type-table-item :value=\"scope.row.executionType\"/>\n          </template>\n        </el-table-column>\n\n        <!--  所属模块  -->\n        <el-table-column label=\"所属模块\" prop=\"treePath\" show-overflow-tooltip/>\n\n        <!--  所属项目  -->\n        <el-table-column label=\"所属项目\" prop=\"projName\" show-overflow-tooltip/>\n\n        <!--  评审结果  -->\n        <el-table-column :filters=\"statusOptions\" column-key=\"status\" label=\"评审结果\">\n          <template slot-scope=\"scope\">\n            <review-case-status-table-item :value=\"scope.row.status\"/>\n          </template>\n        </el-table-column>\n\n        <!--  更新时间  -->\n        <el-table-column\n          :width=\"tableTimeWidth\"\n          label=\"更新时间\"\n          prop=\"updatedAt\"\n          show-overflow-tooltip\n          sortable\n        />\n\n        <!--  操作  -->\n        <el-table-column :width=\"table1BtnWidth\" label=\"操作\">\n          <template slot-scope=\"scope\">\n            <table-operator run-tip=\"开始评审\" show-run @runClick=\"handleReviewRun(scope.row)\"/>\n          </template>\n        </el-table-column>\n      </el-table>\n\n      <table-pagination\n        :change=\"initTableData\"\n        :current-page.sync=\"currentPage\"\n        :page-size.sync=\"pageSize\"\n        :total=\"total\"\n      />\n\n    </el-card>\n\n    <batch-edit\n      ref=\"batchEdit\"\n      :type-arr=\"caseBatchReviewOptions\"\n      :value-arr=\"batchReviewValueArr\"\n      dialog-title=\"批量评审用例\"\n      @batchEdit=\"batchReview\"\n    />\n\n  </div>\n</template>\n\n<script lang=\"ts\">\n\nimport {testCaseApi} from \"@/api\"\nimport {RequestGetTestCaseList, RequestUpdateTestCaseBatch} from \"@/api/types/testTrack\"\nimport {typeCaseData} from \"@/api/types/testTrackType\"\nimport variables from \"@/assets/css/utils.scss\"\nimport TablePagination from \"@/common/components/pagination/TablePagination.vue\"\nimport TableHeader from \"@/common/components/TableHeader.vue\"\nimport TableOperator from \"@/common/components/TableOperator.vue\"\nimport {_filter, formatTime} from \"@/common/utils\"\nimport {PAGINATION_SIZE} from \"@/constant\"\nimport {caseTypeType, caseUpdateTypeEnum, executionType, priorityType} from \"@/constant/TestCase\"\nimport {caseBatchReviewType, reviewCaseStatusType} from \"@/constant/TestReivew\"\nimport BatchEdit from \"@/pages/track/case/components/BatchEdit.vue\"\nimport ShowMoreBtn from \"@/pages/track/case/components/ShowMoreBtn.vue\"\nimport CaseTypeTableItem from \"@/pages/track/common/tableItems/CaseTypeTableItem.vue\"\nimport ExecutionTypeTableItem from \"@/pages/track/common/tableItems/ExecutionTypeTableItem.vue\"\nimport PriorityTableItem from \"@/pages/track/common/tableItems/PriorityTableItem.vue\"\nimport ReviewCaseStatusTableItem from \"@/pages/track/common/tableItems/ReviewCaseStatusTableItem.vue\"\nimport {getModuleByTreeId, getModuleOptions} from \"@/pages/track/common/utils\"\n\n// 执行方式\nconst executionOptions = Object.entries(executionType).map(([value, text]) => {\n  return {text: text, value: value}\n})\n// 用例优先级\nconst priorityOptions = Object.entries(priorityType).map(([value, text]) => {\n  return {text: text, value: value}\n})\n// 评审状态\nconst statusOptions = Object.entries(reviewCaseStatusType).map(([value, text]) => {\n  return {text: text, value: value}\n})\n// 用例类型\nconst caseTypeOptions = Object.entries(caseTypeType).map(([value, text]) => {\n  return {text: text, value: value}\n})\n// 批量编辑类型\nconst caseBatchReviewOptions = Object.entries(caseBatchReviewType).map(([value, text]) => {\n  return {text: text, value: value}\n})\n\nexport default {\n  name: \"TestReviewTestCaseList\",\n  components: {\n    ExecutionTypeTableItem,\n    CaseTypeTableItem,\n    ReviewCaseStatusTableItem,\n    TableOperator,\n    PriorityTableItem,\n    TablePagination,\n    TableHeader,\n    BatchEdit,\n    ShowMoreBtn,\n  },\n  data() {\n    return {\n      executionOptions: executionOptions,\n      priorityOptions: priorityOptions,\n      statusOptions: statusOptions,\n      caseTypeOptions: caseTypeOptions,\n      caseBatchReviewOptions: caseBatchReviewOptions,\n      tableData: [],\n      treeNodes: [],\n      currentPage: 1,\n      pageSize: PAGINATION_SIZE.LARGE,\n      total: 0,\n      selectRows: new Set(),\n      isDisabled: true,\n      caseFilter: {},\n      buttons: [{name: '批量评审用例', handleClick: this.handleBatchReview}],\n      condition: {\n        // 所属模块\n        moduleOptions: [],\n        // 维护人\n        maintainerOptions: [],\n        // 执行方式\n        executionOptions: executionOptions,\n        // 优先级\n        priorityOptions: priorityOptions,\n        // 用例类型\n        caseTypeOptions: caseTypeOptions,\n      },\n      batchReviewValueArr: {\n        // 评审状态\n        status: statusOptions,\n      },\n    }\n  },\n  props: {\n    currentReview: Object,\n    projects: Array,\n  },\n  computed: {\n    loading() {\n      return this.$store.state.loading\n    },\n    users() {\n      return this.$store.state.users.users\n    },\n    table1BtnWidth() {\n      return variables['table1BtnWidth']\n    },\n    tableTimeWidth() {\n      return variables['tableTimeWidth']\n    },\n    caseIds() {\n      return Array.from(this.selectRows).map((row: { id: string }) => row.id)\n    },\n  },\n  watch: {\n    currentReview() {\n      this.initTableData()\n    }\n  },\n  methods: {\n    async setSelectOptions() {\n      await this.setModuleOptions()\n      // this.setMaintainerOptions()\n    },\n    async initTableData() {\n      await this.setSelectOptions()\n      await this.getData()\n    },\n    async getData(value?: string) {\n      const params: RequestGetTestCaseList = {\n        treeId: this.currentReview.treeId,\n        offset: this.pageSize * (this.currentPage - 1),\n        limit: this.pageSize,\n        name: value,\n      }\n\n      this.caseFilter = sessionStorage.getItem(this.$route.path)\n      this.caseFilter = this.caseFilter ? JSON.parse(this.caseFilter) : {}\n      if (JSON.stringify(this.caseFilter) !== \"{}\") {\n        Object.assign(params, this.caseFilter)\n        this.$refs.table.columns.forEach((item: any) => {\n          item.filteredValue = this.caseFilter[item.columnKey]\n        })\n      }\n\n      await testCaseApi.getTestCaseList(params)\n        .then(({data}) => {\n          this.total = data.total\n          this.tableData = data.data\n          this.tableData.forEach((item: any) => {\n            item.updatedAt = formatTime(item.updatedAt)\n            item.treePath = getModuleByTreeId(this.treeNodes, item.treeId).path\n            item.projName = this.projects.find((obj: any) => obj.id === item.projId).name\n          })\n        })\n    },\n    handleSearch(value?: string) {\n      this.getData(value)\n    },\n    handleReviewRun(testCase?: typeCaseData) {\n      // 开始评审按钮，默认选择第一个\n      if (!testCase) testCase = this.tableData[0]\n      this.$eventBus.$emit(\"testReviewCaseRun\", testCase, this.tableData, this)\n    },\n    handleSelectAll(selection: Object[]) {\n      if (selection.length > 0) {\n        this.tableData.forEach((item: any) => {\n          this.$set(item, \"isDisabled\", false)\n        })\n        this.selectRows = new Set(selection)\n      } else {\n        this.selectRows.clear()\n        this.tableData.forEach((row: any) => {\n          this.$set(row, \"isDisabled\", true)\n        })\n      }\n    },\n    handleSelectionChange(selection: Object[], row: any) {\n      if (selection.indexOf(row) === -1) {\n        this.$set(row, \"isDisabled\", true)\n      } else {\n        this.$set(row, \"isDisabled\", false)\n      }\n      this.selectRows = new Set(selection)\n    },\n    batchReview(reviewForm: any) {\n      const body: RequestUpdateTestCaseBatch = {\n        caseIds: this.caseIds,\n        type: caseUpdateTypeEnum.UPDATE_REVIEW_STATUS,\n        status: reviewForm.value,\n        reviewId: this.currentReview.id,\n      }\n      testCaseApi.updateTestCaseBatch(body)\n        .then(() => {\n          this.refresh()\n        })\n    },\n    handleBatchReview() {\n      this.$refs.batchEdit.open()\n    },\n    refresh() {\n      this.$emit('refresh')\n    },\n    filter(filters: any) {\n      this.currentPage = 1\n      _filter(filters, this.caseFilter, this.$route.path)\n      this.initTableData()\n    },\n    setMaintainerOptions() {\n      this.condition.maintainerOptions = this.users\n    },\n    async setModuleOptions() {\n      await testCaseApi.getTestCaseModules({projId: this.currentReview.projId})\n        .then(({data}) => {\n          this.treeNodes = data\n          this.condition.moduleOptions = getModuleOptions(this.treeNodes)\n        })\n    },\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.el-table {\n  cursor: pointer;\n}\n</style>\n"]}]}