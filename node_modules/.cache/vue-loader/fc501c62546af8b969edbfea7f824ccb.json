{"remainingRequest":"/Users/jlglqa/Documents/QA/noa/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jlglqa/Documents/QA/noa/src/pages/track/plan/view/comonents/report/components/AllureReport.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/jlglqa/Documents/QA/noa/src/pages/track/plan/view/comonents/report/components/AllureReport.vue","mtime":1660212721309},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/cache-loader/dist/cjs.js","mtime":1644298102062},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/babel-loader/lib/index.js","mtime":1644314985388},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/ts-loader/index.js","mtime":1644314987889},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/cache-loader/dist/cjs.js","mtime":1644298102062},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/vue-loader/lib/index.js","mtime":1644314988580}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgppbXBvcnQge2F1dG9BcGl9IGZyb20gIkAvYXBpIgppbXBvcnQge2Zvcm1hdFRpbWUsIGdvb2REdXJhdGlvbn0gZnJvbSAiQC9jb21tb24vdXRpbHMiCmltcG9ydCBBbGx1cmVSZXBvcnRCYXIgZnJvbSAiQC9wYWdlcy90cmFjay9wbGFuL3ZpZXcvY29tb25lbnRzL3JlcG9ydC9jb21wb25lbnRzL0FsbHVyZVJlcG9ydEJhciIKaW1wb3J0ICogYXMgZWNoYXJ0cyBmcm9tICdlY2hhcnRzJwppbXBvcnQgQ29tbW9uQ29tcG9uZW50IGZyb20gIi4vQ29tbW9uQ29tcG9uZW50IgppbXBvcnQge3R5cGVUZXN0RGV0YWlsLCB0eXBlVGVzdFN1aXREYXRhfSBmcm9tICJAL2FwaS90eXBlcy9hbGx1cmVSZXBvcnRUeXBlIgppbXBvcnQge2Nhc2VTdGF0dXNFbnVtfSBmcm9tICJAL2NvbnN0YW50L0FsbHVyZVJlcG9ydCIKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQWxsdXJlUmVwb3J0IiwKICBjb21wb25lbnRzOiB7QWxsdXJlUmVwb3J0QmFyLCBDb21tb25Db21wb25lbnR9LAogIHByb3BzOiB7CiAgICBoaXN0b3J5SWQ6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnJywKICAgIH0sCiAgICBzaG93U3VtbWFyeTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAogICAgc2hvd1Rlc3RTdWl0ZXM6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogdHJ1ZSwKICAgIH0KICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvLyBBbGx1cmUgdGl0bGUKICAgICAgYWxsdXJlTm93RGF0ZTogJycsCiAgICAgIGFsbHVyZVN0YXJ0OiAnJywKICAgICAgYWxsdXJlU3RvcDogJycsCiAgICAgIGFsbHVyZUR1cmF0aW9uOiAnJywKICAgICAgYWxsdXJlU3RhdGlzdGljOiB7fSwKICAgICAgYWxsdXJlVG90YWxDYXNlOiAnJywKICAgICAgYWxsdXJlU3VjY2Vzc1JhdGU6IDAsCgogICAgICAvLyBzdWl0ZXMKICAgICAgc3VpdENhc2VHcm91cHM6IFtdLAogICAgICBzdWl0Q2FzZURldGFpbHM6IFtdLAogICAgICBvcmdPcHRpb25zOiB7fSwKCiAgICAgIGdvb2REdXJhdGlvbjogZ29vZER1cmF0aW9uLAogICAgICBmb3JtYXRUaW1lOiBmb3JtYXRUaW1lLAogICAgICBzaG93RGlhbG9nOiBmYWxzZSwKICAgICAgdGVzdFN1aXQ6IHt9LAogICAgICBjYXNlRGV0YWlsOiB1bmRlZmluZWQsCiAgICAgIGluZGV4OiAwLAogICAgICB0b3RhbDogMCwKICAgICAgcGFyZW50OiAnJywKICAgICAgdGFibGVEYXRhOiBbXSwKICAgICAgYWN0aXZlTmFtZTogJ292ZXJ2aWV3JywKICAgICAgaXNTaG93VHJhY2U6IGZhbHNlLAogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0U3VtbWFyeSgpCiAgfSwKICB3YXRjaDogewogICAgaGlzdG9yeUlkKCkgewogICAgICB0aGlzLmdldFN1bW1hcnkoKQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGxvYWRpbmcoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5sb2FkaW5nCiAgICB9LAogICAgb2Zmc2V0KCkgewogICAgICByZXR1cm4gdGhpcy5wYXJlbnQucGFnZVNpemUgKiAodGhpcy5wYXJlbnQuY3VycmVudFBhZ2UgLSAxKQogICAgfSwKICAgIGNhc2VJY29uKCkgewogICAgICByZXR1cm4gZnVuY3Rpb24gKHN0YXR1czogY2FzZVN0YXR1c0VudW0pIHsKICAgICAgICBpZiAoc3RhdHVzID09PSBjYXNlU3RhdHVzRW51bS5QQVNTRUQpIHsKICAgICAgICAgIHJldHVybiAnZmEgZmEtY2hlY2stY2lyY2xlIGZhLWZ3IHRleHQtc3RhdHVzLXBhc3NlZCBmYS1sZycKICAgICAgICB9IGVsc2UgaWYgKHN0YXR1cyA9PT0gY2FzZVN0YXR1c0VudW0uRkFJTEVEKSB7CiAgICAgICAgICByZXR1cm4gJ2ZhIGZhLXRpbWVzLWNpcmNsZSBmYS1mdyB0ZXh0LXN0YXR1cy1mYWlsZWQgZmEtbGcnCiAgICAgICAgfSBlbHNlIGlmIChzdGF0dXMgPT09IGNhc2VTdGF0dXNFbnVtLlNLSVBQRUQpIHsKICAgICAgICAgIHJldHVybiAnZmEgZmEtbWludXMtY2lyY2xlIGZhLWZ3IHRleHQtc3RhdHVzLXNraXBwZWQgZmEtbGcnCiAgICAgICAgfSBlbHNlIGlmIChzdGF0dXMgPT09IGNhc2VTdGF0dXNFbnVtLkJST0tFTikgewogICAgICAgICAgcmV0dXJuICdmYSBmYS1leGNsYW1hdGlvbi1jaXJjbGUgZmEtZncgdGV4dC1zdGF0dXMtYnJva2VuIGZhLWxnJwogICAgICAgIH0gZWxzZSBpZiAoc3RhdHVzID09PSBjYXNlU3RhdHVzRW51bS5VTktOT1dOKSB7CiAgICAgICAgICByZXR1cm4gJ2ZhIGZhLXF1ZXN0aW9uLWNpcmNsZSBmYS1mdyB0ZXh0LXN0YXR1cy11bmtub3duIGZhLWxnJwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gJycKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBjYXNlU3RhdHVzKCkgewogICAgICByZXR1cm4gZnVuY3Rpb24gKHN0YXR1czogY2FzZVN0YXR1c0VudW0pIHsKICAgICAgICBpZiAoc3RhdHVzID09PSBjYXNlU3RhdHVzRW51bS5QQVNTRUQpIHsKICAgICAgICAgIHJldHVybiAnY2FzZS1wYXNzZWQnCiAgICAgICAgfSBlbHNlIGlmIChzdGF0dXMgPT09IGNhc2VTdGF0dXNFbnVtLkZBSUxFRCkgewogICAgICAgICAgcmV0dXJuICdjYXNlLWZhaWxlZCcKICAgICAgICB9IGVsc2UgaWYgKHN0YXR1cyA9PT0gY2FzZVN0YXR1c0VudW0uU0tJUFBFRCkgewogICAgICAgICAgcmV0dXJuICdjYXNlLXNraXBwZWQnCiAgICAgICAgfSBlbHNlIGlmIChzdGF0dXMgPT09IGNhc2VTdGF0dXNFbnVtLkJST0tFTikgewogICAgICAgICAgcmV0dXJuICdjYXNlLWJyb2tlbicKICAgICAgICB9IGVsc2UgaWYgKHN0YXR1cyA9PT0gY2FzZVN0YXR1c0VudW0uVU5LTk9XTikgewogICAgICAgICAgcmV0dXJuICdjYXNlLXVua25vd24nCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiAnJwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGhpc3RvcnlSYXRlKCkgewogICAgICByZXR1cm4gKHRoaXMuY2FzZURldGFpbC5leHRyYS5oaXN0b3J5LnN0YXRpc3RpYy5wYXNzZWQgLyB0aGlzLmNhc2VEZXRhaWwuZXh0cmEuaGlzdG9yeS5zdGF0aXN0aWMudG90YWwgKiAxMDApLnRvRml4ZWQoMikKICAgIH0sCiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy4kZXZlbnRCdXMuJG9uKCdhbGx1cmVSZXBvcnREZXRhaWwnLCAodGVzdFN1aXQ6IHR5cGVUZXN0U3VpdERhdGEsIHRhYmxlRGF0YTogdHlwZVRlc3RTdWl0RGF0YVtdLCBwYXJlbnQ6IGFueSkgPT4gewogICAgICB0aGlzLnBhcmVudCA9IHBhcmVudAogICAgICB0aGlzLm9wZW4odGVzdFN1aXQsIHRhYmxlRGF0YSkKICAgIH0pCiAgfSwKICBtZXRob2RzOiB7CiAgICBpbml0Q2hhclBpZSgpIHsKICAgICAgbGV0IGNoYXJ0RG9tID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoYXJ0UGllJykKICAgICAgbGV0IG15Q2hhcnQgPSBlY2hhcnRzLmluaXQoY2hhcnREb20pCgogICAgICB0aGlzLm9yZ09wdGlvbnMgPSB7CiAgICAgICAgdG9vbHRpcDogewogICAgICAgICAgdHJpZ2dlcjogJ2l0ZW0nLAogICAgICAgICAgZm9ybWF0dGVyOiAie2N9IHRlc3RzICh7ZH0lKTxici8+e2J9IgogICAgICAgIH0sCiAgICAgICAgZ3JhcGhpYzogewogICAgICAgICAgdHlwZTogJ3RleHQnLAogICAgICAgICAgbGVmdDogJzI0JScsCiAgICAgICAgICB0b3A6ICcyNyUnLAogICAgICAgICAgLy8gejogMiwKICAgICAgICAgIC8vIHpsZXZlbDogMTAwLAogICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgdGV4dDogdGhpcy5hbGx1cmVTdWNjZXNzUmF0ZSArICclJywKICAgICAgICAgICAgZm9udFNpemU6IDI1CiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBzZXJpZXM6IFsKICAgICAgICAgIHsKICAgICAgICAgICAgdHlwZTogJ3BpZScsCiAgICAgICAgICAgIGNlbnRlcjogWyczMCUnLCAnMzAlJ10sCiAgICAgICAgICAgIHJhZGl1czogWyczNSUnLCAnNDUlJ10sCiAgICAgICAgICAgIGF2b2lkTGFiZWxPdmVybGFwOiBmYWxzZSwKICAgICAgICAgICAgaG92ZXJBbmltYXRpb246IGZhbHNlLAogICAgICAgICAgICBzdGFydEFuZ2xlOiA5MCwKICAgICAgICAgICAgbGFiZWw6IHsKICAgICAgICAgICAgICBub3JtYWw6IHsKICAgICAgICAgICAgICAgIHNob3c6IGZhbHNlLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGRhdGE6IFsKICAgICAgICAgICAgICB7dmFsdWU6IHRoaXMuYWxsdXJlU3RhdGlzdGljLmZhaWxlZCwgbmFtZTogJ0ZhaWxlZCcsIGl0ZW1TdHlsZToge2NvbG9yOiAnI2ZkNWEzZSd9fSwKICAgICAgICAgICAgICB7dmFsdWU6IHRoaXMuYWxsdXJlU3RhdGlzdGljLmJyb2tlbiwgbmFtZTogJ0Jyb2tlbicsIGl0ZW1TdHlsZToge2NvbG9yOiAnI2ZmZDA1MCd9fSwKICAgICAgICAgICAgICB7dmFsdWU6IHRoaXMuYWxsdXJlU3RhdGlzdGljLnBhc3NlZCwgbmFtZTogJ1Bhc3NlZCcsIGl0ZW1TdHlsZToge2NvbG9yOiAnIzk3Y2M2NCd9fSwKICAgICAgICAgICAgICB7dmFsdWU6IHRoaXMuYWxsdXJlU3RhdGlzdGljLnNraXBwZWQsIG5hbWU6ICdTa2lwcGVkJywgaXRlbVN0eWxlOiB7Y29sb3I6ICcjYWFhJ319LAogICAgICAgICAgICAgIHt2YWx1ZTogdGhpcy5hbGx1cmVTdGF0aXN0aWMudW5rbm93biwgbmFtZTogJ1Vua25vd24nLCBpdGVtU3R5bGU6IHtjb2xvcjogJyNkMzVlYmUnfX0KICAgICAgICAgICAgXQogICAgICAgICAgfQogICAgICAgIF0KICAgICAgfTsKICAgICAgbXlDaGFydC5zZXRPcHRpb24odGhpcy5vcmdPcHRpb25zKTsKICAgIH0sCiAgICBnZXRTdW1tYXJ5KCkgewogICAgICAvLyDojrflj5bnlKjkvovmiafooYzkuIDkupvkv6Hmga8KICAgICAgaWYgKHRoaXMuaGlzdG9yeUlkKSB7CiAgICAgICAgYXV0b0FwaS5nZXRBbGx1cmVSZXBvcnQodGhpcy5oaXN0b3J5SWQpCiAgICAgICAgICAudGhlbigoZGF0YSkgPT4gewogICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUKICAgICAgICAgICAgdGhpcy5hbGx1cmVEdXJhdGlvbiA9IGdvb2REdXJhdGlvbihkYXRhLnN1bW1hcnkudGltZS5kdXJhdGlvbikKICAgICAgICAgICAgdGhpcy5hbGx1cmVTdGFydCA9IGZvcm1hdFRpbWUoZGF0YS5zdW1tYXJ5LnRpbWUuc3RhcnQsICdoaDptbTpzcycpCiAgICAgICAgICAgIHRoaXMuYWxsdXJlU3RvcCA9IGZvcm1hdFRpbWUoZGF0YS5zdW1tYXJ5LnRpbWUuc3RvcCwgJ2hoOm1tOnNzJykKICAgICAgICAgICAgdGhpcy5hbGx1cmVOb3dEYXRlID0gZm9ybWF0VGltZShkYXRhLnN1bW1hcnkudGltZS5zdGFydCwgJ01NL2RkL3l5eXknKQogICAgICAgICAgICB0aGlzLmFsbHVyZVN0YXRpc3RpYyA9IGRhdGEuc3VtbWFyeS5zdGF0aXN0aWMKICAgICAgICAgICAgdGhpcy5hbGx1cmVUb3RhbENhc2UgPSB0aGlzLmFsbHVyZVN0YXRpc3RpYy50b3RhbAogICAgICAgICAgICB0aGlzLnN1aXRDYXNlR3JvdXBzID0gZGF0YS5zdW1tYXJ5LnN1aXRlcy5pdGVtcwogICAgICAgICAgICB0aGlzLnN1aXRDYXNlRGV0YWlscyA9IGRhdGEuc3VpdGVzLmNoaWxkcmVuCiAgICAgICAgICAgIHRoaXMuYWxsdXJlU3VjY2Vzc1JhdGUgPSBNYXRoLmZsb29yKHRoaXMuYWxsdXJlU3RhdGlzdGljLnBhc3NlZCAvIHRoaXMuYWxsdXJlU3RhdGlzdGljLnRvdGFsICogMTAwMDApIC8gMTAwCiAgICAgICAgICAgIHRoaXMuaW5pdENoYXJQaWUoKQogICAgICAgICAgfSkKICAgICAgfQogICAgfSwKICAgIGdldFN1aXRDYXNlRGV0YWlsKHRlc3RTdWl0KSB7CiAgICAgIHRoaXMuJGV2ZW50QnVzLiRlbWl0KCJhbGx1cmVSZXBvcnREZXRhaWwiLCB0ZXN0U3VpdCwgdGhpcy5zdWl0Q2FzZURldGFpbHMsIHRoaXMpCiAgICB9LAogICAgb3Blbih0ZXN0U3VpdDogdHlwZVRlc3RTdWl0RGF0YSwgdGFibGVEYXRhOiB0eXBlVGVzdFN1aXREYXRhW10pIHsKICAgICAgdGhpcy5zaG93RGlhbG9nID0gdHJ1ZQogICAgICB0aGlzLnRlc3RTdWl0ID0gdGVzdFN1aXQKICAgICAgdGhpcy50YWJsZURhdGEgPSB0YWJsZURhdGEKICAgIH0sCiAgICBvcGVuRGV0YWlscyhyb3c6IHR5cGVUZXN0U3VpdERhdGEpIHsKICAgICAgaWYgKCFyb3cuY2hpbGRyZW4pIHsKICAgICAgICBhdXRvQXBpLmdldEFsbHVyZURldGFpbChyb3cudWlkKQogICAgICAgICAgLnRoZW4oKGRhdGE6IHR5cGVUZXN0RGV0YWlsKSAgPT4gewogICAgICAgICAgICB0aGlzLmNhc2VEZXRhaWwgPSBkYXRhLmRhdGEuZGV0YWlsCiAgICAgICAgICB9KQogICAgICB9CiAgICB9LAogICAgZ2V0QWxsTGVhZlN0YXR1cyAoZGF0YTphbnkpIHsKICAgICAgbGV0IHJlc3VsdCA9IG5ldyBBcnJheSgpCiAgICAgIGZ1bmN0aW9uIGdldExlYWYgKGRhdGE6IGFueSkgewogICAgICAgIGRhdGEuZm9yRWFjaCgoaXRlbTogYW55KSA9PiB7CiAgICAgICAgICBpZiAoIWl0ZW0uY2hpbGRyZW4pIHsKICAgICAgICAgICAgcmVzdWx0LnB1c2goaXRlbS5zdGF0dXMpCiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBnZXRMZWFmKGl0ZW0uY2hpbGRyZW4pCiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgfQogICAgICBnZXRMZWFmKGRhdGEpCiAgICAgIC8vIEB0cy1pZ25vcmUKICAgICAgbGV0IHN0YXRpY3MgPSB7fQogICAgICByZXN1bHQuZm9yRWFjaChpdGVtID0+IHsKICAgICAgICBpZiAoT2JqZWN0LmtleXMoc3RhdGljcykuaW5kZXhPZihpdGVtKSA+IC0xKSB7CiAgICAgICAgICAvLyBAdHMtaWdub3JlCiAgICAgICAgICBzdGF0aWNzW2l0ZW1dICs9IDEKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8gQHRzLWlnbm9yZQogICAgICAgICAgc3RhdGljc1tpdGVtXSA9IDEKICAgICAgICB9CiAgICAgIH0pCiAgICAgIHJldHVybiBzdGF0aWNzCiAgICB9LAogIH0KfQo="},{"version":3,"sources":["AllureReport.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8JA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AllureReport.vue","sourceRoot":"src/pages/track/plan/view/comonents/report/components","sourcesContent":["<template>\n  <div>\n    <common-component v-show=\"showSummary && historyId\" title=\"Allure Report\">\n      <!--构建整体统计数据  -->\n      <div class=\"allure-title\">\n        <div class=\"allure-title-inline\">\n          <div style=\"width: 50%\">\n            <div style=\"font-size: 1.5em;\">ALLURE REPORT {{ allureNowDate }}</div>\n            <div style=\"color: #a09a8e;\">{{ allureStart }} - {{ allureStop }} ({{ allureDuration }})</div>\n            <div style=\"padding: 28px 0; margin: auto;\">\n              <div class=\"case-total\">{{ allureTotalCase }}</div>\n              <div style=\"text-align: center; color: #a09a8e;\">test cases</div>\n            </div>\n          </div>\n          <div style=\"width: 50%; overflow: hidden;\">\n            <div id=\"chartPie\" :options=\"orgOptions\" style=\"height: 400px; width: 600px\"/>\n          </div>\n        </div>\n      </div>\n    </common-component>\n    <common-component v-show=\"showTestSuites && historyId\">\n      <template slot=\"header\">\n        <!--suit总数-->\n        <div style=\"display: flex; justify-content: space-between; background: #fff;\">\n          <div style=\"display: flex; align-items: flex-end;\">\n            <div style=\"margin-right: 5px;\">Test Suites</div>\n            <span style=\"color: #a09a8e;\">{{ allureTotalCase }} items total</span>\n          </div>\n          <div style=\"display: flex; align-items: center;\">\n            <el-tag class=\"case-failed\">{{ allureStatistic.failed }}</el-tag>\n            <el-tag class=\"case-broken\">{{ allureStatistic.broken }}</el-tag>\n            <el-tag class=\"case-passed\">{{ allureStatistic.passed }}</el-tag>\n            <el-tag class=\"case-skipped\">{{ allureStatistic.skipped }}</el-tag>\n            <el-tag class=\"case-unknown\">{{ allureStatistic.unknown }}</el-tag>\n          </div>\n        </div>\n      </template>\n      <div style=\"margin: -20px\">\n        <el-row v-for=\"(item, index) in suitCaseGroups\" :key=\"index\">\n          <div class=\"test-suit\" @click=\"getSuitCaseDetail(item)\">\n            <el-col :span=\"12\" class=\"test-suit-name\">{{ item.name }}</el-col>\n            <el-col :span=\"12\">\n              <allure-report-bar :statistic=\"item.statistic\"/>\n            </el-col>\n          </div>\n        </el-row>\n      </div>\n    </common-component>\n    <common-component title=\"Report Detail\">\n      <el-collapse v-model=\"activeNames\" @change=\"handleChange\">\n        <el-collapse-item title=\"一致性 Consistency\">\n          <el-card class=\"container\">\n            <el-row :gutter=\"20\" class=\"cast-row\">\n            <el-col :span=\"12\" class=\"tree-col\">\n              <el-tree\n                :data=\"tableData\"\n                :default-expanded-keys=\"[testSuit? testSuit.uid: '']\"\n                icon-class=\"el-icon-arrow-right\"\n                node-key=\"uid\"\n                @node-click=\"openDetails\"\n              >\n                <template slot-scope=\"{data}\">\n                  <div class=\"case-suit-tree\">\n                    <div class=\"case-suit-tree-node\">\n                      <i :class=\"caseIcon(data.status)\"/>\n                      <div style=\"padding-left: 5px;\">{{ data.name }}</div>\n                    </div>\n                    <div v-if=\"data.time\">{{ goodDuration(data.time.duration) }}</div>\n                    <div v-else >\n                      <allure-report-bar :show-bar=\"false\" :show-tag=\"true\" :statistic=\"getAllLeafStatus([data])\"/>\n                    </div>\n                  </div>\n                </template>\n              </el-tree>\n            </el-col>\n            <el-col v-if=\"caseDetail\" :span=\"12\" class=\"tree-col\">\n              <div class=\"case-suit-full-name\">\n                <i class=\"fa fa-files-o\" style=\"margin-right: 5px;\"/>{{ caseDetail.fullName }}\n              </div>\n              <div class=\"case-suit-detail\">\n                <span :class=\"caseStatus(caseDetail.status)\">{{ caseDetail.status }}</span>\n                <span>{{ caseDetail.name }}</span>\n              </div>\n\n              <el-tabs v-model=\"activeName\">\n                <el-tab-pane label=\"Overview\" name=\"overview\">\n                  <div v-if=\"caseDetail.statusMessage\">\n                    <el-tooltip content=\"Show trace\" placement=\"left\">\n                      <pre class=\"status-message\" @click=\"isShowTrace = !isShowTrace\">\n                      <code class=\"code\">{{ caseDetail.fullName }}</code>\n                    </pre>\n                    </el-tooltip>\n                    <pre v-if=\"isShowTrace\" class=\"status-trace\">\n                      <code class=\"code\">{{ caseDetail.statusTrace }}</code>\n                    </pre>\n                  </div>\n                  <el-row v-if=\"caseDetail.extra.tags.length !== 0\">\n                    <span>Tags: </span>\n                    <span v-for=\"item in caseDetail.extra.tags\" :key=\"item\" class=\"overview-tag\">\n                      {{ item }}\n                    </span>\n                  </el-row>\n                  <el-row v-if=\"caseDetail.extra.categories.length !== 0\">\n                    <span>Categories: </span>\n                    <span>{{ caseDetail.extra.categories[0].name }}</span>\n                  </el-row>\n                  <el-row v-if=\"caseDetail.extra.severity\">\n                    <span>Severity: </span>\n                    <span>{{ caseDetail.extra.severity }}</span>\n                  </el-row>\n                  <el-row>\n                    Duration: <span class=\"fa fa-clock-o\"/> {{ goodDuration(caseDetail.time.duration) }}\n                  </el-row>\n                  <el-row v-if=\"caseDetail.description\" class=\"title\">Description</el-row>\n                  <el-row style=\"white-space: pre-wrap;\">{{ caseDetail.description }}</el-row>\n                  <el-row v-if=\"caseDetail.parameters.length !== 0\" class=\"title\">Parameters</el-row>\n                  <el-row>\n                    <div v-for=\"item in caseDetail.parameters\" :key=\"item.name\">\n                      <span style=\"color: #999999\">{{ item.name }}: </span>\n                      <span>{{ item.value }}</span>\n                    </div>\n                  </el-row>\n                </el-tab-pane>\n                <el-tab-pane label=\"History\" name=\"history\">\n                  <el-row v-if=\"caseDetail.extra.history\" style=\"margin-top: 15px;\">\n                    Success rate {{ historyRate }}%\n                    ({{ caseDetail.extra.history.statistic.passed }} of\n                    {{ caseDetail.extra.history.statistic.total }})\n                  </el-row>\n                  <el-row>\n                    <span :class=\"caseStatus(caseDetail.status)\" style=\"font-size: 12px;\">\n                      {{ caseDetail.status }}\n                    </span>\n                    <span>{{ formatTime(caseDetail.time.start, 'MM/dd/yyyy at hh:mm:ss') }}</span>\n                  </el-row>\n                  <div v-if=\"caseDetail.extra.history\">\n                    <el-row v-for=\"item in caseDetail.extra.history.items\" :key=\"item.uid\">\n                      <span :class=\"caseStatus(item.status)\" style=\"font-size: 12px;\">\n                        {{ item.status }}\n                      </span>\n                      <span>{{ formatTime(item.time.start, 'MM/dd/yyyy at hh:mm:ss') }}</span>\n                    </el-row>\n                  </div>\n                </el-tab-pane>\n              </el-tabs>\n            </el-col>\n            </el-row>\n          </el-card>\n        </el-collapse-item>\n      </el-collapse>\n    </common-component>\n\n    <allure-report-detail ref=\"allureReport\"/>\n  </div>\n\n</template>\n\n<script lang=\"ts\">\nimport {autoApi} from \"@/api\"\nimport {formatTime, goodDuration} from \"@/common/utils\"\nimport AllureReportBar from \"@/pages/track/plan/view/comonents/report/components/AllureReportBar\"\nimport * as echarts from 'echarts'\nimport CommonComponent from \"./CommonComponent\"\nimport {typeTestDetail, typeTestSuitData} from \"@/api/types/allureReportType\"\nimport {caseStatusEnum} from \"@/constant/AllureReport\"\n\nexport default {\n  name: \"AllureReport\",\n  components: {AllureReportBar, CommonComponent},\n  props: {\n    historyId: {\n      type: String,\n      default: '',\n    },\n    showSummary: {\n      type: Boolean,\n      default: true\n    },\n    showTestSuites: {\n      type: Boolean,\n      default: true,\n    }\n  },\n  data() {\n    return {\n      // Allure title\n      allureNowDate: '',\n      allureStart: '',\n      allureStop: '',\n      allureDuration: '',\n      allureStatistic: {},\n      allureTotalCase: '',\n      allureSuccessRate: 0,\n\n      // suites\n      suitCaseGroups: [],\n      suitCaseDetails: [],\n      orgOptions: {},\n\n      goodDuration: goodDuration,\n      formatTime: formatTime,\n      showDialog: false,\n      testSuit: {},\n      caseDetail: undefined,\n      index: 0,\n      total: 0,\n      parent: '',\n      tableData: [],\n      activeName: 'overview',\n      isShowTrace: false,\n    }\n  },\n  created() {\n    this.getSummary()\n  },\n  watch: {\n    historyId() {\n      this.getSummary()\n    }\n  },\n  computed: {\n    loading() {\n      return this.$store.state.loading\n    },\n    offset() {\n      return this.parent.pageSize * (this.parent.currentPage - 1)\n    },\n    caseIcon() {\n      return function (status: caseStatusEnum) {\n        if (status === caseStatusEnum.PASSED) {\n          return 'fa fa-check-circle fa-fw text-status-passed fa-lg'\n        } else if (status === caseStatusEnum.FAILED) {\n          return 'fa fa-times-circle fa-fw text-status-failed fa-lg'\n        } else if (status === caseStatusEnum.SKIPPED) {\n          return 'fa fa-minus-circle fa-fw text-status-skipped fa-lg'\n        } else if (status === caseStatusEnum.BROKEN) {\n          return 'fa fa-exclamation-circle fa-fw text-status-broken fa-lg'\n        } else if (status === caseStatusEnum.UNKNOWN) {\n          return 'fa fa-question-circle fa-fw text-status-unknown fa-lg'\n        } else {\n          return ''\n        }\n      }\n    },\n    caseStatus() {\n      return function (status: caseStatusEnum) {\n        if (status === caseStatusEnum.PASSED) {\n          return 'case-passed'\n        } else if (status === caseStatusEnum.FAILED) {\n          return 'case-failed'\n        } else if (status === caseStatusEnum.SKIPPED) {\n          return 'case-skipped'\n        } else if (status === caseStatusEnum.BROKEN) {\n          return 'case-broken'\n        } else if (status === caseStatusEnum.UNKNOWN) {\n          return 'case-unknown'\n        } else {\n          return ''\n        }\n      }\n    },\n    historyRate() {\n      return (this.caseDetail.extra.history.statistic.passed / this.caseDetail.extra.history.statistic.total * 100).toFixed(2)\n    },\n  },\n  mounted() {\n    this.$eventBus.$on('allureReportDetail', (testSuit: typeTestSuitData, tableData: typeTestSuitData[], parent: any) => {\n      this.parent = parent\n      this.open(testSuit, tableData)\n    })\n  },\n  methods: {\n    initCharPie() {\n      let chartDom = document.getElementById('chartPie')\n      let myChart = echarts.init(chartDom)\n\n      this.orgOptions = {\n        tooltip: {\n          trigger: 'item',\n          formatter: \"{c} tests ({d}%)<br/>{b}\"\n        },\n        graphic: {\n          type: 'text',\n          left: '24%',\n          top: '27%',\n          // z: 2,\n          // zlevel: 100,\n          style: {\n            text: this.allureSuccessRate + '%',\n            fontSize: 25\n          }\n        },\n        series: [\n          {\n            type: 'pie',\n            center: ['30%', '30%'],\n            radius: ['35%', '45%'],\n            avoidLabelOverlap: false,\n            hoverAnimation: false,\n            startAngle: 90,\n            label: {\n              normal: {\n                show: false,\n              },\n            },\n            data: [\n              {value: this.allureStatistic.failed, name: 'Failed', itemStyle: {color: '#fd5a3e'}},\n              {value: this.allureStatistic.broken, name: 'Broken', itemStyle: {color: '#ffd050'}},\n              {value: this.allureStatistic.passed, name: 'Passed', itemStyle: {color: '#97cc64'}},\n              {value: this.allureStatistic.skipped, name: 'Skipped', itemStyle: {color: '#aaa'}},\n              {value: this.allureStatistic.unknown, name: 'Unknown', itemStyle: {color: '#d35ebe'}}\n            ]\n          }\n        ]\n      };\n      myChart.setOption(this.orgOptions);\n    },\n    getSummary() {\n      // 获取用例执行一些信息\n      if (this.historyId) {\n        autoApi.getAllureReport(this.historyId)\n          .then((data) => {\n            // eslint-disable-next-line\n            this.allureDuration = goodDuration(data.summary.time.duration)\n            this.allureStart = formatTime(data.summary.time.start, 'hh:mm:ss')\n            this.allureStop = formatTime(data.summary.time.stop, 'hh:mm:ss')\n            this.allureNowDate = formatTime(data.summary.time.start, 'MM/dd/yyyy')\n            this.allureStatistic = data.summary.statistic\n            this.allureTotalCase = this.allureStatistic.total\n            this.suitCaseGroups = data.summary.suites.items\n            this.suitCaseDetails = data.suites.children\n            this.allureSuccessRate = Math.floor(this.allureStatistic.passed / this.allureStatistic.total * 10000) / 100\n            this.initCharPie()\n          })\n      }\n    },\n    getSuitCaseDetail(testSuit) {\n      this.$eventBus.$emit(\"allureReportDetail\", testSuit, this.suitCaseDetails, this)\n    },\n    open(testSuit: typeTestSuitData, tableData: typeTestSuitData[]) {\n      this.showDialog = true\n      this.testSuit = testSuit\n      this.tableData = tableData\n    },\n    openDetails(row: typeTestSuitData) {\n      if (!row.children) {\n        autoApi.getAllureDetail(row.uid)\n          .then((data: typeTestDetail)  => {\n            this.caseDetail = data.data.detail\n          })\n      }\n    },\n    getAllLeafStatus (data:any) {\n      let result = new Array()\n      function getLeaf (data: any) {\n        data.forEach((item: any) => {\n          if (!item.children) {\n            result.push(item.status)\n          } else {\n            getLeaf(item.children)\n          }\n        })\n      }\n      getLeaf(data)\n      // @ts-ignore\n      let statics = {}\n      result.forEach(item => {\n        if (Object.keys(statics).indexOf(item) > -1) {\n          // @ts-ignore\n          statics[item] += 1\n        } else {\n          // @ts-ignore\n          statics[item] = 1\n        }\n      })\n      return statics\n    },\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"src/assets/css/color\";\n@import \"src/assets/css/display\";\n\n.allure-title {\n  padding: 15px 15px 0;\n  margin-bottom: 15px;\n  background: #fff;\n  max-height: 250px\n}\n\n.allure-title-inline {\n  outline: 2px;\n  display: flex;\n  justify-content: space-between;\n}\n\n.case-total {\n  font-size: 49px;\n  text-align: center;\n  color: #0097a7\n}\n\n.case-status {\n  color: white;\n  border: none;\n  border-radius: 3px;\n  margin: 0 3px;\n}\n\n.case-failed {\n  @extend .case-status;\n  background-color: $color-status-failed;\n}\n\n.case-broken {\n  @extend .case-status;\n  background-color: $color-status-broken;\n}\n\n.case-passed {\n  @extend .case-status;\n  background-color: $color-status-passed;\n}\n\n.case-skipped {\n  @extend .case-status;\n  background-color: $color-status-skipped;\n}\n\n.case-unknown {\n  @extend .case-status;\n  background-color: $color-status-unknown;\n}\n\n.test-suit {\n  height: 40px;\n  font-size: 14px;\n  padding: 0 20px;\n  border-bottom: 1px solid #eceff1;\n  cursor: pointer;\n  @extend %flex-left-center-row;\n}\n\n.test-suit-name {\n  @extend %flex-left-center-row;\n}\n\n.test-suit-show-all {\n  height: 40px;\n  font-size: 14px;\n  cursor: pointer;\n  @extend %flex-center-row;\n}\n\n.cast-row {\n  text-align: left;\n  font-size: 14px;\n}\n\n.tree-col {\n  overflow-y: auto;\n  overscroll-behavior: none;\n  height: calc(84vh);\n}\n\n.overview-tag {\n  background: #3c58e4;\n  color: white;\n  border: none;\n  border-radius: 3px;\n  padding: 2px 4px 2px 5px;\n  font-size: 12px;\n  margin-right: 5px;\n}\n\n::v-deep .rtl {\n  overflow: hidden;\n}\n\n.status-trace {\n  background-color: #fffae6;\n  color: #000000;\n  padding: 10px 20px;\n  white-space: pre-wrap;\n  border-top: 1px solid #FFFFFF;\n\n}\n\n.status-message {\n  @extend %flex-left-center-row;\n  @extend .status-trace;\n  height: 66px;\n  cursor: pointer;\n}\n\n.code {\n  font-family: monospace, serif;\n  font-size: 1em;\n}\n\n.status-button {\n  padding-left: 4%;\n}\n\n.head-right {\n  text-align: right;\n}\n\n::v-deep .el-tree-node__content {\n  height: 32px;\n  margin: 3px 0;\n}\n\n::v-deep .el-tabs__content {\n  margin-top: -15px;\n}\n\n.el-tab-pane {\n  .el-row {\n    margin: 15px 0;\n    padding: 0 15px;\n  }\n\n  .title {\n    font-size: 1.17em;\n    font-weight: bold;\n  }\n}\n\n.status-button {\n  float: right;\n}\n\n.container {\n  height: calc(97vh);\n  margin: 15px;\n}\n\n.case-suit-tree {\n  @extend %flex-between-center-row;\n  width: 100%;\n  padding-right: 10px;\n}\n\n.case-suit-tree-node {\n  @extend %flex-between-center-row;\n  white-space: pre-wrap;\n}\n\n.case-suit-full-name {\n  @extend %flex-left-center-row;\n  color: #999999;\n  font-size: 18px;\n  font-weight: 500;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n\n.case-suit-detail {\n  @extend %flex-left-center-row;\n  font-size: 24px;\n  font-weight: 700;\n}\n\n.case-status {\n  color: white;\n  border: none;\n  border-radius: 3px;\n  padding: 2px 4px 2px 5px;\n  height: 28px;\n  font-size: 19px;\n  margin-right: 10px;\n}\n\n.text-status-failed {\n  color: $color-status-failed;\n}\n\n.text-status-broken {\n  color: $color-status-broken;\n}\n\n.text-status-passed {\n  color: $color-status-passed;\n}\n\n.text-status-skipped {\n  color: $color-status-skipped;\n}\n\n.text-status-unknown {\n  color: $color-status-unknown;\n}\n\n.case-failed {\n  @extend .case-status;\n  background-color: $color-status-failed;\n}\n\n.case-broken {\n  @extend .case-status;\n  background-color: $color-status-broken;\n}\n\n.case-passed {\n  @extend .case-status;\n  background-color: $color-status-passed;\n}\n\n.case-skipped {\n  @extend .case-status;\n  background-color: $color-status-skipped;\n}\n\n.case-unknown {\n  @extend .case-status;\n  background-color: $color-status-unknown;\n}\n</style>\n"]}]}