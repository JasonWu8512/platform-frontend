{"remainingRequest":"/Users/jlglqa/Documents/QA/noa/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jlglqa/Documents/QA/noa/src/pages/testTools/pointTestTools.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jlglqa/Documents/QA/noa/src/pages/testTools/pointTestTools.vue","mtime":1657866315990},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/cache-loader/dist/cjs.js","mtime":1644298102062},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/babel-loader/lib/index.js","mtime":1644314985388},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/cache-loader/dist/cjs.js","mtime":1644298102062},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/vue-loader/lib/index.js","mtime":1644314988580}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmNvbnN0IF8gPSByZXF1aXJlKCdsb2Rhc2gnKTsKaW1wb3J0IHRvb2xBcGkgZnJvbSAiQC9hcGkvdG9vbC5qcyIKaW1wb3J0IGxlc3NvbkFwaSBmcm9tICJAL2FwaS90b29sTGVzc29uLmpzIgovLyBpbXBvcnQgbXlEaWFsb2cgZnJvbSAiQC9jb21wb25lbnRzL215RGlhbG9nIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJwb2ludFRlc3RUb29scyIsCiAgLy8gY29tcG9uZW50czoge215RGlhbG9nfSwKICBwcm9wczogewogICAgZGF0YXM6IHt0eXBlOiBBcnJheX0KICB9LAogIGRhdGEoKSB7CiAgICB2YXIgY2hlY2tDb250ZW50ID0gKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgPT4gewogICAgICB0cnkgewogICAgICAgIGlmICh2YWx1ZSAhPT0gJycgJiYgdHlwZW9mIEpTT04ucGFyc2UodmFsdWUpID09PSAib2JqZWN0IikgewogICAgICAgICAgY2FsbGJhY2soKQogICAgICAgIH0gZWxzZSBpZiAodmFsdWUgIT09ICcnICYmIHR5cGVvZiBKU09OLnBhcnNlKHZhbHVlKSAhPT0gIm9iamVjdCIpIHsKICAgICAgICAgIHJldHVybiBjYWxsYmFjayhuZXcgRXJyb3IoJ+ivt+i+k+WFpWpzb27lrZfnrKbkuLInKSkKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY2FsbGJhY2soKQogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIHJldHVybiBjYWxsYmFjayhuZXcgRXJyb3IoJ+ivt+i+k+WFpWpzb27lrZfnrKbkuLInKSkKICAgICAgfQogICAgfQogICAgLy8gdmFyIGNoZWNrTW9iaWxlID0gKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgPT4gewogICAgLy8gICBpZih2YWx1ZSA9PT0gJycgJiYgdGhpcy5kYXRhRm9ybS5vcGVuaWQgPT09ICcnICYmIHRoaXMuZGF0YUZvcm0udW5pb25JZCA9PT0gJycpIHsKICAgIC8vICAgICByZXR1cm4gY2FsbGJhY2sobmV3IEVycm9yKCfmiYvmnLrlj7fjgIFvcGVuaWTjgIF1bmlvbklk5LiJ6aG56Iez5bCR5aGr5LiA6aG5JykpCiAgICAvLyAgIH1lbHNlIHsKICAgIC8vICAgICBjYWxsYmFjaygpCiAgICAvLyAgIH0KICAgIC8vIH0KICAgIHJldHVybiB7CiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBjZW50ZXJEaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgb3B0aW9uUHJvcHM6IHsKICAgICAgICB2YWx1ZTogJ3NjZW5lJywKICAgICAgICBsYWJlbDogJ2NoaW5lc2VTY2VuZScsCiAgICAgICAgLy8gY2hpbGRyZW46ICdjaGlsZHJlbicKICAgICAgfSwKICAgICAgZW52czogWydkZXYnLCAnZmF0J10sCiAgICAgIGRhdGFGb3JtOiB7CiAgICAgICAgZW52OiAnZGV2JywKICAgICAgICBvcGVyYXRpb246ICcnLAogICAgICAgIG1vYmlsZTogJycsCiAgICAgICAgY29udGVudDogJycsCiAgICAgICAgZHluYW1pY0Zvcm06IFtdLAogICAgICB9LAogICAgICBkYXRhUnVsZXM6IHsKICAgICAgICBvcGVyYXRpb246IFt7cmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fpgInmi6nkuJrliqHlnLrmma8nLCB0cmlnZ2VyOiAnYmx1cid9XSwKICAgICAgICAvLyBtb2JpbGU6IFt7cmVxdWlyZWQ6IHRoaXMuZGF0YUZvcm0uZHluYW1pY0Zvcm0sIG1lc3NhZ2U6ICfor7fovpPlhaXmiYvmnLrlj7cnLCB0cmlnZ2VyOiAnYmx1cid9XSwKICAgICAgICBjb250ZW50OiBbe3ZhbGlkYXRvcjogY2hlY2tDb250ZW50LCB0cmlnZ2VyOiBbJ2JsdXInLCAnY2hhbmdlJ119XQogICAgICB9LAogICAgICBvcHRpb25zOiBbXSwKICAgICAgcmVzdWx0OiAnJywKICAgICAgc2hvd1Bob25lOiB0cnVlLAogICAgICBzaG93TGVzc29uUmVzdWx0OiBmYWxzZSwKICAgICAgbGVzc29uUmVzdWx0RGF0YTogJycsCiAgICB9CiAgfSwKICB3YXRjaDogewogICAgJ2RhdGFGb3JtLm9wZXJhdGlvbicoKSB7CiAgICAgIGNvbnNvbGUubG9nKCdvcGVyYXRpb24nLCB0aGlzLmRhdGFGb3JtLm9wZXJhdGlvbikKICAgICAgaWYgKHRoaXMuZGF0YUZvcm0ub3BlcmF0aW9uWzBdID09PSAnZGVsZXRlX3Byb21vdGVyX29wZW5pZE9yVW5pb25JZCcgfHwgdGhpcy5kYXRhRm9ybS5vcGVyYXRpb25bMF0gPT09ICdkZWxldGVfd2NfdXNlcnMnCiAgICAgICAgfHwgdGhpcy5kYXRhRm9ybS5vcGVyYXRpb25bMF0gPT09ICdkZWxldGVfdW5pb25JZCcpIHsKICAgICAgICB0aGlzLmRhdGFGb3JtLmR5bmFtaWNGb3JtLnB1c2goe3ZhbHVlOiAnJywgbGFiZWw6ICdvcGVuaWQnfSkKICAgICAgICB0aGlzLmRhdGFGb3JtLmR5bmFtaWNGb3JtLnB1c2goe3ZhbHVlOiAnJywgbGFiZWw6ICd1bmlvbklkJ30pCiAgICAgIH0gZWxzZSBpZiAodGhpcy5kYXRhRm9ybS5vcGVyYXRpb25bMF0gPT09ICdyZWZ1bmQnIHx8IHRoaXMuZGF0YUZvcm0ub3BlcmF0aW9uWzBdID09PSAndHJhY2Vfc2VsbGVyX3NoaXAnKSB7CiAgICAgICAgdGhpcy5kYXRhRm9ybS5keW5hbWljRm9ybS5wdXNoKHt2YWx1ZTogJycsIGxhYmVsOiAnb2lkJ30pCiAgICAgIH0gZWxzZSBpZiAodGhpcy5kYXRhRm9ybS5vcGVyYXRpb25bMF0gPT09ICdyZWRlZW0nKSB7CiAgICAgICAgdGhpcy5kYXRhRm9ybS5keW5hbWljRm9ybS5wdXNoKHt2YWx1ZTogJycsIGxhYmVsOiAnaXRlbV9pZCd9KQogICAgICAgIHRoaXMuZGF0YUZvcm0uZHluYW1pY0Zvcm0ucHVzaCh7dmFsdWU6ICcnLCBsYWJlbDogJ251bSd9KQogICAgICB9IGVsc2UgaWYodGhpcy5kYXRhRm9ybS5vcGVyYXRpb25bMF0uc3RhcnRzV2l0aCgnbGVzc29uXycpKXsKICAgICAgICB0aGlzLnNob3dQaG9uZSA9IGZhbHNlCiAgICAgICAgdGhpcy5kYXRhRm9ybS5keW5hbWljRm9ybS5wdXNoKHt2YWx1ZTogJ2NvdXJzZS5jb3Vyc2UuYXRvbScsIGxhYmVsOiAnc2VydmVyX25hbWUnLCB9KQogICAgICAgIC8vIHRoaXMuZGF0YUZvcm0uZHluYW1pY0Zvcm0ucHVzaCh7dmFsdWU6ICc5JywgbGFiZWw6ICd1cmknLCB0eXA6J2lucHV0J30pCiAgICAgICAgdGhpcy5kYXRhRm9ybS5keW5hbWljRm9ybS5wdXNoKHt2YWx1ZTogJycsIGxhYmVsOiAncGFyYW1zJywgdHlwOid0ZXh0YXJlYSd9KQogICAgICB9ZWxzZSBpZih0aGlzLmRhdGFGb3JtLm9wZXJhdGlvblswXSA9PT0gJ2NyZWF0ZV9lc2hvcF9vcmRlcicpIHsKICAgICAgICB0aGlzLmRhdGFGb3JtLmR5bmFtaWNGb3JtLnB1c2goe3ZhbHVlOiAnJywgbGFiZWw6ICdzcHVObyd9KQogICAgICAgIHRoaXMuZGF0YUZvcm0uZHluYW1pY0Zvcm0ucHVzaCh7dmFsdWU6ICcnLCBsYWJlbDogJ3Byb21vdGVySWQnfSkKICAgICAgfSBlbHNlIGlmKHRoaXMuZGF0YUZvcm0ub3BlcmF0aW9uWzBdID09PSAnY3JlYXRlX1NhbXBsZV9vcmRlcicpIHsKICAgICAgICB0aGlzLmRhdGFGb3JtLmR5bmFtaWNGb3JtLnB1c2goe3ZhbHVlOiAnJywgbGFiZWw6ICdmYW5Nb2JpbGUnfSkKICAgICAgICB0aGlzLmRhdGFGb3JtLmR5bmFtaWNGb3JtLnB1c2goe3ZhbHVlOiAnJywgbGFiZWw6ICdzcDJ4dUlkcyd9KQogICAgICB9IGVsc2UgaWYodGhpcy5kYXRhRm9ybS5vcGVyYXRpb25bMF0gPT09ICdjcmVhdGVfU0dVJyB8fCB0aGlzLmRhdGFGb3JtLm9wZXJhdGlvblswXSA9PT0gJ2NyZWF0ZV9TUFUnKSB7CiAgICAgICAgdGhpcy5kYXRhRm9ybS5keW5hbWljRm9ybS5wdXNoKHt2YWx1ZTogJycsIGxhYmVsOiAndGl0bGUnfSkKICAgICAgICB0aGlzLmRhdGFGb3JtLmR5bmFtaWNGb3JtLnB1c2goe3ZhbHVlOiAnJywgbGFiZWw6ICdzZ3VzJ30pCiAgICAgICAgdGhpcy5kYXRhRm9ybS5keW5hbWljRm9ybS5wdXNoKHt2YWx1ZTogJycsIGxhYmVsOiAnc2t1cyd9KQogICAgICAgIHRoaXMuZGF0YUZvcm0uZHluYW1pY0Zvcm0ucHVzaCh7dmFsdWU6ICcnLCBsYWJlbDogJ3ByaWNlJ30pCiAgICAgICAgdGhpcy5kYXRhRm9ybS5keW5hbWljRm9ybS5wdXNoKHt2YWx1ZTogJycsIGxhYmVsOiAndG9vbFByaWNlJ30pCiAgICAgICAgdGhpcy5kYXRhRm9ybS5keW5hbWljRm9ybS5wdXNoKHt2YWx1ZTogJycsIGxhYmVsOiAnc3ViQ2F0ZWdvcnknfSkKICAgICAgfWVsc2UgaWYodGhpcy5kYXRhRm9ybS5vcGVyYXRpb25bMF0gPT09ICdzYXR1cm5fYmluZCcpIHsKICAgICAgICB0aGlzLmRhdGFGb3JtLmR5bmFtaWNGb3JtLnB1c2goe3ZhbHVlOiAnJywgbGFiZWw6ICdjaGFubmVsJ30pCiAgICAgIH1lbHNlIHsKICAgICAgICB0aGlzLmRhdGFGb3JtLmR5bmFtaWNGb3JtID0gW10KICAgICAgfQoKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIGdldFNjZW5lcygpIHsKICAgIC8vICAgdG9vbEFwaS5nZXRTY2VuZXMoKS50aGVuKHJlcyA9PiB7CiAgICAvLyAgICAgdGhpcy5vcHRpb25zID0gcmVzLmRhdGEubWFwKGl0ZW0gPT4gewogICAgLy8gICAgICAgcmV0dXJuIHsKICAgIC8vICAgICAgICAgY2hpbmVzZV9zY2VuZTogaXRlbS5wcm9qZWN0LAogICAgLy8gICAgICAgICBzY2VuZTogaXRlbS5wcm9qZWN0LAogICAgLy8gICAgICAgICBjaGlsZHJlbjogaXRlbS5kYXRhcwogICAgLy8gICAgICAgfQogICAgLy8gICAgIH0pCiAgICAvLyAgIH0pCiAgICAvLyB9LAogICAgc3VibWl0Rm9ybSgpIHsKICAgICAgdGhpcy5zZXRJbnRvU3RvcmFnZSgpOwogICAgICB0aGlzLiRyZWZzLmRhdGFGb3JtLnZhbGlkYXRlKCh2YWxpZCkgPT4gewogICAgICAgIC8vIGNvbnNvbGUubG9nKCd2YWxpZCcsIHZhbGlkKQogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgdGhpcy5jZW50ZXJEaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgICAgfQogICAgICB9KTsKCiAgICB9LAoKICAgIHN1Ym1pdFNjZW5lKCkgewogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlCiAgICAgIGxldCBib2R5X3BhcmFtcyA9IF8uY2xvbmVEZWVwKHRoaXMuZGF0YUZvcm0pOwogICAgICBib2R5X3BhcmFtc1snb3BlcmF0aW9uJ10gPSB0aGlzLmRhdGFGb3JtLm9wZXJhdGlvblswXQogICAgICBib2R5X3BhcmFtc1snY29udGVudCddID0gdGhpcy5kYXRhRm9ybS5jb250ZW50ID8gSlNPTi5wYXJzZSh0aGlzLmRhdGFGb3JtLmNvbnRlbnQpIDogdGhpcy5kYXRhRm9ybS5jb250ZW50CiAgICAgIHRoaXMuZGF0YUZvcm0uZHluYW1pY0Zvcm0uZm9yRWFjaChpdGVtID0+IHsKICAgICAgICBib2R5X3BhcmFtc1tpdGVtLmxhYmVsXSA9IGl0ZW0udmFsdWUKICAgICAgfSkKICAgICAgaWYgKGJvZHlfcGFyYW1zWydvcGVyYXRpb24nXSA9PT0gJ3JlZGVlbScpIHsKICAgICAgICB0b29sQXBpLkludGVyZmFjZU9wZXJhdGVEYXRhKGJvZHlfcGFyYW1zKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PT0gMCkgewogICAgICAgICAgICB0aGlzLnJlc3VsdCA9IHJlcy5kYXRhLmRhdGEuY29kZTsKICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5yZXN1bHQpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGVsc2UgaWYgKGJvZHlfcGFyYW1zWydvcGVyYXRpb24nXSA9PT0gJ3JlZnVuZCcgfHwgYm9keV9wYXJhbXNbJ29wZXJhdGlvbiddID09PSAndHJhY2Vfc2VsbGVyX3NoaXAnKSB7CiAgICAgICAgdG9vbEFwaS5JbnRlcmZhY2VPcGVyYXRlRGF0YShib2R5X3BhcmFtcykudGhlbigpOwogICAgICB9IGVsc2UgaWYoYm9keV9wYXJhbXNbJ29wZXJhdGlvbiddLnN0YXJ0c1dpdGgoJ2xlc3NvbicpKXsKICAgICAgICBsZXNzb25BcGkubGVzc29uT3BlcmF0ZURhdGEoYm9keV9wYXJhbXMpLnRoZW4ocmVzID0+IHsKICAgICAgICAgIC8vIHRoaXMucmVzdWx0ID0gcmVzLmRhdGEKICAgICAgICAgIHRoaXMuc2hvd0xlc3NvblJlc3VsdCA9IHRydWUKICAgICAgICAgIHRoaXMubGVzc29uUmVzdWx0RGF0YSA9IHJlcy5kYXRhCiAgICAgICAgfSk7CiAgICAgIH1lbHNlIGlmKGJvZHlfcGFyYW1zWydvcGVyYXRpb24nXS5zdGFydHNXaXRoKCdFU1N5bmMnKSl7CiAgICAgICAgbGVzc29uQXBpLkVTU3luY0RhdGEoYm9keV9wYXJhbXMpLnRoZW4ocmVzID0+IHsKICAgICAgICAgIHRoaXMucmVzdWx0ID0gcmVzLmRhdGEKICAgICAgICB9KTsKICAgICAgfWVsc2UgewogICAgICAgIHRvb2xBcGkucHJlT3BlcmF0ZURhdGEoYm9keV9wYXJhbXMpLnRoZW4ocmVzID0+IHsKICAgICAgICAgIHRoaXMucmVzdWx0ID0gcmVzLmRhdGEKICAgICAgICB9KTsKICAgICAgfQogICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZQogICAgICB0aGlzLmNlbnRlckRpYWxvZ1Zpc2libGUgPSBmYWxzZQogICAgfSwKCiAgICByZXNldEZvcm0oZm9ybU5hbWUpIHsKICAgICAgdGhpcy5zZXRJbnRvU3RvcmFnZSgpOwogICAgICB0aGlzLiRyZWZzW2Zvcm1OYW1lXS5yZXNldEZpZWxkcygpOwogICAgfSwKCiAgICBjbGVhcmR5bmFtaWNGb3JtKCkgewogICAgICB0aGlzLmRhdGFGb3JtLmR5bmFtaWNGb3JtID0gW107CiAgICB9LAoKICAgIHF1ZXJ5U2VhcmNoKHF1ZXJ5U3RyaW5nLCBjYikgewogICAgICB2YXIgcGhvbmVzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncGhvbmVBcnInKSk7CiAgICAgIHZhciByZXN1bHRzID0gcXVlcnlTdHJpbmcgPyBwaG9uZXMuZmlsdGVyKHRoaXMuY3JlYXRlU3RhdGVGaWx0ZXIocXVlcnlTdHJpbmcpKSA6IHBob25lczsKCiAgICAgIC8vIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpOwogICAgICAvLyB0aGlzLnRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgY2IocmVzdWx0cyk7CiAgICAgIC8vICAgfSwgMTAwMCAqIE1hdGgucmFuZG9tKCkpOwogICAgfSwKICAgIGNyZWF0ZVN0YXRlRmlsdGVyKHF1ZXJ5U3RyaW5nKSB7CiAgICAgIHJldHVybiAoc3RhdGUpID0+IHsKICAgICAgICByZXR1cm4gKHN0YXRlLnZhbHVlLmluZGV4T2YocXVlcnlTdHJpbmcpID09PSAwKTsKICAgICAgfTsKICAgIH0sCgogICAgLyoqCiAgICAgKiDmiorovpPlhaXorrDlvZXlrZjlhaVsb2NhbFN0b3JhZ2UKICAgICAqLwogICAgc2V0SW50b1N0b3JhZ2UoKSB7CiAgICAgIGxldCBwaG9uZUFyciA9IFtdLCB0ZXh0ID0gJ3Bob25lQXJyJyAgLy8g5omL5py65Y+35Y6G5Y+y6K6w5b2V5pWw57uECiAgICAgIHBob25lQXJyLnB1c2goe3ZhbHVlOiB0aGlzLmRhdGFGb3JtLm1vYmlsZX0pCiAgICAgIGlmIChKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKHRleHQpKSkgeyAgLy8g5Yik5pat5piv5ZCm5bey5pyJeHh45p+l6K+i6K6w5b2V55qEbG9jYWxTdG9yYWdlCiAgICAgICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKHRleHQpLmluZGV4T2YodGhpcy5kYXRhRm9ybS5tb2JpbGUpID4gLTEpIHsgIC8vIOWIpOaWreaYr+WQpuW3suacieatpOadoeafpeivouiusOW9le+8jOiLpeW3suWtmOWcqO+8jOWImeS4jemcgOWGjeWtmOWCqAogICAgICAgICAgcmV0dXJuCiAgICAgICAgfQogICAgICAgIGlmIChKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKHRleHQpKS5sZW5ndGggPj0gNSkgewogICAgICAgICAgbGV0IGFyciA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0odGV4dCkpCiAgICAgICAgICBhcnIucG9wKCkKICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHRleHQsIEpTT04uc3RyaW5naWZ5KGFycikpCiAgICAgICAgfQogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHRleHQsIEpTT04uc3RyaW5naWZ5KHBob25lQXJyLmNvbmNhdChKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKHRleHQpKSkpKQogICAgICB9IGVsc2UgeyAgLy8g6aaW5qyh5Yib5bu6CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0odGV4dCwgSlNPTi5zdHJpbmdpZnkocGhvbmVBcnIpKQogICAgICB9CgogICAgfQoKICB9LAogIG1vdW50ZWQoKSB7CiAgICAvLyB0aGlzLmdldFNjZW5lcygpCiAgICB0aGlzLnNldEludG9TdG9yYWdlKCkKICB9Cn0K"},{"version":3,"sources":["pointTestTools.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"pointTestTools.vue","sourceRoot":"src/pages/testTools","sourcesContent":["<template>\n  <el-card\n    v-loading=\"loading\"\n    element-loading-spinner=\"el-icon-loading\"\n    element-loading-text=\"拼命加载中\"\n    style=\"width: 45%\"\n  >\n    <div>\n      <el-form\n        ref=\"dataForm\"\n        :model=\"dataForm\"\n        :rules=\"dataRules\"\n        label-position=\"right\"\n        label-width=\"100px\"\n        style=\"width: 100%; margin: 20px auto\"\n      >\n\n        <el-form-item label=\"环境 :\" prop=\"env\">\n          <el-select v-model=\"dataForm.env\" class=\"dataToolFormItem\">\n            <el-option\n              v-for=\"item in envs\"\n              :key=item\n              :label=\"item\"\n              :value=\"item\"\n            />\n          </el-select>\n        </el-form-item>\n\n        <el-form-item label=\"业务场景:\" prop=\"operation\">\n          <el-cascader\n            v-model=\"dataForm.operation\"\n            :options=\"datas\"\n            :props=\"optionProps\"\n            class=\"dataToolFormItem\"\n            filterable\n            @change=\"cleardynamicForm\"/>\n        </el-form-item>\n\n        <el-form-item label=\"手机号:\" prop=\"mobile\" v-if=\"showPhone\">\n          <el-autocomplete\n            v-model=\"dataForm.mobile\"\n            :fetch-suggestions=\"querySearch\"\n            class=\"dataToolFormItem\"\n            placeholder=\"请输入手机号\"\n          />\n          <!--          <el-input v-model=\"dataForm.mobile\"></el-input>-->\n        </el-form-item>\n        <!--        <el-form-item label=\"openid:\" prop=\"openid\">-->\n        <!--          <el-input v-model=\"dataForm.openid\"-->\n        <!--                    placeholder=\"手机号、openid、unionId三项必填其一\"-->\n        <!--                    class=\"dataToolFormItem\"></el-input>-->\n        <!--        </el-form-item>-->\n        <!--        <el-form-item label=\"unionId:\" prop=\"unionId\">-->\n        <!--          <el-input v-model=\"dataForm.unionId\"-->\n        <!--                    placeholder=\"手机号、openid、unionId三项必填其一\"-->\n        <!--                    class=\"dataToolFormItem\"></el-input>-->\n        <!--        </el-form-item>-->\n        <el-form-item\n          v-for=\"(item, index) in dataForm.dynamicForm\"\n          :key=\"item.label\"\n          :label=\"item.label\"\n          :prop=\"'dynamicForm.' + index + '.value'\"\n        >\n          <el-input\n            v-model=\"dataForm.dynamicForm[index].value\"\n            :placeholder=\"'请输入'+ item.label\"\n            class=\"dataToolFormItem\"\n            v-bind:type=\"dataForm.dynamicForm[index].typ\"\n            :autosize=\"{ minRows:2, maxRows:10 }\"\n          />\n        </el-form-item>\n        <el-form-item label=\"更新内容:\" prop=\"content\" v-if=\"showPhone\">\n          <el-input\n            v-model=\"dataForm.content\"\n            class=\"dataToolFormItem\"\n            placeholder=\"若有指定字段要更新，请输入json格式字符串\"\n            type=\"textarea\"\n          />\n        </el-form-item>\n        <el-form-item label=\"返回结果:\">\n          <div class=\"dataToolFormItem\">{{ result }}</div>\n        </el-form-item>\n        <el-form-item label-width=\"0\" style=\"text-align: center\">\n          <el-button type=\"primary\" @click=\"submitForm\">确定</el-button>\n          <el-button @click=\"resetForm('dataForm')\">重置</el-button>\n        </el-form-item>\n      </el-form>\n      <!--      <my-dialog :centerDialogVisible=\"centerDialogVisible\"-->\n      <!--                  content=\"确定要删除/更新`${dataForm.mobile}`的数据吗\"-->\n      <!--                 @callFather=\"submitFunc\"-->\n      <!--                 @centerDialogVisible=\"getCenterDialogVisible\"-->\n      <!--      ></my-dialog>-->\n      <el-dialog title=\"中台计分查询结果\" width=\"50%\" center :visible.sync=\"showLessonResult\">\n        <json-viewer :value=\"lessonResultData\" :expand-depth=\"5\" copyable sort></json-viewer>\n      </el-dialog>\n      <el-dialog\n        :visible.sync=\"centerDialogVisible\"\n        center\n        title=\"提示\"\n        width=\"30%\"\n      >\n        <span>确认要更新/删除{{ dataForm.mobile }}的数据吗？</span>\n        <span slot=\"footer\">\n          <el-button @click=\"centerDialogVisible = false\">取 消</el-button>\n          <el-button type=\"primary\" @click=\"submitScene\">确 定</el-button>\n        </span>\n      </el-dialog>\n    </div>\n  </el-card>\n</template>\n\n<script>\nconst _ = require('lodash');\nimport toolApi from \"@/api/tool.js\"\nimport lessonApi from \"@/api/toolLesson.js\"\n// import myDialog from \"@/components/myDialog\";\nexport default {\n  name: \"pointTestTools\",\n  // components: {myDialog},\n  props: {\n    datas: {type: Array}\n  },\n  data() {\n    var checkContent = (rule, value, callback) => {\n      try {\n        if (value !== '' && typeof JSON.parse(value) === \"object\") {\n          callback()\n        } else if (value !== '' && typeof JSON.parse(value) !== \"object\") {\n          return callback(new Error('请输入json字符串'))\n        } else {\n          callback()\n        }\n      } catch (e) {\n        return callback(new Error('请输入json字符串'))\n      }\n    }\n    // var checkMobile = (rule, value, callback) => {\n    //   if(value === '' && this.dataForm.openid === '' && this.dataForm.unionId === '') {\n    //     return callback(new Error('手机号、openid、unionId三项至少填一项'))\n    //   }else {\n    //     callback()\n    //   }\n    // }\n    return {\n      loading: false,\n      centerDialogVisible: false,\n      optionProps: {\n        value: 'scene',\n        label: 'chineseScene',\n        // children: 'children'\n      },\n      envs: ['dev', 'fat'],\n      dataForm: {\n        env: 'dev',\n        operation: '',\n        mobile: '',\n        content: '',\n        dynamicForm: [],\n      },\n      dataRules: {\n        operation: [{required: true, message: '请选择业务场景', trigger: 'blur'}],\n        // mobile: [{required: this.dataForm.dynamicForm, message: '请输入手机号', trigger: 'blur'}],\n        content: [{validator: checkContent, trigger: ['blur', 'change']}]\n      },\n      options: [],\n      result: '',\n      showPhone: true,\n      showLessonResult: false,\n      lessonResultData: '',\n    }\n  },\n  watch: {\n    'dataForm.operation'() {\n      console.log('operation', this.dataForm.operation)\n      if (this.dataForm.operation[0] === 'delete_promoter_openidOrUnionId' || this.dataForm.operation[0] === 'delete_wc_users'\n        || this.dataForm.operation[0] === 'delete_unionId') {\n        this.dataForm.dynamicForm.push({value: '', label: 'openid'})\n        this.dataForm.dynamicForm.push({value: '', label: 'unionId'})\n      } else if (this.dataForm.operation[0] === 'refund' || this.dataForm.operation[0] === 'trace_seller_ship') {\n        this.dataForm.dynamicForm.push({value: '', label: 'oid'})\n      } else if (this.dataForm.operation[0] === 'redeem') {\n        this.dataForm.dynamicForm.push({value: '', label: 'item_id'})\n        this.dataForm.dynamicForm.push({value: '', label: 'num'})\n      } else if(this.dataForm.operation[0].startsWith('lesson_')){\n        this.showPhone = false\n        this.dataForm.dynamicForm.push({value: 'course.course.atom', label: 'server_name', })\n        // this.dataForm.dynamicForm.push({value: '9', label: 'uri', typ:'input'})\n        this.dataForm.dynamicForm.push({value: '', label: 'params', typ:'textarea'})\n      }else if(this.dataForm.operation[0] === 'create_eshop_order') {\n        this.dataForm.dynamicForm.push({value: '', label: 'spuNo'})\n        this.dataForm.dynamicForm.push({value: '', label: 'promoterId'})\n      } else if(this.dataForm.operation[0] === 'create_Sample_order') {\n        this.dataForm.dynamicForm.push({value: '', label: 'fanMobile'})\n        this.dataForm.dynamicForm.push({value: '', label: 'sp2xuIds'})\n      } else if(this.dataForm.operation[0] === 'create_SGU' || this.dataForm.operation[0] === 'create_SPU') {\n        this.dataForm.dynamicForm.push({value: '', label: 'title'})\n        this.dataForm.dynamicForm.push({value: '', label: 'sgus'})\n        this.dataForm.dynamicForm.push({value: '', label: 'skus'})\n        this.dataForm.dynamicForm.push({value: '', label: 'price'})\n        this.dataForm.dynamicForm.push({value: '', label: 'toolPrice'})\n        this.dataForm.dynamicForm.push({value: '', label: 'subCategory'})\n      }else if(this.dataForm.operation[0] === 'saturn_bind') {\n        this.dataForm.dynamicForm.push({value: '', label: 'channel'})\n      }else {\n        this.dataForm.dynamicForm = []\n      }\n\n    }\n  },\n  methods: {\n    // getScenes() {\n    //   toolApi.getScenes().then(res => {\n    //     this.options = res.data.map(item => {\n    //       return {\n    //         chinese_scene: item.project,\n    //         scene: item.project,\n    //         children: item.datas\n    //       }\n    //     })\n    //   })\n    // },\n    submitForm() {\n      this.setIntoStorage();\n      this.$refs.dataForm.validate((valid) => {\n        // console.log('valid', valid)\n        if (valid) {\n          this.centerDialogVisible = true;\n        } else {\n          return false\n        }\n      });\n\n    },\n\n    submitScene() {\n      this.loading = true\n      let body_params = _.cloneDeep(this.dataForm);\n      body_params['operation'] = this.dataForm.operation[0]\n      body_params['content'] = this.dataForm.content ? JSON.parse(this.dataForm.content) : this.dataForm.content\n      this.dataForm.dynamicForm.forEach(item => {\n        body_params[item.label] = item.value\n      })\n      if (body_params['operation'] === 'redeem') {\n        toolApi.InterfaceOperateData(body_params).then(res => {\n          if (res.data.code === 0) {\n            this.result = res.data.data.code;\n            console.log(this.result);\n          }\n        });\n      } else if (body_params['operation'] === 'refund' || body_params['operation'] === 'trace_seller_ship') {\n        toolApi.InterfaceOperateData(body_params).then();\n      } else if(body_params['operation'].startsWith('lesson')){\n        lessonApi.lessonOperateData(body_params).then(res => {\n          // this.result = res.data\n          this.showLessonResult = true\n          this.lessonResultData = res.data\n        });\n      }else if(body_params['operation'].startsWith('ESSync')){\n        lessonApi.ESSyncData(body_params).then(res => {\n          this.result = res.data\n        });\n      }else {\n        toolApi.preOperateData(body_params).then(res => {\n          this.result = res.data\n        });\n      }\n      this.loading = false\n      this.centerDialogVisible = false\n    },\n\n    resetForm(formName) {\n      this.setIntoStorage();\n      this.$refs[formName].resetFields();\n    },\n\n    cleardynamicForm() {\n      this.dataForm.dynamicForm = [];\n    },\n\n    querySearch(queryString, cb) {\n      var phones = JSON.parse(localStorage.getItem('phoneArr'));\n      var results = queryString ? phones.filter(this.createStateFilter(queryString)) : phones;\n\n      // clearTimeout(this.timeout);\n      // this.timeout = setTimeout(() => {\n      cb(results);\n      //   }, 1000 * Math.random());\n    },\n    createStateFilter(queryString) {\n      return (state) => {\n        return (state.value.indexOf(queryString) === 0);\n      };\n    },\n\n    /**\n     * 把输入记录存入localStorage\n     */\n    setIntoStorage() {\n      let phoneArr = [], text = 'phoneArr'  // 手机号历史记录数组\n      phoneArr.push({value: this.dataForm.mobile})\n      if (JSON.parse(localStorage.getItem(text))) {  // 判断是否已有xxx查询记录的localStorage\n        if (localStorage.getItem(text).indexOf(this.dataForm.mobile) > -1) {  // 判断是否已有此条查询记录，若已存在，则不需再存储\n          return\n        }\n        if (JSON.parse(localStorage.getItem(text)).length >= 5) {\n          let arr = JSON.parse(localStorage.getItem(text))\n          arr.pop()\n          localStorage.setItem(text, JSON.stringify(arr))\n        }\n        localStorage.setItem(text, JSON.stringify(phoneArr.concat(JSON.parse(localStorage.getItem(text)))))\n      } else {  // 首次创建\n        localStorage.setItem(text, JSON.stringify(phoneArr))\n      }\n\n    }\n\n  },\n  mounted() {\n    // this.getScenes()\n    this.setIntoStorage()\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n.dataToolFormItem {\n  width: 90%;\n}\n\n</style>\n"]}]}