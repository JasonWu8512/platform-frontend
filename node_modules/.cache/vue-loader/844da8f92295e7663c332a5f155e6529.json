{"remainingRequest":"/Users/jlglqa/Documents/QA/noa/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jlglqa/Documents/QA/noa/src/common/components/search/TableSearchSelect.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/jlglqa/Documents/QA/noa/src/common/components/search/TableSearchSelect.vue","mtime":1655949681765},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/babel-loader/lib/index.js","mtime":1644314985388},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/ts-loader/index.js","mtime":1644314987889},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/cache-loader/dist/cjs.js","mtime":1644298102062},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/vue-loader/lib/index.js","mtime":1644314988580}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKaW1wb3J0IFRhYmxlU2VhcmNoQ29tcG9uZW50IGZyb20gIkAvY29tbW9uL2NvbXBvbmVudHMvc2VhcmNoL1RhYmxlU2VhcmNoQ29tcG9uZXQudnVlIgoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJUYWJsZVNlYXJjaFNlbGVjdCIsCiAgY29tcG9uZW50czoge1RhYmxlU2VhcmNoQ29tcG9uZW50fSwKICBwcm9wczogWydjb21wb25lbnQnXSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgb3B0aW9uczogISh0aGlzLmNvbXBvbmVudC5vcHRpb25zIGluc3RhbmNlb2YgQXJyYXkpID8gW10gOiB0aGlzLmNvbXBvbmVudC5vcHRpb25zIHx8IFtdCiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgaWYgKCEodGhpcy5jb21wb25lbnQub3B0aW9ucyBpbnN0YW5jZW9mIEFycmF5KSAmJiB0aGlzLmNvbXBvbmVudC5vcHRpb25zLnVybCkgewogICAgICB0aGlzLiRnZXQodGhpcy5jb21wb25lbnQub3B0aW9ucy51cmwsIChyZXNwb25zZTogeyBkYXRhOiB7IFt4OiBzdHJpbmddOiBhbnkgfVtdIH0pID0+IHsKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YSkgewogICAgICAgICAgcmVzcG9uc2UuZGF0YS5mb3JFYWNoKChpdGVtOiB7IFt4OiBzdHJpbmddOiBhbnkgfSkgPT4gewogICAgICAgICAgICB0aGlzLm9wdGlvbnMucHVzaCh7CiAgICAgICAgICAgICAgbGFiZWw6IGl0ZW1bdGhpcy5jb21wb25lbnQub3B0aW9ucy5sYWJlbEtleV0sCiAgICAgICAgICAgICAgdmFsdWU6IGl0ZW1bdGhpcy5jb21wb25lbnQub3B0aW9ucy52YWx1ZUtleV0KICAgICAgICAgICAgfSkKICAgICAgICAgIH0pCiAgICAgICAgfQogICAgICB9KQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGxhYmVsKCkgewogICAgICByZXR1cm4gKG9wOiB7IGxhYmVsOiBzdHJpbmcgfCBzdHJpbmdbXSB9KSA9PiB7CiAgICAgICAgaWYgKHRoaXMuY29tcG9uZW50Lm9wdGlvbnMuc2hvd0xhYmVsKSB7CiAgICAgICAgICByZXR1cm4gdGhpcy5jb21wb25lbnQub3B0aW9ucy5zaG93TGFiZWwob3ApOwogICAgICAgIH0KICAgICAgICByZXR1cm4gb3AubGFiZWwuaW5kZXhPZigiLiIpICE9PSAtMSA/IHRoaXMuJHQob3AubGFiZWwpIDogb3AubGFiZWw7CiAgICAgIH0KICAgIH0KICB9Cn0K"},{"version":3,"sources":["TableSearchSelect.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAkBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TableSearchSelect.vue","sourceRoot":"src/common/components/search","sourcesContent":["<template>\n  <table-search-component v-model=\"component.operator.value\" :component=\"component\">\n    <template v-slot=\"scope\">\n      <el-select\n        v-model=\"scope.component.value\"\n        v-bind=\"scope.component.props\"\n        class=\"search-select\"\n        filterable\n        placeholder=\"请选择\"\n        size=\"small\"\n      >\n        <el-option v-for=\"op in options\" :key=\"op.value\" :label=\"label(op)\" :value=\"op.value\"/>\n      </el-select>\n    </template>\n  </table-search-component>\n</template>\n\n<script lang=\"ts\">\nimport TableSearchComponent from \"@/common/components/search/TableSearchComponet.vue\"\n\nexport default {\n  name: \"TableSearchSelect\",\n  components: {TableSearchComponent},\n  props: ['component'],\n  data() {\n    return {\n      options: !(this.component.options instanceof Array) ? [] : this.component.options || []\n    }\n  },\n  created() {\n    if (!(this.component.options instanceof Array) && this.component.options.url) {\n      this.$get(this.component.options.url, (response: { data: { [x: string]: any }[] }) => {\n        if (response.data) {\n          response.data.forEach((item: { [x: string]: any }) => {\n            this.options.push({\n              label: item[this.component.options.labelKey],\n              value: item[this.component.options.valueKey]\n            })\n          })\n        }\n      })\n    }\n  },\n  computed: {\n    label() {\n      return (op: { label: string | string[] }) => {\n        if (this.component.options.showLabel) {\n          return this.component.options.showLabel(op);\n        }\n        return op.label.indexOf(\".\") !== -1 ? this.$t(op.label) : op.label;\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.search-select {\n  display: inline-block;\n  width: 100%;\n}\n</style>\n"]}]}