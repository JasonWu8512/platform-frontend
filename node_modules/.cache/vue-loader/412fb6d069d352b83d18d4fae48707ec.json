{"remainingRequest":"/Users/jlglqa/Documents/QA/noa/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jlglqa/Documents/QA/noa/src/pages/Team/SprintDetails.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jlglqa/Documents/QA/noa/src/pages/Team/SprintDetails.vue","mtime":1655949681769},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/cache-loader/dist/cjs.js","mtime":1644298102062},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/babel-loader/lib/index.js","mtime":1644314985388},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/cache-loader/dist/cjs.js","mtime":1644298102062},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/vue-loader/lib/index.js","mtime":1644314988580}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBqaXJhQXBpIGZyb20gIkAvYXBpL2ppcmEiCmltcG9ydCB7c3ByaW50RXhjZXB0aW9uc30gZnJvbSAiQC9jb25zdGFudC9KaXJhIgppbXBvcnQge1BhdGhOYW1lfSBmcm9tICJAL2NvbnN0YW50L3JvdXRlRGF0YSIKaW1wb3J0IFNwcmludFRlc3RQbGFuIGZyb20gIkAvcGFnZXMvVGVhbS9jb21wb25lbnRzL1NwcmludFRlc3RQbGFuIgppbXBvcnQgU3ByaW50VGVzdFN0YXR1cyBmcm9tICJAL3BhZ2VzL1RlYW0vY29tcG9uZW50cy9TcHJpbnRUZXN0U3RhdHVzIgppbXBvcnQgU3ViVGFza1Byb2dyZXNzIGZyb20gIkAvcGFnZXMvVGVhbS9jb21wb25lbnRzL1N1YlRhc2tQcm9ncmVzcyIKCmV4cG9ydCBkZWZhdWx0IHsKbmFtZTogIlNwcmludERldGFpbHMiLAogIGNvbXBvbmVudHM6IHtTcHJpbnRUZXN0UGxhbiwgU3ByaW50VGVzdFN0YXR1cywgU3ViVGFza1Byb2dyZXNzfSwKICBkYXRhKCkgewogICAgcmV0dXJuewogICAgICBzcFZhbHVlczogW10sCiAgICAgIGV4Y2VwdGlvbnM6IFtdLAogICAgICBvcHRpb25Qcm9wczogewogICAgICAgIHZhbHVlOiAnaWQnLAogICAgICAgIGxhYmVsOiAnbmFtZScsCiAgICAgICAgY2hpbGRyZW46ICdzcHJpbnRzJwogICAgICB9LAogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIHNwcmludElkKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7bmFtZTogUGF0aE5hbWUuU3ByaW50RGV0YWlsLCBxdWVyeTp7cHJvaklkOiB0aGlzLnNwVmFsdWVzWzBdLCBzcHJpbnRJZDogdGhpcy5zcHJpbnRJZH19KQogICAgICB0aGlzLmdldFNwcmludFdhcm5pbmcoKQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHByb2plY3RTcHJpbnRzKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuamlyYS5wcm9qZWN0czsKICAgIH0sCiAgICBzcHJpbnRJZCgpIHsKICAgICAgaWYgKHRoaXMuc3BWYWx1ZXMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHZ1ZS9uby1hc3luYy1pbi1jb21wdXRlZC1wcm9wZXJ0aWVzCiAgICAgICAgamlyYUFwaS5nZXRTcHJpbnRTcGVjaWZpYyh7fSkudGhlbihyZXMgPT4gewogICAgICAgICAgdGhpcy5zcFZhbHVlcyA9IFtyZXMuZGF0YS5wcm9qSWQsIHJlcy5kYXRhLmlkXQogICAgICAgICAgaWYgKHRoaXMuJHJvdXRlLnF1ZXJ5LnNwcmludElkKSB7CiAgICAgICAgICAgIHRoaXMuc3BWYWx1ZXMgPSBbdGhpcy4kcm91dGUucXVlcnkucHJvaklkLCB0aGlzLiRyb3V0ZS5xdWVyeS5zcHJpbnRJZF0KICAgICAgICAgIH0KICAgICAgICAgIC8vIHRoaXMuZ2V0VmVyc2lvbnNSZXBvcnQodGhpcy5zcFZhbHVlc1sxXSkKICAgICAgICB9KQogICAgICB9CiAgICAgIHJldHVybiB0aGlzLnNwVmFsdWVzWzFdCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgZ2V0U3ByaW50V2FybmluZygpIHsKICAgIHRoaXMuZXhjZXB0aW9ucyA9IFtdCiAgICBqaXJhQXBpLmdldFNwcmludEV4Y2VwdGlvbnNXYXJuaW5nKHtzcHJpbnRfaWQ6IHRoaXMuc3ByaW50SWR9KS50aGVuKHJlcyA9PiB7CiAgICAgIGNvbnNvbGUubG9nKCd3YXJuaW5ncycsIHJlcy5kYXRhKQogICAgICBsZXQgZXhjZXB0aW9uc190eXBlcyA9IE9iamVjdC5lbnRyaWVzKHJlcy5kYXRhKS5tYXAoKFtrZXksIHZhbHVlXSkgPT4gewogICAgICAgIHJldHVybiB7dHlwZToga2V5LCB2YWx1ZTogdmFsdWV9CiAgICAgIH0pCiAgICAgIGV4Y2VwdGlvbnNfdHlwZXMuZm9yRWFjaChpdGVtID0+IHsKICAgICAgICB0aGlzLmV4Y2VwdGlvbnMucHVzaCgnXG4nKQogICAgICAgIHRoaXMuZXhjZXB0aW9ucy5wdXNoKHNwcmludEV4Y2VwdGlvbnNbaXRlbS50eXBlLnRvVXBwZXJDYXNlKCldICsgJzonKQogICAgICAgIGl0ZW0udmFsdWUuZm9yRWFjaChjb250ZW50ID0+IHsKICAgICAgICAgIHRoaXMuZXhjZXB0aW9ucy5wdXNoKCcgICAgICcgKyBjb250ZW50KQogICAgICAgIH0pCiAgICAgIH0pCiAgICB9KQogIH0KICB9Cn0K"},{"version":3,"sources":["SprintDetails.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SprintDetails.vue","sourceRoot":"src/pages/Team","sourcesContent":["<template>\n  <div>\n    <div class=\"head-bar\">\n      <div style=\"float: right;\">\n        <el-popover\n          placement=\"left-end\"\n          title=\"sprint 异常信息\"\n          width=\"800\"\n          trigger=\"click\"\n          >\n          <div style=\"height: 600px; overflow-y: scroll; line-height: 24px\">\n            <p v-for=\"(item, index) of exceptions\" :key=\"index\" style=\"white-space: pre;\">{{ item }}</p>\n          </div>\n          <img src=\"../../assets/img/sprintWarningIcon.svg\" alt slot=\"reference\" style=\"cursor:pointer;padding-right: 15px; display: inline;vertical-align: middle;\" v-show=\"exceptions.length > 0\">\n        </el-popover>\n        <el-cascader v-model=\"spValues\" :options=\"projectSprints\" :props=\"optionProps\" placeholder=\"请选择项目->迭代\"\n                     size=\"mini\" style=\"width: 400px;\"></el-cascader>\n      </div>\n    </div>\n    <div class=\"container\" ref=\"resume\" id=\"app\">\n      <el-main>\n        <sprint-test-plan :sprint-id=\"sprintId\"></sprint-test-plan>\n        <sprint-test-status :sprint-id=\"sprintId\" style=\"margin-top: 15px\"></sprint-test-status>\n        <sub-task-progress :sprint-id=\"sprintId\" style=\"margin-top: 15px\"></sub-task-progress>\n      </el-main>\n\n    </div>\n\n\n  </div>\n</template>\n\n<script>\nimport jiraApi from \"@/api/jira\"\nimport {sprintExceptions} from \"@/constant/Jira\"\nimport {PathName} from \"@/constant/routeData\"\nimport SprintTestPlan from \"@/pages/Team/components/SprintTestPlan\"\nimport SprintTestStatus from \"@/pages/Team/components/SprintTestStatus\"\nimport SubTaskProgress from \"@/pages/Team/components/SubTaskProgress\"\n\nexport default {\nname: \"SprintDetails\",\n  components: {SprintTestPlan, SprintTestStatus, SubTaskProgress},\n  data() {\n    return{\n      spValues: [],\n      exceptions: [],\n      optionProps: {\n        value: 'id',\n        label: 'name',\n        children: 'sprints'\n      },\n    }\n  },\n  watch: {\n    sprintId() {\n      this.$router.push({name: PathName.SprintDetail, query:{projId: this.spValues[0], sprintId: this.sprintId}})\n      this.getSprintWarning()\n    }\n  },\n  computed: {\n    projectSprints() {\n      return this.$store.state.jira.projects;\n    },\n    sprintId() {\n      if (this.spValues.length === 0) {\n        // eslint-disable-next-line vue/no-async-in-computed-properties\n        jiraApi.getSprintSpecific({}).then(res => {\n          this.spValues = [res.data.projId, res.data.id]\n          if (this.$route.query.sprintId) {\n            this.spValues = [this.$route.query.projId, this.$route.query.sprintId]\n          }\n          // this.getVersionsReport(this.spValues[1])\n        })\n      }\n      return this.spValues[1]\n    }\n  },\n  methods: {\n  getSprintWarning() {\n    this.exceptions = []\n    jiraApi.getSprintExceptionsWarning({sprint_id: this.sprintId}).then(res => {\n      console.log('warnings', res.data)\n      let exceptions_types = Object.entries(res.data).map(([key, value]) => {\n        return {type: key, value: value}\n      })\n      exceptions_types.forEach(item => {\n        this.exceptions.push('\\n')\n        this.exceptions.push(sprintExceptions[item.type.toUpperCase()] + ':')\n        item.value.forEach(content => {\n          this.exceptions.push('     ' + content)\n        })\n      })\n    })\n  }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n.card-title {\n  font-size: 16px;\n  font-weight: 700;\n  text-align: left;\n}\n.head-bar {\n  background: white;\n  height: 45px;\n  line-height: 45px;\n  padding: 0 10px;\n  border: 1px solid #EBEEF5;\n  box-shadow: 0 0 2px 0 rgba(31, 31, 31, 0.15), 0 1px 2px 0 rgba(31, 31, 31, 0.15);\n}\n.container {\n  height: 100vh;\n  background: #F5F5F5;\n}\n.el-main {\n  height: calc(100vh - 130px);\n  width: 100%;\n}\n.warning-icon {\n  width: 15px;\n  height: 15px;\n  background: url('data:image/svg+xml;utf8,<svg version=\"1.1\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"16px\" height=\"16px\" xmlns=\"http://www.w3.org/2000/svg\"><g transform=\"matrix(1 0 0 1 -1024 -116 )\"><path d=\"M 9.05567928730512 13.4471153846154  C 9.11210096510765 13.3862179487179  9.14031180400891 13.3108974358974  9.14031180400891 13.2211538461538  L 9.14031180400891 11.3942307692308  C 9.14031180400891 11.3044871794872  9.11210096510765 11.2291666666667  9.05567928730512 11.1682692307692  C 8.9992576095026 11.1073717948718  8.93244246473645 11.0769230769231  8.85523385300668 11.0769230769231  L 7.14476614699332 11.0769230769231  C 7.06755753526355 11.0769230769231  7.0007423904974 11.1073717948718  6.94432071269488 11.1682692307692  C 6.88789903489235 11.2291666666667  6.85968819599109 11.3044871794872  6.85968819599109 11.3942307692308  L 6.85968819599109 13.2211538461538  C 6.85968819599109 13.3108974358974  6.88789903489235 13.3862179487179  6.94432071269488 13.4471153846154  C 7.0007423904974 13.5080128205128  7.06755753526355 13.5384615384615  7.14476614699332 13.5384615384615  L 8.85523385300668 13.5384615384615  C 8.93244246473645 13.5384615384615  8.9992576095026 13.5080128205128  9.05567928730512 13.4471153846154  Z M 9.02895322939866 9.78365384615385  C 9.08537490720119 9.74198717948718  9.11655530809206 9.68910256410256  9.12249443207127 9.625  L 9.28285077951002 5.21153846153846  C 9.28285077951002 5.13461538461539  9.25315515961396 5.07371794871795  9.19376391982183 5.02884615384615  C 9.11655530809206 4.95833333333333  9.0452858203415 4.92307692307692  8.97995545657016 4.92307692307692  L 7.02004454342984 4.92307692307692  C 6.9547141796585 4.92307692307692  6.88344469190794 4.95833333333333  6.80623608017817 5.02884615384615  C 6.74684484038604 5.07371794871795  6.71714922048998 5.14102564102564  6.71714922048998 5.23076923076923  L 6.86859688195991 9.625  C 6.86859688195991 9.68910256410256  6.89829250185598 9.74198717948718  6.95768374164811 9.78365384615385  C 7.01707498144024 9.82532051282051  7.08834446919079 9.84615384615385  7.17149220489978 9.84615384615385  L 8.8195991091314 9.84615384615385  C 8.90274684484039 9.84615384615385  8.97253155159614 9.82532051282051  9.02895322939866 9.78365384615385  Z M 8.57906458797327 0.173076923076923  C 8.75723830734967 0.288461538461538  8.89680772086117 0.445512820512819  8.9977728285078 0.64423076923077  L 15.8396436525612 14.1826923076923  C 16.0475129918337 14.5865384615385  16.0415738678545 14.9903846153846  15.8218262806236 15.3942307692308  C 15.720861172977 15.5801282051282  15.5827765404603 15.7275641025641  15.4075723830735 15.8365384615385  C 15.2323682256867 15.9455128205128  15.0438010393467 16  14.8418708240535 16  L 1.15812917594655 16  C 0.956198960653304 16  0.767631774313289 15.9455128205128  0.592427616926503 15.8365384615385  C 0.417223459539718 15.7275641025641  0.279138827023014 15.5801282051282  0.178173719376392 15.3942307692308  C -0.0415738678544915 14.9903846153846  -0.0475129918337045 14.5865384615385  0.160356347438753 14.1826923076923  L 7.0022271714922 0.64423076923077  C 7.10319227913883 0.445512820512819  7.24276169265034 0.288461538461538  7.42093541202673 0.173076923076923  C 7.59910913140312 0.0576923076923084  7.79213066072754 0  8 0  C 8.20786933927246 0  8.40089086859688 0.0576923076923084  8.57906458797327 0.173076923076923  Z \" fill-rule=\"nonzero\" fill=\"#d9001b\" stroke=\"none\" transform=\"matrix(1 0 0 1 1024 116 )\" /></g></svg>') no-repeat center;\n  background-size: 100%;\n\n}\n</style>\n"]}]}