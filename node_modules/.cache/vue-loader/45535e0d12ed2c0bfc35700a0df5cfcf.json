{"remainingRequest":"/Users/jlglqa/Documents/QA/noa/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jlglqa/Documents/QA/noa/src/pages/coverage/PipeLine.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/jlglqa/Documents/QA/noa/src/pages/coverage/PipeLine.vue","mtime":1655949681773},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/babel-loader/lib/index.js","mtime":1644314985388},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/ts-loader/index.js","mtime":1644314987889},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/cache-loader/dist/cjs.js","mtime":1644298102062},{"path":"/Users/jlglqa/Documents/QA/noa/node_modules/vue-loader/lib/index.js","mtime":1644314988580}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCmltcG9ydCB7Y292ZXJhZ2VBcGl9IGZyb20gIkAvYXBpIgppbXBvcnQgdmFyaWFibGVzIGZyb20gIkAvYXNzZXRzL2Nzcy91dGlscy5zY3NzIgppbXBvcnQgRGlhbG9nRm9vdGVyIGZyb20gJ0AvY29tbW9uL2NvbXBvbmVudHMvRGlhbG9nRm9vdGVyLnZ1ZScKaW1wb3J0IFRhYmxlUGFnaW5hdGlvbiBmcm9tICJAL2NvbW1vbi9jb21wb25lbnRzL3BhZ2luYXRpb24vVGFibGVQYWdpbmF0aW9uLnZ1ZSIKaW1wb3J0IFRhYmxlSGVhZGVyIGZyb20gIkAvY29tbW9uL2NvbXBvbmVudHMvVGFibGVIZWFkZXIudnVlIgppbXBvcnQgVGFibGVPcGVyYXRvciBmcm9tICJAL2NvbW1vbi9jb21wb25lbnRzL1RhYmxlT3BlcmF0b3IudnVlIgppbXBvcnQge1BBR0lOQVRJT05fU0laRX0gZnJvbSAiQC9jb25zdGFudCIKaW1wb3J0IHtQYXRoTmFtZX0gZnJvbSAiQC9jb25zdGFudC9yb3V0ZURhdGEiCmltcG9ydCBQaXBlbGluZUVkaXQgZnJvbSAiQC9wYWdlcy9jb3ZlcmFnZS9jb21wb25lbnRzL1BpcGVsaW5lRWRpdC52dWUiCmltcG9ydCB7YnVzaW5lc3NUeXBlLCB0ZXJtaW5hbFR5cGV9IGZyb20gIkAvY29uc3RhbnQvQ292ZXJhZ2UiOwppbXBvcnQge19maWx0ZXJ9IGZyb20gIkAvY29tbW9uL3V0aWxzIgovLyDkuJrliqHnur8KY29uc3QgYnVzaW5lc3NPcHRpb25zID0gT2JqZWN0LmVudHJpZXMoYnVzaW5lc3NUeXBlKS5tYXAoKFt2YWx1ZSwgdGV4dF0pID0+IHsKICByZXR1cm4ge3RleHQ6IHRleHQsIHZhbHVlOiB2YWx1ZX0KfSkKLy8g56uvCmNvbnN0IHRlcm1pbmFsT3B0aW9ucyA9IE9iamVjdC5lbnRyaWVzKHRlcm1pbmFsVHlwZSkubWFwKChbdmFsdWUsIHRleHRdKSA9PiB7CiAgcmV0dXJuIHt0ZXh0OiB0ZXh0LCB2YWx1ZTogdmFsdWV9Cn0pCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlBpcGVMaW5lIiwKICBjb21wb25lbnRzOiB7VGFibGVIZWFkZXIsIFRhYmxlUGFnaW5hdGlvbiwgVGFibGVPcGVyYXRvciwgUGlwZWxpbmVFZGl0LCBEaWFsb2dGb290ZXJ9LAogIHByb3BzOiB7fSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYnVzaW5lc3NUeXBlOiBidXNpbmVzc1R5cGUsCiAgICAgIHRlcm1pbmFsVHlwZTogdGVybWluYWxUeXBlLAogICAgICB0ZXJtaW5hbE9wdGlvbnM6IHRlcm1pbmFsT3B0aW9ucywKICAgICAgYnVzaW5lc3NPcHRpb25zOiBidXNpbmVzc09wdGlvbnMsCiAgICAgIG5vUG9sbGluZzogdHJ1ZSwKICAgICAgc29uYXJGb3JtVmlzaWJsZTogZmFsc2UsCiAgICAgIGRpYWxvZ0Zvcm1WaXNpYmxlOiBmYWxzZSwKICAgICAgY29tcGFyZUZvcm1WaXNpYmxlOiBmYWxzZSwKICAgICAgY29uZGl0aW9uOiB7fSwKICAgICAgdG90YWw6IDAsCiAgICAgIHBhZ2VTaXplOiBQQUdJTkFUSU9OX1NJWkUuTEFSR0UsCiAgICAgIGN1cnJlbnRQYWdlOiAxLAogICAgICBzZWFyY2hOYW1lOiAnJywKICAgICAgdGFibGVEYXRhczogW10sCiAgICAgIGNvbW1pdEZvcm06IHsKICAgICAgICBjb21taXRJZDogJycsCiAgICAgIH0sCiAgICAgIGNvbXBhcmVGb3JtOiB7CiAgICAgICAgY29tcGFyZUJyYW5jaDogJycKICAgICAgfSwKICAgICAgY29tbWl0UnVsZXM6IHtjb21taXRJZDogW3tyZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpWNvbW1pdElkJywgdHJpZ2dlcjogJ2JsdXInfV19LAogICAgICBwaXBlbGluZUZpbHRlcnM6IHt9CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgbG9hZGluZygpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmxvYWRpbmcKICAgIH0sCiAgICB0YWJsZTVCdG5XaWR0aCgpIHsKICAgICAgcmV0dXJuIHZhcmlhYmxlc1sndGFibGU1QnRuV2lkdGgnXQogICAgfSwKICB9LAoKICBkZXN0cm95ZWQoKSB7CiAgICBjbGVhckludGVydmFsKHRoaXMubXlJbnRlcnZhbCkKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLnBvbGxpbmdEYXRhTGlzdCgpCiAgfSwKICBtZXRob2RzOiB7CiAgICBmaWx0ZXIoZmlsdGVyczogYW55KSB7CiAgICAgIHRoaXMubm9Qb2xsaW5nID0gdHJ1ZQogICAgICB0aGlzLmN1cnJlbnRQYWdlID0gMQogICAgICBfZmlsdGVyKGZpbHRlcnMsIHRoaXMucGlwZWxpbmVGaWx0ZXJzLCB0aGlzLiRyb3V0ZS5wYXRoKQogICAgICB0aGlzLnBvbGxpbmdEYXRhTGlzdCgpCiAgICB9LAogICAgcGlwZWxpbmVJY29uKHN0YXR1cz86IHN0cmluZykgewogICAgICBpZiAoc3RhdHVzID09PSAnc3VjY2VzcycpIHsKICAgICAgICByZXR1cm4gJ2VsLWljb24tY2lyY2xlLWNoZWNrIGljb25TaXplIHN1Y2Nlc3MnCiAgICAgIH0gZWxzZSBpZiAoc3RhdHVzID09PSAncGVuZGluZycpIHsKICAgICAgICByZXR1cm4gJ2VsLWljb24tdmlkZW8tcGF1c2UgaWNvblNpemUgcGVuZGluZycKICAgICAgfSBlbHNlIGlmIChzdGF0dXMgPT09ICdydW5uaW5nJykgewogICAgICAgIHJldHVybiAnZWwtaWNvbi1sb2FkaW5nIGljb25TaXplIHJ1bm5pbmcnCiAgICAgIH0gZWxzZSBpZiAoc3RhdHVzID09PSAnZmFpbCcpIHsKICAgICAgICByZXR1cm4gJ2VsLWljb24tY2lyY2xlLWNsb3NlIGljb25TaXplIGZhaWwnCiAgICAgIH0gZWxzZSBpZiAoc3RhdHVzID09PSAnc2tpcCcpIHsKICAgICAgICByZXR1cm4gJ2VsLWljb24td2FybmluZy1vdXRsaW5lIGljb25TaXplIHNraXAnCiAgICAgIH0KICAgIH0sCiAgICBnZXRQaXBlbGluZUxpc3QodmFsdWU/OiBzdHJpbmcpIHsKICAgICAgY29uc3QgcGFyYW1zID0gewogICAgICAgIGxpbWl0OiB0aGlzLnBhZ2VTaXplLAogICAgICAgIG9mZnNldDogdGhpcy5wYWdlU2l6ZSAqICh0aGlzLmN1cnJlbnRQYWdlIC0gMSksCiAgICAgICAgbmFtZTogdmFsdWUKICAgICAgfQogICAgICB0aGlzLnBpcGVsaW5lRmlsdGVycyA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0odGhpcy4kcm91dGUucGF0aCkgfHwgInt9IgogICAgICB0aGlzLnBpcGVsaW5lRmlsdGVycyA9IEpTT04ucGFyc2UodGhpcy5waXBlbGluZUZpbHRlcnMpCiAgICAgIC8vIGNvbnNvbGUubG9nKCdwYXJhbXMnLCB0eXBlb2YgdGhpcy5waXBlbGluZUZpbHRlcnMpCiAgICAgIE9iamVjdC5hc3NpZ24ocGFyYW1zLCB0aGlzLnBpcGVsaW5lRmlsdGVycykKICAgICAgdGhpcy4kcmVmcy5waXBlbGluZVRhYmxlLmNvbHVtbnMuZm9yRWFjaCgoaXRlbTogYW55KSA9PiB7CiAgICAgICAgaXRlbS5maWx0ZXJlZFZhbHVlID0gdGhpcy5waXBlbGluZUZpbHRlcnNbaXRlbS5jb2x1bW5LZXldCiAgICAgIH0pCiAgICAgIGNvdmVyYWdlQXBpLmdldFBpcGVsaW5lTGlzdChwYXJhbXMpLnRoZW4ocmVzID0+IHsKICAgICAgICB0aGlzLnRhYmxlRGF0YXMgPSByZXMuZGF0YS5kYXRhCiAgICAgICAgdGhpcy50YWJsZURhdGFzLmZvckVhY2goZnVuY3Rpb24gKGl0ZW06IGFueSkgewogICAgICAgICAgaXRlbS52aXNpYmxlID0gZmFsc2UKICAgICAgICAgIGl0ZW0udmlzaWJsZTIgPSBmYWxzZQogICAgICAgIH0pCiAgICAgICAgdGhpcy50b3RhbCA9IHJlcy5kYXRhLnRvdGFsCiAgICAgICAgdGhpcy5ub1BvbGxpbmcgPSB0cnVlCiAgICAgIH0pCiAgICB9LAogICAgcG9sbGluZ0RhdGFMaXN0KHZhbHVlPzogc3RyaW5nKSB7CiAgICAgIHRoaXMuZ2V0UGlwZWxpbmVMaXN0KHZhbHVlKQogICAgICBjbGVhckludGVydmFsKHRoaXMubXlJbnRlcnZhbCkKICAgICAgdGhpcy5teUludGVydmFsID0gd2luZG93LnNldEludGVydmFsKCgpID0+IHsKICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgIHRoaXMubm9Qb2xsaW5nID0gZmFsc2UKICAgICAgICAgIHRoaXMuZ2V0UGlwZWxpbmVMaXN0KHZhbHVlKQogICAgICAgIH0sIDEpCiAgICAgIH0sIDEwMDAwKQogICAgfSwKICAgIGhhbmRsZVBvbGxpbmdEYXRhTGlzdCh2YWx1ZT86IHN0cmluZykgewogICAgICB0aGlzLmN1cnJlbnRQYWdlID0gMQogICAgICB0aGlzLnBvbGxpbmdEYXRhTGlzdCh2YWx1ZSkKICAgIH0sCiAgICBoYW5kbGVUb0J1aWxkUmVjb3JkKHJvdz86IGFueSkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogUGF0aE5hbWUuUGlwZWxpbmVCdWlsZFJlY29yZEJ5UGlwZWxpbmVJZCwKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIHBpcGVsaW5lSWQ6IHJvdy5pZAogICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgICBoYW5kbGVBZGRPckVkaXQocGlwZWxpbmU/OiBhbnkpIHsKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIC8vIERPTSDnjrDlnKjmm7TmlrDkuoYKICAgICAgICB0aGlzLiRyZWZzLmVkaXQub3BlbihwaXBlbGluZSkKICAgICAgICAvLyB0aGlzLiRldmVudEJ1cy4kZW1pdCgnY3JlYXRlT3JVcGRhdGVQaXBlbGluZScsIHBpcGVsaW5lKQogICAgICB9KQoKICAgIH0sCiAgICAvLyDliKDpmaTmtYHmsLTnur8KICAgIGhhbmRsZURlbGV0ZShyb3c/OiBhbnkpIHsKICAgICAgdGhpcy4kYWxlcnQoJ+ehruiupOWIoOmZpOa1geawtOe6vz8nLCAnJywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgIGNhbGxiYWNrOiAoYWN0aW9uOiBzdHJpbmcpID0+IHsKICAgICAgICAgIGlmIChhY3Rpb24gPT09ICdjb25maXJtJykgewogICAgICAgICAgICBjb3ZlcmFnZUFwaS5kZWxldGVQaXBlbGluZShyb3cuaWQpLnRoZW4oKCkgPT4gewogICAgICAgICAgICAgICAgdGhpcy5wb2xsaW5nRGF0YUxpc3QoKQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgKQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgICAvLyDloavlhpnlkIjlubbmiqXlkYppZAogICAgb3Blbk1lcmdlRGlhbG9nKHJvdz86IGFueSkgewogICAgICB0aGlzLmNvbXBhcmVGb3JtLmNvbXBhcmVCcmFuY2ggPSByb3cuY292ZXJhZ2VQYXJhbXMuY29tcGFyZUJyYW5jaAogICAgICB0aGlzLmNvbXBhcmVGb3JtVmlzaWJsZSA9IHRydWUKICAgICAgICB0aGlzLmNvbXBhcmVGb3JtLnJvdyA9IHJvdwogICAgfSwKICAgIC8vIOinpuWPkeimhueblueOh+aUtumbhgogICAgaGFuZGxlVHJpZ2dlckNvdmVyYWdlKCkgewogICAgICBjb25zdCBwYXJhbXMgPSB7CiAgICAgICAgcGlwZWxpbmVJZDogdGhpcy5jb21wYXJlRm9ybS5yb3cuaWQsCiAgICAgICAgcHJvamVjdEdpdDogdGhpcy5jb21wYXJlRm9ybS5yb3cuY292ZXJhZ2VQYXJhbXMucHJvamVjdEdpdCwKICAgICAgICBjb21wYXJlQnJhbmNoOiB0aGlzLmNvbXBhcmVGb3JtLmNvbXBhcmVCcmFuY2gKICAgICAgfQogICAgICBjb3ZlcmFnZUFwaS50cmlnZ2VyQ292ZXJhZ2VEZXBsb3kocGFyYW1zKQogICAgICB0aGlzLmNvbXBhcmVGb3JtVmlzaWJsZSA9IGZhbHNlCiAgICB9LAogICAgLy8g5aGr5YaZ5Y+R54mIY29tbWl0CiAgICBvcGVuQ29tbWl0RGlhbG9nKHJvdz86IGFueSkgewogICAgICB0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlID0gdHJ1ZQogICAgICB0aGlzLmNvbW1pdEZvcm0ucm93ID0gcm93CiAgICB9LAogICAgLy8g6Kem5Y+R5pyN5Yqh56uv5Y+R54mICiAgICBoYW5kbGVUcmlnZ2VyRGVwbG95U2VydmUoKSB7CiAgICAgIHRoaXMuJHJlZnNbJ2NvbW1pdEZvcm0nXS52YWxpZGF0ZSgodmFsaWQ/OiBib29sZWFuKSA9PiB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICBjb25zdCBwYXJhbXMgPSB7CiAgICAgICAgICAgIHByb2plY3ROYW1lOiB0aGlzLmNvbW1pdEZvcm0ucm93LnByb2plY3ROYW1lLAogICAgICAgICAgICBwaXBlbGluZUlkOiB0aGlzLmNvbW1pdEZvcm0ucm93LmlkLAogICAgICAgICAgICBjb21taXRJZDogdGhpcy5jb21taXRGb3JtLmNvbW1pdElkCiAgICAgICAgICB9CiAgICAgICAgICBjb3ZlcmFnZUFwaS50cmlnZ2VyU2VydmVyRGVwbG95KHBhcmFtcykuZmluYWxseSgoKSA9PiB0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlID0gZmFsc2UpCiAgICAgICAgICBjb3ZlcmFnZUFwaS50cmlnZ2VyU29uYXJCdWlsZChwYXJhbXMpCiAgICAgICAgfWVsc2UgewogICAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgICAgfQogICAgICB9KQogICAgfSwKICAgIC8vIOWhq+WGmXNvbmFyIGNvbW1pdAogICAgb3BlblNvbmFyRGlhbG9nKHJvdz86IGFueSkgewogICAgICB0aGlzLnNvbmFyRm9ybVZpc2libGUgPSB0cnVlCiAgICAgIHRoaXMuY29tbWl0Rm9ybS5yb3cgPSByb3cKICAgIH0sCiAgICAvL3RyaWdnZXJTb25hcgogICAgdHJpZ2dlclNvbmFyKCkgewogICAgICB0aGlzLiRyZWZzWydzb25hckZvcm0nXS52YWxpZGF0ZSgodmFsaWQ/OiBib29sZWFuKSA9PiB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICBjb25zdCBwYXJhbXMgPSB7CiAgICAgICAgICAgIGNvbW1pdElkOiB0aGlzLmNvbW1pdEZvcm0uY29tbWl0SWQsCiAgICAgICAgICAgIHBpcGVsaW5lSWQ6IHRoaXMuY29tbWl0Rm9ybS5yb3cuaWQsCiAgICAgICAgICB9CiAgICAgICAgICBjb3ZlcmFnZUFwaS50cmlnZ2VyU29uYXJCdWlsZChwYXJhbXMpLmZpbmFsbHkoKCkgPT50aGlzLnNvbmFyRm9ybVZpc2libGUgPSBmYWxzZSkKICAgICAgICB9ZWxzZSB7CiAgICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogICAgaGFuZGxlVG9CdWlsZENvbnNvbGUocm93PzogYW55LCBzdGVwPzogc3RyaW5nKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiBQYXRoTmFtZS5QaXBlbGluZUJ1aWxkQ29uc29sZSwKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIHBpcGVsaW5lSWQ6IHJvdy5pZCwKICAgICAgICAgIHN0ZXA6IHN0ZXAsCiAgICAgICAgfQogICAgICB9KQogICAgfSwKICAgIGhhbmRsZVRvU2VydmVyRGVwbG95SGlzdG9yeShyb3c/OiBhbnkpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6IFBhdGhOYW1lLlBpcGVsaW5lU2VydmVyQnVpbGRSZWNvcmRCeVBpcGVsaW5lSWQsCiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBwaXBlbGluZUlkOiByb3cuaWQKICAgICAgICB9CiAgICAgIH0pCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["PipeLine.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PipeLine.vue","sourceRoot":"src/pages/coverage","sourcesContent":["<template>\n  <el-card class=\"card-content\">\n    <template slot=\"header\">\n      <table-header :condition=\"condition\"\n                    create-tip=\"创建流水线\"\n                    @create=\"handleAddOrEdit\"\n                    @search=\"handlePollingDataList\"\n      >\n        <template slot=\"title\">\n          <div>覆盖率流水线</div>\n        </template>\n      </table-header>\n\n    </template>\n\n    <el-table :data=\"tableDatas\" size=\"medium\" v-loading=\"loading && noPolling\" @filter-change=\"filter\" ref=\"pipelineTable\">\n      <el-table-column label=\"名称\" prop=\"name\"/>\n      <el-table-column label=\"服务名\" prop=\"projectName\"/>\n      <el-table-column label=\"业务线\" prop=\"business\" :filters=\"businessOptions\" column-key=\"business\">\n        <template slot-scope=\"scope\"><span>{{ businessType[scope.row.business] }}</span></template>\n      </el-table-column>\n      <el-table-column label=\"技术端\" prop=\"terminal\" :filters=\"terminalOptions\" column-key=\"terminal\">\n        <template slot-scope=\"scope\"><span>{{ terminalType[scope.row.terminal] }}</span></template>\n      </el-table-column>\n      <el-table-column label=\"最近构建commitId\" prop=\"endCommit\"/>\n      <el-table-column label=\"流水线\">\n        <template slot-scope=\"scope\">\n          <div style=\"display: flex; align-items: center\">\n          <el-tooltip effect=\"dark\" placement=\"bottom\" class=\"tooltipSize\">\n            <div v-if=\"scope.row['deployStatus'] === 'fail'\" slot=\"content\" style=\"line-height: 20px\">\n              {{ scope.row['step1'] }} : {{ scope.row['deployStatus'] }} <br/>\n              失败原因: {{ scope.row['reason']['deploy'] }} <br/>\n            </div>\n            <div v-else slot=\"content\" style=\"line-height: 20px\">\n              {{ scope.row['step1'] }} : {{ scope.row['deployStatus'] }} <br/>\n            </div>\n            <el-popover v-model=\"scope.row.visible\"\n                        placement=\"bottom\"\n                        trigger=\"click\"\n                        width=\"160\"\n                        >\n\n                <a @click=\"handleToBuildConsole(scope.row, 'deploy')\">\n                  <i :class=\"pipelineIcon(scope.row['deployStatus'])\" style=\"font-size: 20px\"></i>\n                </a>\n                  <el-tooltip content=\"run/retry\" effect=\"dark\" placement=\"top\">\n                    <el-button :disabled=\"scope.row['deployStatus'] === 'running' || scope.row['coverageStatus'] === 'running'\" circle\n                               icon=\"el-icon-refresh\"\n                               style=\"float: right; height: 20px; width: 20px; padding: 2px\"\n                               @click=\"openCommitDialog(scope.row)\"></el-button>\n                  </el-tooltip>\n              <i slot=\"reference\" :class=\"pipelineIcon(scope.row['deployStatus'])\" v-if=\"Boolean(scope.row['step1'])\"></i>\n            </el-popover>\n          </el-tooltip>\n          <div style=\"height: 2px;background: #c0c4cc; width: 10px; position: center\" v-if=\"Boolean(scope.row['step1']) && Boolean(scope.row['step2'])\"/>\n          <el-tooltip effect=\"dark\" placement=\"bottom\" class=\"tooltipSize\">\n            <div v-if=\"scope.row['coverageStatus'] === 'fail'\" slot=\"content\" style=\"line-height: 20px\">\n              {{ scope.row['step2'] }} : {{ scope.row['coverageStatus'] }} <br/>\n              失败原因: + {{ scope.row['reason']['coverage'] }} <br/>\n            </div>\n            <div v-else slot=\"content\" style=\"line-height: 20px\">\n              {{ scope.row['step2'] }} : {{ scope.row['coverageStatus'] }} <br/>\n            </div>\n            <el-popover v-model=\"scope.row.visible2\"\n                        placement=\"bottom\"\n                        width=\"160\">\n              <a @click=\"handleToBuildConsole(scope.row, 'coverage')\">\n                <i :class=\"pipelineIcon(scope.row['coverageStatus'])\" style=\"font-size: 20px\"></i>\n              </a>\n                <el-tooltip content=\"run/retry\" effect=\"dark\" placement=\"top\">\n                  <el-button :disabled=\"scope.row['deployStatus'] === 'running' || scope.row['coverageStatus'] === 'running'\" circle\n                             icon=\"el-icon-refresh\"\n                             style=\"float: right; height: 20px; width: 20px; padding: 2px;\"\n                             @click=\"openMergeDialog(scope.row)\"></el-button>\n                </el-tooltip>\n              <i slot=\"reference\" :class=\"pipelineIcon(scope.row['coverageStatus'])\" v-if=\"Boolean(scope.row['step2'])\"></i>\n            </el-popover>\n          </el-tooltip>\n          </div>\n        </template>\n\n      </el-table-column>\n      <el-table-column prop=\"projectName\" label=\"代码检查结果\">\n        <template slot-scope=\"scope\">\n          <div v-if=\"scope.row.sonarStatus === 'running'\">\n            <i class=\"el-icon-loading\" style=\"font-size: 25px\"></i>\n          </div>\n          <div v-else-if=\"scope.row.sonarStatus === 'fail'\" style=\"color: red\">\n            sonar执行失败请重试\n          </div>\n          <div v-else>\n            <a :href=\"'http://sonar.jlgltech.com/dashboard?id='+scope.row.projectName\" target=\"_blank\">\n              {{scope.row.name}}</a>\n          </div>\n        </template>\n      </el-table-column>\n\n      <el-table-column label=\"操作\" :width=\"table5BtnWidth\">\n        <template slot-scope=\"scope\">\n          <table-operator\n            copy-tip=\"覆盖率构建记录\"\n            show-sonar\n            show-copy\n            show-delete\n            show-edit\n            show-run\n            runIcon=\"el-icon-more\"\n            run-tip=\"查看服务构建记录\"\n            :sonar-disable=\"scope.row.sonarStatus === 'running'\"\n            @copyClick=\"handleToBuildRecord(scope.row)\"\n            @deleteClick=\"handleDelete(scope.row)\"\n            @editClick=\"handleAddOrEdit(scope.row)\"\n            @runClick=\"handleToServerDeployHistory(scope.row)\"\n            @sonarClick=\"openSonarDialog(scope.row)\"\n          >\n          </table-operator>\n\n\n        </template>\n      </el-table-column>\n\n    </el-table>\n    <table-pagination\n      :change=\"pollingDataList\"\n      :current-page.sync=\"currentPage\"\n      :page-size.sync=\"pageSize\"\n      :total=\"total\"\n    />\n    <pipeline-edit ref=\"edit\" @fatherMethod=\"pollingDataList\"></pipeline-edit>\n    <el-dialog :visible.sync=\"dialogFormVisible\"\n               title=\"发版参数\"\n               width=\"50%\"\n               :close-on-click-modal=\"false\">\n      <el-form ref=\"commitForm\" :model=\"commitForm\" :rules=\"commitRules\">\n        <el-form-item label-width=\"160px\" label=\"branch or commitId\" prop=\"commitId\">\n          <el-input v-model=\"commitForm.commitId\" placeholder=\"请输入要构建的分支/commitId\"/>\n        </el-form-item>\n      </el-form>\n      <template slot=\"footer\">\n        <dialog-footer @cancel=\"dialogFormVisible = false\" @confirm=\"handleTriggerDeployServe\"/>\n      </template>\n    </el-dialog>\n    <el-dialog :visible.sync=\"sonarFormVisible\"\n               title=\"sonar参数\"\n               width=\"50%\"\n               :close-on-click-modal=\"false\">\n      <el-form ref=\"sonarForm\" :model=\"commitForm\" :rules=\"commitRules\">\n        <el-form-item label-width=\"160px\" label=\"branch or commitId\" prop=\"commitId\">\n          <el-input v-model=\"commitForm.commitId\" placeholder=\"请输入要构建的分支/commitId\"/>\n        </el-form-item>\n      </el-form>\n      <template slot=\"footer\">\n        <dialog-footer @cancel=\"sonarFormVisible = false\" @confirm=\"triggerSonar\"/>\n      </template>\n    </el-dialog>\n    <el-dialog :visible.sync=\"compareFormVisible\" title=\"增量覆盖率参数\" width=\"50%\" :close-on-click-modal=\"false\">\n      <el-form ref=\"mergeForm\" :model=\"compareForm\">\n        <el-form-item label-width=\"80px\" label=\"对比分支\" prop=\"compareBranch\">\n          <el-input v-model=\"compareForm.compareBranch\" placeholder=\"请输入对比分支，不输入默认origin/master\"/>\n        </el-form-item>\n      </el-form>\n      <template slot=\"footer\">\n        <dialog-footer @cancel=\"compareFormVisible = false\" @confirm=\"handleTriggerCoverage\"/>\n      </template>\n\n    </el-dialog>\n\n  </el-card>\n\n</template>\n\n<script lang=\"ts\">\nimport {coverageApi} from \"@/api\"\nimport variables from \"@/assets/css/utils.scss\"\nimport DialogFooter from '@/common/components/DialogFooter.vue'\nimport TablePagination from \"@/common/components/pagination/TablePagination.vue\"\nimport TableHeader from \"@/common/components/TableHeader.vue\"\nimport TableOperator from \"@/common/components/TableOperator.vue\"\nimport {PAGINATION_SIZE} from \"@/constant\"\nimport {PathName} from \"@/constant/routeData\"\nimport PipelineEdit from \"@/pages/coverage/components/PipelineEdit.vue\"\nimport {businessType, terminalType} from \"@/constant/Coverage\";\nimport {_filter} from \"@/common/utils\"\n// 业务线\nconst businessOptions = Object.entries(businessType).map(([value, text]) => {\n  return {text: text, value: value}\n})\n// 端\nconst terminalOptions = Object.entries(terminalType).map(([value, text]) => {\n  return {text: text, value: value}\n})\n\nexport default {\n  name: \"PipeLine\",\n  components: {TableHeader, TablePagination, TableOperator, PipelineEdit, DialogFooter},\n  props: {},\n  data() {\n    return {\n      businessType: businessType,\n      terminalType: terminalType,\n      terminalOptions: terminalOptions,\n      businessOptions: businessOptions,\n      noPolling: true,\n      sonarFormVisible: false,\n      dialogFormVisible: false,\n      compareFormVisible: false,\n      condition: {},\n      total: 0,\n      pageSize: PAGINATION_SIZE.LARGE,\n      currentPage: 1,\n      searchName: '',\n      tableDatas: [],\n      commitForm: {\n        commitId: '',\n      },\n      compareForm: {\n        compareBranch: ''\n      },\n      commitRules: {commitId: [{required: true, message: '请输入commitId', trigger: 'blur'}]},\n      pipelineFilters: {}\n    }\n  },\n  computed: {\n    loading() {\n      return this.$store.state.loading\n    },\n    table5BtnWidth() {\n      return variables['table5BtnWidth']\n    },\n  },\n\n  destroyed() {\n    clearInterval(this.myInterval)\n  },\n  mounted() {\n    this.pollingDataList()\n  },\n  methods: {\n    filter(filters: any) {\n      this.noPolling = true\n      this.currentPage = 1\n      _filter(filters, this.pipelineFilters, this.$route.path)\n      this.pollingDataList()\n    },\n    pipelineIcon(status?: string) {\n      if (status === 'success') {\n        return 'el-icon-circle-check iconSize success'\n      } else if (status === 'pending') {\n        return 'el-icon-video-pause iconSize pending'\n      } else if (status === 'running') {\n        return 'el-icon-loading iconSize running'\n      } else if (status === 'fail') {\n        return 'el-icon-circle-close iconSize fail'\n      } else if (status === 'skip') {\n        return 'el-icon-warning-outline iconSize skip'\n      }\n    },\n    getPipelineList(value?: string) {\n      const params = {\n        limit: this.pageSize,\n        offset: this.pageSize * (this.currentPage - 1),\n        name: value\n      }\n      this.pipelineFilters = sessionStorage.getItem(this.$route.path) || \"{}\"\n      this.pipelineFilters = JSON.parse(this.pipelineFilters)\n      // console.log('params', typeof this.pipelineFilters)\n      Object.assign(params, this.pipelineFilters)\n      this.$refs.pipelineTable.columns.forEach((item: any) => {\n        item.filteredValue = this.pipelineFilters[item.columnKey]\n      })\n      coverageApi.getPipelineList(params).then(res => {\n        this.tableDatas = res.data.data\n        this.tableDatas.forEach(function (item: any) {\n          item.visible = false\n          item.visible2 = false\n        })\n        this.total = res.data.total\n        this.noPolling = true\n      })\n    },\n    pollingDataList(value?: string) {\n      this.getPipelineList(value)\n      clearInterval(this.myInterval)\n      this.myInterval = window.setInterval(() => {\n        setTimeout(() => {\n          this.noPolling = false\n          this.getPipelineList(value)\n        }, 1)\n      }, 10000)\n    },\n    handlePollingDataList(value?: string) {\n      this.currentPage = 1\n      this.pollingDataList(value)\n    },\n    handleToBuildRecord(row?: any) {\n      this.$router.push({\n        name: PathName.PipelineBuildRecordByPipelineId,\n        params: {\n          pipelineId: row.id\n        }\n      })\n    },\n    handleAddOrEdit(pipeline?: any) {\n      this.$nextTick(function () {\n        // DOM 现在更新了\n        this.$refs.edit.open(pipeline)\n        // this.$eventBus.$emit('createOrUpdatePipeline', pipeline)\n      })\n\n    },\n    // 删除流水线\n    handleDelete(row?: any) {\n      this.$alert('确认删除流水线?', '', {\n        confirmButtonText: '确定',\n        showCancelButton: true,\n        cancelButtonText: '取消',\n        callback: (action: string) => {\n          if (action === 'confirm') {\n            coverageApi.deletePipeline(row.id).then(() => {\n                this.pollingDataList()\n              }\n            )\n          }\n        }\n      })\n    },\n    // 填写合并报告id\n    openMergeDialog(row?: any) {\n      this.compareForm.compareBranch = row.coverageParams.compareBranch\n      this.compareFormVisible = true\n        this.compareForm.row = row\n    },\n    // 触发覆盖率收集\n    handleTriggerCoverage() {\n      const params = {\n        pipelineId: this.compareForm.row.id,\n        projectGit: this.compareForm.row.coverageParams.projectGit,\n        compareBranch: this.compareForm.compareBranch\n      }\n      coverageApi.triggerCoverageDeploy(params)\n      this.compareFormVisible = false\n    },\n    // 填写发版commit\n    openCommitDialog(row?: any) {\n      this.dialogFormVisible = true\n      this.commitForm.row = row\n    },\n    // 触发服务端发版\n    handleTriggerDeployServe() {\n      this.$refs['commitForm'].validate((valid?: boolean) => {\n        if (valid) {\n          const params = {\n            projectName: this.commitForm.row.projectName,\n            pipelineId: this.commitForm.row.id,\n            commitId: this.commitForm.commitId\n          }\n          coverageApi.triggerServerDeploy(params).finally(() => this.dialogFormVisible = false)\n          coverageApi.triggerSonarBuild(params)\n        }else {\n          return false\n        }\n      })\n    },\n    // 填写sonar commit\n    openSonarDialog(row?: any) {\n      this.sonarFormVisible = true\n      this.commitForm.row = row\n    },\n    //triggerSonar\n    triggerSonar() {\n      this.$refs['sonarForm'].validate((valid?: boolean) => {\n        if (valid) {\n          const params = {\n            commitId: this.commitForm.commitId,\n            pipelineId: this.commitForm.row.id,\n          }\n          coverageApi.triggerSonarBuild(params).finally(() =>this.sonarFormVisible = false)\n        }else {\n          return false\n        }\n      })\n    },\n    handleToBuildConsole(row?: any, step?: string) {\n      this.$router.push({\n        name: PathName.PipelineBuildConsole,\n        params: {\n          pipelineId: row.id,\n          step: step,\n        }\n      })\n    },\n    handleToServerDeployHistory(row?: any) {\n      this.$router.push({\n        name: PathName.PipelineServerBuildRecordByPipelineId,\n        params: {\n          pipelineId: row.id\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n.iconSize {\n  font-size: 24px;\n  border-radius: 12px;\n}\n\n.tooltipSize {\n  width: 24px;\n  height: 24px;\n}\n\n.success {\n  color: #1aaa55;\n}\n\ni.success:hover {\n  background-color: #dcf5e7;\n}\n\n.fail {\n  color: #db3b21;\n  font-size: 24px;\n  border-radius: 12px;\n}\n\ni.fail:hover {\n  background-color: #f8e2dd;\n}\n\n.pending {\n  color: #a7a7a7;\n  font-size: 24px;\n  border-radius: 12px;\n}\n\ni.pending:hover {\n  background-color: #f4f4f5;\n}\n\n.skip {\n  color: #2e2e2e;\n  font-size: 24px;\n  border-radius: 12px;\n}\n\n.running {\n  color: #1f78d1;\n  font-size: 24px;\n  border-radius: 12px;\n}\n\ni.running:hover {\n  background-color: #ecf5ff;\n}\n\n.line {\n  position: absolute;\n  display: inline-block;\n  width: 50px;\n  height: 2px;\n  top: 11px;\n  left: 0;\n  right: 0;\n}\n\n</style>\n"]}]}