(function(e){function t(t){for(var n,i,s=t[0],l=t[1],c=t[2],d=0,p=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&p.push(r[i][0]),r[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);u&&u(t);while(p.length)p.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],n=!0,s=1;s<a.length;s++){var l=a[s];0!==r[l]&&(n=!1)}n&&(o.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},r={app:0},o=[];function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("cd49")},"0095":function(e,t,a){"use strict";a("e5a8")},"00e0":function(e,t,a){"use strict";var n,r,o,i,s,l,c,u,d,p,f,m,h=a("9523").default;Object.defineProperty(t,"__esModule",{value:!0}),t.planInstanceStatusType=t.planInstanceStatusEnum=t.caseBatchEditType=t.caseBatchEditEnum=t.planStatusType=t.planStatusEnum=t.planOperationEnum=t.planReportType=t.planReportEnum=t.planStageType=t.planStageEnum=t.planResultType=t.planResultEnum=void 0,function(e){e["INIT"]="init",e["PASS"]="pass",e["FAIL"]="fail",e["BLOCK"]="block",e["SKIP"]="skip"}(c=t.planResultEnum||(t.planResultEnum={})),t.planResultType=(n={},h(n,c.INIT,"未开始"),h(n,c.PASS,"成功"),h(n,c.FAIL,"失败"),h(n,c.BLOCK,"阻塞"),h(n,c.SKIP,"跳过"),n),function(e){e["SMOKE"]="smoke",e["REGRESSION"]="regression",e["SYSTEM"]="system"}(u=t.planStageEnum||(t.planStageEnum={})),t.planStageType=(r={},h(r,u.SMOKE,"冒烟测试"),h(r,u.REGRESSION,"回归测试"),h(r,u.SYSTEM,"功能测试"),r),function(e){e[e["BASE_INFO"]=1]="BASE_INFO",e[e["MODULE_EXECUTE_RESULT"]=2]="MODULE_EXECUTE_RESULT",e[e["EXECUTE_RESULT"]=3]="EXECUTE_RESULT",e[e["BUG_LEVEL_CHARTS"]=4]="BUG_LEVEL_CHARTS",e[e["BUG_OWNER_CHARTS"]=5]="BUG_OWNER_CHARTS",e[e["TICKETS"]=6]="TICKETS",e[e["ISSUES"]=7]="ISSUES"}(d=t.planReportEnum||(t.planReportEnum={})),t.planReportType=(o={},h(o,d.BASE_INFO,"冒烟测试"),h(o,d.MODULE_EXECUTE_RESULT,"回归测试"),h(o,d.EXECUTE_RESULT,"功能测试"),h(o,d.BUG_LEVEL_CHARTS,"功能测试"),h(o,d.BUG_OWNER_CHARTS,"功能测试"),h(o,d.TICKETS,"功能测试"),h(o,d.ISSUES,"功能测试"),o),function(e){e["ADD"]="add",e["REMOVE"]="remove"}(t.planOperationEnum||(t.planOperationEnum={})),function(e){e["INIT"]="init",e["IN_PROGRESS"]="in_progress",e["DONE"]="done",e["REJECT"]="reject"}(p=t.planStatusEnum||(t.planStatusEnum={})),t.planStatusType=(i={},h(i,p.INIT,"未开始"),h(i,p.IN_PROGRESS,"进行中"),h(i,p.DONE,"已完成"),h(i,p.REJECT,"驳回"),i),function(e){e["RESULT"]="result",e["EXECUTOR"]="executor"}(f=t.caseBatchEditEnum||(t.caseBatchEditEnum={})),t.caseBatchEditType=(s={},h(s,f.RESULT,"执行结果"),h(s,f.EXECUTOR,"执行人"),s),function(e){e["INIT"]="INIT",e["PENDING"]="PENDING",e["APPROVED"]="APPROVED",e["REJECTED"]="REJECTED",e["CANCELED"]="CANCELED"}(m=t.planInstanceStatusEnum||(t.planInstanceStatusEnum={})),t.planInstanceStatusType=(l={},h(l,m.INIT,"未提交"),h(l,m.PENDING,"进行中"),h(l,m.APPROVED,"已通过"),h(l,m.REJECTED,"已拒绝"),h(l,m.CANCELED,"已撤回"),l)},"00eb":function(e,t,a){},"021f":function(e,t,a){"use strict";a.r(t);var n=a("aef2"),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=r.a},"0342":function(e,t,a){"use strict";a.r(t);var n=a("a7eb"),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=r.a},"034a":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{staticClass:"dialog-title",attrs:{visible:e.dialogVisible,title:"导入测试用例"},on:{"update:visible":function(t){e.dialogVisible=t},close:e.close}},[n("el-tabs",{attrs:{simple:""},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[n("el-tab-pane",{staticStyle:{border:"0"},attrs:{label:"思维导图",name:"xmindImport"}},[n("el-row",{staticClass:"import-row"},[n("div",{staticClass:"el-step__icon is-text step-icon"},[n("div",{staticClass:"el-step__icon-inner"},[e._v("1")])]),n("label",{staticClass:"ms-license-label"},[e._v("导入说明")])]),n("el-row",{staticClass:"import-row"},[n("el-card",{attrs:{"body-style":{padding:"0px"}}},[n("img",{staticClass:"testcase-import-img",attrs:{alt:"",src:a("57e5")}})])],1),n("el-row",{staticClass:"import-row"},[n("div",{staticClass:"el-step__icon is-text step-icon"},[n("div",{staticClass:"el-step__icon-inner"},[e._v("2")])]),n("label",{staticClass:"ms-license-label"},[e._v("上传文件")])]),n("el-row",{staticClass:"import-row"},[n("el-upload",{staticStyle:{"margin-right":"10px"},attrs:{"before-upload":e.handleBeforeUpload,"http-request":e.handleUpload,"show-file-list":!1,action:"."},scopedSlots:e._u([{key:"trigger",fn:function(){return[n("el-button",{attrs:{plain:"",size:"mini",type:"success"}},[e._v("点击上传")])]},proxy:!0},{key:"tip",fn:function(){return[n("div",{staticClass:"el-upload__tip"},[e._v("支持文件类型：.xmind；")])]},proxy:!0}])})],1)],1)],1)],1)},r=[]},"034f":function(e,t,a){"use strict";a("08a0")},"03d65":function(e,t,a){"use strict";a("dc28")},"0528":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",[e._t("front"),e.showSonar?a("el-tooltip",{attrs:{content:e.sonarTip,placement:"top"}},[a("el-button",{attrs:{disabled:e.sonarDisable||e.readOnly,icon:e.sonarIcon,circle:"",size:"mini",type:"info"},nativeOn:{click:function(t){return t.stopPropagation(),e.sonarClick(t)}}})],1):e._e(),e._t("middle"),e.showEdit?a("el-tooltip",{attrs:{content:e.editTip,placement:"top"}},[a("el-button",{attrs:{disabled:e.editDisable||e.readOnly,icon:e.editIcon,circle:"",size:"mini",type:"primary"},nativeOn:{click:function(t){return t.stopPropagation(),e.editClick(t)}}})],1):e._e(),e._t("middle"),e.showCopy?a("el-tooltip",{attrs:{content:e.copyTip,placement:"top"}},[a("el-button",{attrs:{disabled:e.copyDisable||e.readOnly,icon:e.copyIcon,circle:"",size:"mini",type:"success"},nativeOn:{click:function(t){return t.stopPropagation(),e.copyClick(t)}}})],1):e._e(),e._t("behind"),e.showRun?a("el-tooltip",{attrs:{content:e.runTip,placement:"top"}},[a("el-button",{attrs:{disabled:e.runDisable||e.readOnly,icon:e.runIcon,circle:"",size:"mini",type:"warning"},nativeOn:{click:function(t){return t.stopPropagation(),e.runClick(t)}}})],1):e._e(),e._t("last"),e.showDelete?a("el-tooltip",{attrs:{content:e.deleteTip,placement:"top"}},[a("el-button",{attrs:{disabled:e.deleteDisable||e.readOnly,icon:e.deleteIcon,circle:"",size:"mini",type:"danger"},nativeOn:{click:function(t){return t.stopPropagation(),e.deleteClick(t)}}})],1):e._e(),e.showReport?a("el-tooltip",{attrs:{content:e.reportTip,placement:"right"}},[a("el-button",{attrs:{disabled:e.reportDisable||e.readOnly,icon:e.reportIcon,circle:"",size:"mini",type:"success"},nativeOn:{click:function(t){return t.stopPropagation(),e.reportClick(t)}}})],1):e._e(),e._t("latest")],2)},r=[]},"05a0":function(e,t,a){},"0603":function(e,t,a){},"06cd":function(e,t,a){"use strict";a.r(t);var n=a("86eb"),r=a("f057");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);a("f37b");var i=a("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,"fdf47136",null);t["default"]=s.exports},"071c":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-tabs",{model:{value:e.activePannel,callback:function(t){e.activePannel=t},expression:"activePannel"}},[a("el-tab-pane",{attrs:{label:"一键完课",name:"lessonProgress"}},[a("lesson-progress")],1)],1)},r=[],o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",[a("div",[a("el-form",{ref:"lessonForm",staticStyle:{width:"100%",margin:"20px auto"},attrs:{rules:e.lessonRules,model:e.lessonForm,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"课程ID:",prop:"lessonId"}},[a("el-input",{staticStyle:{width:"50%"},attrs:{placeholder:"请输入lessonId"},model:{value:e.lessonForm.lessonId,callback:function(t){e.$set(e.lessonForm,"lessonId",t)},expression:"lessonForm.lessonId"}})],1),a("el-form-item",{attrs:{label:"宝贝ID:",prop:"bid"}},[a("el-input",{staticStyle:{width:"50%"},attrs:{placeholder:"请输入bid"},model:{value:e.lessonForm.bid,callback:function(t){e.$set(e.lessonForm,"bid",t)},expression:"lessonForm.bid"}})],1),a("el-form-item",{attrs:{label:"首次完课:",prop:"isFirst"}},[a("el-select",{model:{value:e.lessonForm.isFirst,callback:function(t){e.$set(e.lessonForm,"isFirst",t)},expression:"lessonForm.isFirst"}},e._l(e.options,(function(e){return a("el-option",{key:e.label,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"完成时间:",prop:"finishTime"}},[a("el-date-picker",{attrs:{type:"datetime","value-format":"timestamp",placeholder:"选择日期"},model:{value:e.lessonForm.finishTime,callback:function(t){e.$set(e.lessonForm,"finishTime",t)},expression:"lessonForm.finishTime"}})],1),a("el-form-item",{staticStyle:{"margin-top":"30px"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.lessonSubmit("lessonForm")}}},[e._v("完课")]),a("el-button",{on:{click:function(t){return e.resetForm("lessonForm")}}},[e._v("重置")])],1)],1)],1),a("div",{staticStyle:{"margin-top":"50px","margin-left":"28px"}},[a("span",{staticStyle:{"font-size":"14px",float:"left",color:"#606266"}},[e._v("响应数据：")]),a("el-input",{staticStyle:{"margin-top":"10px"},attrs:{type:"textarea",rows:15},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}})],1)])},i=[],s=a("365c"),l={name:"lessonProgress",data:function(){return{lessonForm:{lessonId:"",bid:"",isFirst:"",finishTime:""},lessonRules:{lessonId:[{required:!0,message:"请输入课程Id",trigger:"blur"}],bid:[{required:!0,message:"请输入宝贝id",trigger:"blur"}],isFirst:[{required:!0,message:"请输入是否首次完课",trigger:"blur"}],finishTime:[{required:!0,message:"请输入完课时间",trigger:"blur"}]},result:"",options:[{label:"是",value:1},{label:"否",value:0}]}},methods:{lessonSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;console.log(t.lessonForm);var a=_.cloneDeep(t.lessonForm);s["dataToolApi"].lessonProgress(a).then((function(e){t.result=e.data}))}))},resetForm:function(e){this.$refs[e].resetFields()}}},c=l,u=a("2877"),d=Object(u["a"])(c,o,i,!1,null,"9effd0e8",null),p=d.exports,f={name:"lessonConfig",components:{LessonProgress:p},data:function(){return{activePannel:"lessonProgress"}}},m=f,h=Object(u["a"])(m,n,r,!1,null,"50266442",null);t["default"]=h.exports},"072e":function(e,t,a){"use strict";a.r(t);var n=a("958d"),r=a("3041");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);var i=a("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,"212073b7",null);t["default"]=s.exports},"08a0":function(e,t,a){},"08f2":function(e,t,a){"use strict";a.r(t);var n=a("8507"),r=a("d741");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);var i=a("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,"2986a2cc",null);t["default"]=s.exports},"09cb":function(e,t,a){},"0a69":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"TableSearchComponent",props:["component"],data:function(){return{operators:this.component.operator.options||[]}},methods:{change:function(e){this.component.operator.change&&this.component.operator.change(this.component,e),this.$emit("change",e)},input:function(e){this.$emit("input",e)}},computed:{showContent:function(){return!this.component.isShow||this.component.isShow(this.component.operator.value)}}}},"0a8f":function(e,t,a){"use strict";var n=a("3e0a"),r=a("f232"),o=(a("db52"),a("2877")),i=Object(o["a"])(r["default"],n["a"],n["b"],!1,null,"916559b8",null);t["default"]=i.exports},"0a94":function(e,t,a){},"0ad2":function(e,t,a){"use strict";a.r(t);var n=a("d9d3"),r=a("7f54");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);var i=a("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,"e64ecd28",null);t["default"]=s.exports},"0b51":function(e,t,a){},"0c43":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{staticClass:"card-content"},[a("template",{slot:"header"},[a("table-header",{attrs:{condition:e.condition,"create-tip":"apollo通知配置-国内",placeholder:"根据项目名称搜索"},on:{create:e.openEdit,search:e.handleSearch}},[a("template",{slot:"title"},[a("div",[e._v("apollo通知配置-国内")])])],2)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"table",attrs:{data:e.tableData}},[a("el-table-column",{attrs:{label:"应用",prop:"appId"}}),a("el-table-column",{attrs:{label:"群聊",prop:"chatName"}}),a("el-table-column",{attrs:{width:e.table2BtnWidth,label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("table-operator",{attrs:{"show-delete":"","show-edit":""},on:{deleteClick:function(a){return e.handledelete(t.row)},editClick:function(a){return e.openEdit(t.row)}}})]}}])})],1),a("table-pagination",{attrs:{change:e.getTableData,"current-page":e.currentPage,"page-size":e.pageSize,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t}}})],2),a("el-dialog",{staticClass:"dialog-title",attrs:{"close-on-click-modal":!1,visible:e.dialogFormVisible,width:"65%"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("template",{slot:"title"},[a("div",{staticStyle:{"text-align":"left"}},[a("span",[e._v(e._s(e.operation===e.operationEnum.EDIT?"编辑apollo通知配置":"创建apollo通知配置"))])]),a("el-divider",{staticStyle:{width:"100%"}})],1),a("el-form",{ref:"apolloNotifyForm",attrs:{model:e.appChatForm,rules:e.appChatRules,"label-width":e.formLabelWidth}},[a("el-row",[a("el-col",{attrs:{offset:1,span:10}},[a("el-form-item",{attrs:{label:"应用",prop:"appId"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"请选择应用"},model:{value:e.appChatForm.appId,callback:function(t){e.$set(e.appChatForm,"appId",t)},expression:"appChatForm.appId"}},e._l(e.appOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.appId,value:e.appId}})})),1)],1)],1),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"推送群聊",prop:"chatId"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"请选择需要通知的群"},model:{value:e.appChatForm.chatId,callback:function(t){e.$set(e.appChatForm,"chatId",t)},expression:"appChatForm.chatId"}},e._l(e.chatOptions,(function(e){return a("el-option",{key:e.chatId,attrs:{label:e.name,value:e.chatId}})})),1)],1)],1)],1)],1),a("template",{slot:"footer"},[a("dialog-footer",{on:{cancel:function(t){e.dialogFormVisible=!1},confirm:e.saveConfig}})],1)],2)],1)},r=[],o=(a("d3b7"),a("e73b")),i=a.n(o),s=a("365c"),l=a("2ef0"),c=a("ba07"),u=a("df34"),d=a("6d22"),p=a("5ec0"),f=a("4314"),m=a("93f3"),h={name:"apolloNotify",components:{TableOperator:c["default"],TableHeader:u["default"],TablePagination:d["default"],DialogFooter:p["default"]},data:function(){return{operationEnum:f["operationEnum"],dialogFormVisible:!1,condition:{},operation:"",tableData:[],currentPage:1,pageSize:m["PAGINATION_SIZE"].LARGE,total:0,appOptions:[],appChatForm:{appId:"",chatId:""},appChatRules:{appId:[{required:!0,message:"请选择应用",trigger:"blur"}],chatId:[{required:!0,message:"请选择通知群聊",trigger:"blur"}]}}},computed:{formLabelWidth:function(){return i.a["formLabelWidth"]},loading:function(){return this.$store.state.loading},chatOptions:function(){return this.$store.state.coverage.larkChats},table2BtnWidth:function(){return i.a["table2BtnWidth"]}},mounted:function(){this.getAllApps(),this.getTableData()},methods:{getAllApps:function(){var e=this;s["dataToolApi"].getApolloApps().then((function(t){e.appOptions=t.data}))},openEdit:function(e){this.dialogFormVisible=!0,this.operation=f["operationEnum"].ADD,this.appChatForm={appId:"",chatId:""},e&&(this.operation=f["operationEnum"].EDIT,this.appChatForm=Object(l["cloneDeep"])(e))},getTableData:function(e){var t=this,a={offset:this.pageSize*(this.currentPage-1),limit:this.pageSize,search:e||""};s["dataToolApi"].getApolloAppChat(a).then((function(e){t.tableData=e.data.data,t.total=e.data.total}))},saveConfig:function(){var e=this;this.operation===f["operationEnum"].ADD?s["dataToolApi"].createApolloAppChat(this.appChatForm).finally((function(){e.dialogFormVisible=!1,e.getTableData()})):s["dataToolApi"].updateApolloAppChat(this.appChatForm,this.appChatForm["id"]).finally((function(){e.dialogFormVisible=!1,e.getTableData()}))},handledelete:function(e){var t=this;this.$alert("确认删除该配置?","",{confirmButtonText:"确定",showCancelButton:!0,cancelButtonText:"取消",callback:function(a){"confirm"===a&&s["dataToolApi"].deleteApolloAppChat(e.id).then((function(){t.getTableData()}))}})},handleSearch:function(e){this.currentPage=1,this.getTableData(e)}}},b=h,g=a("2877"),v=Object(g["a"])(b,n,r,!1,null,"15d78b25",null);t["default"]=v.exports},"0c70":function(e,t,a){"use strict";a("4de4"),a("b0c0");var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=a("365c"),o=a("7a93"),i=a("b889"),s=n(a("7dc1"));t.default={name:"NodeTree",components:{NodeEdit:s.default},data:function(){return{operationEnum:i.operationEnum,expandedNode:[],filterText:""}},props:{treeNodes:Array,currentNode:Object,currentProject:Object,type:{type:String,default:i.operationEnum.VIEW},draggable:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1}},watch:{filterText:function(e){this.$refs.tree.filter(e)},treeNodes:function(){var e=this;this.currentNode.id&&this.$nextTick((function(){e.handleNodeSelect(e.$refs.tree.getNode(e.currentNode.id),e.currentNode)}))}},methods:{remove:function(e){var t=this;this.$alert("确认删除模块: ".concat(e.name,"，以及模块下所有子模块和测试用例，评审及测试计划关联的用例？"),"",{confirmButtonText:"确定",showCancelButton:!0,cancelButtonText:"取消",callback:function(a){"confirm"===a&&r.testCaseApi.deleteTestCaseModules(e.id).then((function(){t.$emit("refreshNode"),t.$emit("update:currentNode",{}),t.$router.push({name:o.PathName.TestTrackTestcaseProject,params:{projectId:t.currentProject.id}})}))}})},handleNodeSelect:function(e,t){if(e){var a=[];this.getParentNodes(e,a),this.expandedNode.push(t.id),this.$refs.tree.setCurrentKey(t.id),this.$emit("nodeSelectEvent",t,a,e)}},getParentNodes:function(e,t){e.level&&1!==e.level&&this.getParentNodes(e.parent,t),e.data&&""!==e.data.id&&t.push(e.data)},filterNode:function(e,t){return!e||-1!==t.name.indexOf(e)},openEditNodeDialog:function(e,t){this.$refs.nodeEdit.open(e,t)},refreshNode:function(){this.$emit("refreshNode"),this.$emit("refreshTable")}}}},"0cc0":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{staticClass:"card-content"},[a("template",{slot:"header"},[a("table-header",{attrs:{condition:e.condition,"create-tip":"创建流水线"},on:{create:e.handleAddOrEdit,search:e.handlePollingDataList}},[a("template",{slot:"title"},[a("div",[e._v("覆盖率流水线")])])],2)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading&&e.noPolling,expression:"loading && noPolling"}],ref:"pipelineTable",attrs:{data:e.tableDatas,size:"medium"},on:{"filter-change":e.filter}},[a("el-table-column",{attrs:{label:"名称",prop:"name"}}),a("el-table-column",{attrs:{label:"服务名",prop:"projectName"}}),a("el-table-column",{attrs:{label:"业务线",prop:"business",filters:e.businessOptions,"column-key":"business"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.businessType[t.row.business]))])]}}])}),a("el-table-column",{attrs:{label:"技术端",prop:"terminal",filters:e.terminalOptions,"column-key":"terminal"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.terminalType[t.row.terminal]))])]}}])}),a("el-table-column",{attrs:{label:"最近构建commitId",prop:"endCommit"}}),a("el-table-column",{attrs:{label:"流水线"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticStyle:{display:"flex","align-items":"center"}},[a("el-tooltip",{staticClass:"tooltipSize",attrs:{effect:"dark",placement:"bottom"}},["fail"===t.row["deployStatus"]?a("div",{staticStyle:{"line-height":"20px"},attrs:{slot:"content"},slot:"content"},[e._v(" "+e._s(t.row["step1"])+" : "+e._s(t.row["deployStatus"])+" "),a("br"),e._v(" 失败原因: "+e._s(t.row["reason"]["deploy"])+" "),a("br")]):a("div",{staticStyle:{"line-height":"20px"},attrs:{slot:"content"},slot:"content"},[e._v(" "+e._s(t.row["step1"])+" : "+e._s(t.row["deployStatus"])+" "),a("br")]),a("el-popover",{attrs:{placement:"bottom",trigger:"click",width:"160"},model:{value:t.row.visible,callback:function(a){e.$set(t.row,"visible",a)},expression:"scope.row.visible"}},[a("a",{on:{click:function(a){return e.handleToBuildConsole(t.row,"deploy")}}},[a("i",{class:e.pipelineIcon(t.row["deployStatus"]),staticStyle:{"font-size":"20px"}})]),a("el-tooltip",{attrs:{content:"run/retry",effect:"dark",placement:"top"}},[a("el-button",{staticStyle:{float:"right",height:"20px",width:"20px",padding:"2px"},attrs:{disabled:"running"===t.row["deployStatus"]||"running"===t.row["coverageStatus"],circle:"",icon:"el-icon-refresh"},on:{click:function(a){return e.openCommitDialog(t.row)}}})],1),Boolean(t.row["step1"])?a("i",{class:e.pipelineIcon(t.row["deployStatus"]),attrs:{slot:"reference"},slot:"reference"}):e._e()],1)],1),Boolean(t.row["step1"])&&Boolean(t.row["step2"])?a("div",{staticStyle:{height:"2px",background:"#c0c4cc",width:"10px",position:"center"}}):e._e(),a("el-tooltip",{staticClass:"tooltipSize",attrs:{effect:"dark",placement:"bottom"}},["fail"===t.row["coverageStatus"]?a("div",{staticStyle:{"line-height":"20px"},attrs:{slot:"content"},slot:"content"},[e._v(" "+e._s(t.row["step2"])+" : "+e._s(t.row["coverageStatus"])+" "),a("br"),e._v(" 失败原因: + "+e._s(t.row["reason"]["coverage"])+" "),a("br")]):a("div",{staticStyle:{"line-height":"20px"},attrs:{slot:"content"},slot:"content"},[e._v(" "+e._s(t.row["step2"])+" : "+e._s(t.row["coverageStatus"])+" "),a("br")]),a("el-popover",{attrs:{placement:"bottom",width:"160"},model:{value:t.row.visible2,callback:function(a){e.$set(t.row,"visible2",a)},expression:"scope.row.visible2"}},[a("a",{on:{click:function(a){return e.handleToBuildConsole(t.row,"coverage")}}},[a("i",{class:e.pipelineIcon(t.row["coverageStatus"]),staticStyle:{"font-size":"20px"}})]),a("el-tooltip",{attrs:{content:"run/retry",effect:"dark",placement:"top"}},[a("el-button",{staticStyle:{float:"right",height:"20px",width:"20px",padding:"2px"},attrs:{disabled:"running"===t.row["deployStatus"]||"running"===t.row["coverageStatus"],circle:"",icon:"el-icon-refresh"},on:{click:function(a){return e.openMergeDialog(t.row)}}})],1),Boolean(t.row["step2"])?a("i",{class:e.pipelineIcon(t.row["coverageStatus"]),attrs:{slot:"reference"},slot:"reference"}):e._e()],1)],1)],1)]}}])}),a("el-table-column",{attrs:{prop:"projectName",label:"代码检查结果"},scopedSlots:e._u([{key:"default",fn:function(t){return["running"===t.row.sonarStatus?a("div",[a("i",{staticClass:"el-icon-loading",staticStyle:{"font-size":"25px"}})]):"fail"===t.row.sonarStatus?a("div",{staticStyle:{color:"red"}},[e._v(" sonar执行失败请重试 ")]):a("div",[a("a",{attrs:{href:"http://sonar.jlgltech.com/dashboard?id="+t.row.projectName,target:"_blank"}},[e._v(" "+e._s(t.row.name))])])]}}])}),a("el-table-column",{attrs:{label:"操作",width:e.table5BtnWidth},scopedSlots:e._u([{key:"default",fn:function(t){return[a("table-operator",{attrs:{"copy-tip":"覆盖率构建记录","show-sonar":"","show-copy":"","show-delete":"","show-edit":"","show-run":"",runIcon:"el-icon-more","run-tip":"查看服务构建记录","sonar-disable":"running"===t.row.sonarStatus},on:{copyClick:function(a){return e.handleToBuildRecord(t.row)},deleteClick:function(a){return e.handleDelete(t.row)},editClick:function(a){return e.handleAddOrEdit(t.row)},runClick:function(a){return e.handleToServerDeployHistory(t.row)},sonarClick:function(a){return e.openSonarDialog(t.row)}}})]}}])})],1),a("table-pagination",{attrs:{change:e.pollingDataList,"current-page":e.currentPage,"page-size":e.pageSize,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t}}}),a("pipeline-edit",{ref:"edit",on:{fatherMethod:e.pollingDataList}}),a("el-dialog",{attrs:{visible:e.dialogFormVisible,title:"发版参数",width:"50%","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"commitForm",attrs:{model:e.commitForm,rules:e.commitRules}},[a("el-form-item",{attrs:{"label-width":"160px",label:"branch or commitId",prop:"commitId"}},[a("el-input",{attrs:{placeholder:"请输入要构建的分支/commitId"},model:{value:e.commitForm.commitId,callback:function(t){e.$set(e.commitForm,"commitId",t)},expression:"commitForm.commitId"}})],1)],1),a("template",{slot:"footer"},[a("dialog-footer",{on:{cancel:function(t){e.dialogFormVisible=!1},confirm:e.handleTriggerDeployServe}})],1)],2),a("el-dialog",{attrs:{visible:e.sonarFormVisible,title:"sonar参数",width:"50%","close-on-click-modal":!1},on:{"update:visible":function(t){e.sonarFormVisible=t}}},[a("el-form",{ref:"sonarForm",attrs:{model:e.commitForm,rules:e.commitRules}},[a("el-form-item",{attrs:{"label-width":"160px",label:"branch or commitId",prop:"commitId"}},[a("el-input",{attrs:{placeholder:"请输入要构建的分支/commitId"},model:{value:e.commitForm.commitId,callback:function(t){e.$set(e.commitForm,"commitId",t)},expression:"commitForm.commitId"}})],1)],1),a("template",{slot:"footer"},[a("dialog-footer",{on:{cancel:function(t){e.sonarFormVisible=!1},confirm:e.triggerSonar}})],1)],2),a("el-dialog",{attrs:{visible:e.compareFormVisible,title:"增量覆盖率参数",width:"50%","close-on-click-modal":!1},on:{"update:visible":function(t){e.compareFormVisible=t}}},[a("el-form",{ref:"mergeForm",attrs:{model:e.compareForm}},[a("el-form-item",{attrs:{"label-width":"80px",label:"对比分支",prop:"compareBranch"}},[a("el-input",{attrs:{placeholder:"请输入对比分支，不输入默认origin/master"},model:{value:e.compareForm.compareBranch,callback:function(t){e.$set(e.compareForm,"compareBranch",t)},expression:"compareForm.compareBranch"}})],1)],1),a("template",{slot:"footer"},[a("dialog-footer",{on:{cancel:function(t){e.compareFormVisible=!1},confirm:e.handleTriggerCoverage}})],1)],2)],2)},r=[]},"0cf1":function(e,t,a){"use strict";var n=a("d1bb"),r=a.n(n);t["default"]=r.a},"0cfd":function(e,t,a){},"0d06":function(e,t,a){},"0d36":function(e,t,a){"use strict";a("1df6")},"0dde":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("00e0");t.default={name:"PlanStageTableItem",props:{value:{type:String}},data:function(){return{planStageType:n.planStageType}}}},"0e6a":function(e,t,a){"use strict";a.r(t);var n=a("5f86"),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=r.a},"0e74":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticClass:"dialog-title",attrs:{"close-on-click-modal":!1,title:e.operation===e.operationEnum.EDIT?"编辑测试计划":"创建测试计划",visible:e.dialogFormVisible,width:"65%"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"planForm",attrs:{model:e.form,rules:e.rules}},[a("el-row",[a("el-col",{attrs:{offset:1,span:10}},[a("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"计划名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入测试计划名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"所属项目",prop:"projIds"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",multiple:"",placeholder:"请选择所属项目"},model:{value:e.form.projIds,callback:function(t){e.$set(e.form,"projIds",t)},expression:"form.projIds"}},e._l(e.projectOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{offset:1,span:10}},[a("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"负责人",prop:"owner"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"请选择负责人"},model:{value:e.form.owner,callback:function(t){e.$set(e.form,"owner",t)},expression:"form.owner"}},e._l(e.ownerOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.text,value:e.value}})})),1)],1)],1),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"测试阶段",prop:"stage"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择测试阶段"},model:{value:e.form.stage,callback:function(t){e.$set(e.form,"stage",t)},expression:"form.stage"}},e._l(e.planStageOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.text,value:e.value}})})),1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{offset:1,span:10}},[a("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"计划开始",prop:"targetStart"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"picker-options":e.pickerOptionsStart,placeholder:"计划开始",type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.form.targetStart,callback:function(t){e.$set(e.form,"targetStart",t)},expression:"form.targetStart"}})],1)],1),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"计划结束",prop:"targetEnd"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"picker-options":e.pickerOptionsStart,placeholder:"计划结束",type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.form.targetEnd,callback:function(t){e.$set(e.form,"targetEnd",t)},expression:"form.targetEnd"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{offset:1,span:10}},[a("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"迭代",prop:"sprintId"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"请选择sprint"},model:{value:e.form.sprintId,callback:function(t){e.$set(e.form,"sprintId",t)},expression:"form.sprintId"}},e._l(e.sprintOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1),e.form.stage===e.planStageEnum.SMOKE?a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"对应功能测试",prop:"parent"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{"remote-method":e.setPlanOptions,filterable:"",placeholder:"请选择对应功能测试计划",remote:""},model:{value:e.form.parent,callback:function(t){e.$set(e.form,"parent",t)},expression:"form.parent"}},e._l(e.planOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1):e._e()],1),e.form.stage===e.planStageEnum.SMOKE&&["","0",null,void 0].indexOf(e.form.sprintId)<0?a("el-row",{staticClass:"row-content"},[a("el-col",{attrs:{offset:1,span:10}},[a("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"需求",prop:"storyIds"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",multiple:"","multiple-limit":1,placeholder:"请选择冒烟需求"},model:{value:e.form.storyIds,callback:function(t){e.$set(e.form,"storyIds",t)},expression:"form.storyIds"}},e._l(e.storyOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.summary,value:e.id}})})),1)],1)],1),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"应用",prop:"pipelineIds"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",multiple:"",placeholder:"请选择关联工程"},model:{value:e.form.pipelineIds,callback:function(t){e.$set(e.form,"pipelineIds",t)},expression:"form.pipelineIds"}},e._l(e.pipelineOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1)],1):e._e(),a("el-row",{staticClass:"row-content"},[a("el-col",{attrs:{offset:1,span:20}},[a("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"描述"}},[a("el-input",{attrs:{autosize:{minRows:2,maxRows:4},rows:2,placeholder:"请输入内容",type:"textarea"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1)],1)],1),e.operation===e.operationEnum.EDIT?a("el-row",{staticClass:"row-content"},[a("el-col",{attrs:{offset:1,span:18}},[a("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"当前状态"}},[a("test-plan-status-button",{attrs:{"show-reject":e.form.stage===e.planStageEnum.SMOKE,status:e.form.status},on:{statusChange:e.statusChange}})],1)],1)],1):e._e()],1),a("template",{slot:"footer"},[a("dialog-footer",{on:{cancel:function(t){e.dialogFormVisible=!1},confirm:e.savePlan}})],1)],2)},r=[]},"0ea0":function(e,t,a){"use strict";a("8309")},"0eef":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"header-main"},[n("div",{staticClass:"header-left"},[n("router-link",{staticClass:"logo",attrs:{to:{name:e.PathName.Dashboard}}},[n("img",{attrs:{alt:"logo",src:e.logo}}),n("span",[e._v("测试平台")])])],1),n("div",{staticClass:"user-info"},[e.picture?n("img",{attrs:{src:e.picture,alt:""}}):n("img",{attrs:{alt:"",src:a("3591")}}),n("el-dropdown",{staticClass:"cur-user"},[n("span",[e._v(e._s(e.username))]),n("el-dropdown-menu",{staticClass:"user-action",attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",[n("div",{on:{click:e.loginOutFun}},[n("i",{staticClass:"fa fa-power-off"}),e._v("退出登录 ")])])],1)],1)],1)])},r=[]},"0f41":function(e,t,a){"use strict";a.r(t);var n=a("6ee0"),r=a("61d9");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);var i=a("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,"6d01fa96",null);t["default"]=s.exports},"0f47":function(e,t,a){},1007:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",[a("template",{slot:"header"},[a("table-header",{attrs:{condition:e.condition,"create-tip":"创建流水线",placeholder:"根据流水线名称搜索",showCreate:!1,showSearch:""===e.pipelineId},on:{search:e.handleGetBuildRecord}},[a("template",{slot:"title"},[a("div",[e._v("覆盖率构建记录")])])],2)],1),a("el-table",{attrs:{data:e.tableData,size:"medium"}},[a("el-table-column",{attrs:{prop:"id",label:"构建id"}}),a("el-table-column",{attrs:{prop:"pipelineName",label:"流水线名称"}}),a("el-table-column",{attrs:{prop:"username",label:"触发者"}}),a("el-table-column",{attrs:{prop:"createdAt",label:"构建时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(new Date(t.row.createdAt).format("yyyy-MM-dd hh:mm:ss")))])]}}])}),a("el-table-column",{attrs:{prop:"endCommit",label:"构建分支"}}),a("el-table-column",{attrs:{prop:"compareBranch",label:"对比分支"}}),a("el-table-column",{attrs:{prop:"buildStatus",label:"构建状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:e.tagType(t.row),effect:"dark"}},[e._v(e._s(t.row.statusChinese))])]}}])}),a("el-table-column",{attrs:{label:"增量覆盖率报告"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{attrs:{href:t.row["diffCoverageReport"],type:"danger",target:"_blank"}},[e._v(e._s(t.row["diffCoverageReport"]?t.row["endCommit"]+"增量报告":null))])]}}])}),a("el-table-column",{attrs:{label:"全量覆盖率报告"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{attrs:{href:t.row["fullCoverageReport"],type:"primary",target:"_blank"}},[e._v(e._s(t.row["fullCoverageReport"]?t.row["endCommit"]+"全量报告":null))])]}}])})],1),a("table-pagination",{attrs:{change:e.getBuildRecord,"current-page":e.currentPage,"page-size":e.pageSize,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t}}})],2)},r=[]},1020:function(e,t,a){},"104e":function(e,t,a){"use strict";a.r(t);var n=a("141a"),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=r.a},1066:function(e,t,a){"use strict";a.r(t);var n=a("410a"),r=a("ad53");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);var i=a("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,"29c42850",null);t["default"]=s.exports},"10a9":function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(a("365c"));t.default={GetEventByUser:function(e){return r.default({method:"post",url:"v1/buried/event/getUserEvents",data:e})}}},"113e":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-input",{attrs:{placeholder:"搜索模块",size:"small"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}},[e.type!==e.operationEnum.EDIT||e.disabled?e._e():a("el-button",{attrs:{slot:"append",icon:"el-icon-folder-add"},on:{click:function(t){return e.openEditNodeDialog(e.operationEnum.ADD)}},slot:"append"})],1),a("el-tree",{ref:"tree",staticClass:"node-tree",attrs:{data:e.treeNodes,"default-expanded-keys":e.expandedNode,draggable:e.draggable,"expand-on-click-node":!1,"filter-node-method":e.filterNode,"highlight-current":"","node-key":"id"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.node,r=t.data;return[a("span",{staticClass:"custom-tree-node father",on:{click:function(t){return e.handleNodeSelect(n,r)}}},[a("span",{staticClass:"node-title"},[a("i",{staticClass:"el-icon-folder node-icon"}),e._v(" "+e._s(r.name)+" ")]),e.type!==e.operationEnum.EDIT||e.disabled?e._e():a("span",{staticClass:"node-operate child"},[a("el-tooltip",{attrs:{"open-delay":200,content:"重命名",effect:"dark",placement:"top"}},[a("i",{staticClass:"el-icon-edit",on:{click:function(t){return t.stopPropagation(),e.openEditNodeDialog(e.operationEnum.EDIT,r)}}})]),a("el-tooltip",{attrs:{"open-delay":200,content:"添加子模块",effect:"dark",placement:"top"}},[a("i",{staticClass:"el-icon-circle-plus-outline",on:{click:function(t){return t.stopPropagation(),e.openEditNodeDialog(e.operationEnum.ADD,r)}}})]),a("el-tooltip",{attrs:{"open-delay":200,content:"删除",effect:"dark",placement:"top"}},[a("i",{staticClass:"el-icon-delete",on:{click:function(t){return t.stopPropagation(),e.remove(r)}}})])],1)])]}}])}),a("node-edit",{ref:"nodeEdit",attrs:{"current-project":e.currentProject,"tree-nodes":e.treeNodes},on:{refreshNode:e.refreshNode}})],1)},r=[]},"12bf":function(e,t,a){"use strict";a.r(t);var n=a("db06"),r=a("854d");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);var i=a("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,"78c71a16",null);t["default"]=s.exports},"12e1":function(e,t,a){"use strict";a.r(t);var n=a("d9f1"),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=r.a},1369:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"search-label"},[e._v(e._s(e.component.label))]),a("el-select",e._b({staticClass:"search-operator",attrs:{placeholder:"请选择",size:"small"},on:{change:e.change,input:e.input},model:{value:e.component.operator.value,callback:function(t){e.$set(e.component.operator,"value",t)},expression:"component.operator.value"}},"el-select",e.component.operator.props,!1),e._l(e.operators,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),e.showContent?a("div",{staticClass:"search-content"},[e._t("default",null,{component:e.component})],2):e._e()],1)},r=[]},1386:function(e,t,a){"use strict";a.r(t);var n=a("6aae"),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=r.a},1388:function(e,t,a){"use strict";a.r(t);var n=a("cb47"),r=a("1eeb");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);a("7f0f");var i=a("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,"46c20835",null);t["default"]=s.exports},"13a6":function(e,t,a){},"141a":function(e,t,a){"use strict";var n=a("278c").default;a("159b"),a("b0c0"),a("7db0"),a("d81d"),a("4fad");var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=a("365c"),i=r(a("e73b")),s=r(a("5ec0")),l=r(a("6d22")),c=r(a("df34")),u=r(a("ba07")),d=a("b74e"),p=a("93f3"),f=a("4314"),m=a("00e0"),h=a("7d3b"),b=a("2ef0");t.default={name:"approvalNotify",components:{TableOperator:u.default,TableHeader:c.default,TablePagination:l.default,DialogFooter:s.default},data:function(){return{condition:{},operationEnum:f.operationEnum,planStageEnum:m.planStageEnum,tableData:[],currentPage:1,pageSize:p.PAGINATION_SIZE.LARGE,total:0,form:h.approvalNotifyForm,rules:h.approvalNotifyRules,dialogFormVisible:!1,larkChatOptions:[],operation:""}},computed:{formLabelWidth:function(){return i.default["formLabelWidth"]},loading:function(){return this.$store.state.loading},jiraProjectOptions:function(){return this.$store.state.jira.projects},chatOptions:function(){return this.$store.state.coverage.larkChats},table2BtnWidth:function(){return i.default["table2BtnWidth"]}},mounted:function(){this.initTableData()},methods:{initOptions:function(){this.setLarkChatOptions()},initTableData:function(){this.initOptions(),this.getData()},buildParams:function(){var e={project:this.form.project,chatId:this.form.chatId};return e},getData:function(e){var t=this,a={offset:this.pageSize*(this.currentPage-1),limit:this.pageSize,project:e};this.configFilter=sessionStorage.getItem(this.$route.path),this.configFilter=this.configFilter?JSON.parse(this.configFilter):{},"{}"!==JSON.stringify(this.configFilter)&&(Object.assign(a,this.configFilter),this.$refs.table.columns.forEach((function(e){e.filteredValue=t.configFilter[e.columnKey]}))),o.approvalApi.getApprovalChatConfig(a).then((function(e){var a=e.data;t.total=a.total,t.tableData=a.data,t.tableData.forEach((function(e){e.chatName=t.chatOptions.find((function(t){return String(t.id)===e.chatId})).name,e.project=t.jiraProjectOptions.find((function(t){return t.id===e.project})).name}))}))},saveConfig:function(){var e=this;this.$refs.approvalNotifyForm.validate((function(t){if(!t)return!1;if(e.operation===f.operationEnum.ADD){var a=e.buildParams();o.approvalApi.createApprovalChatConfig(a).then((function(){e.refresh()}))}else if(e.operation===f.operationEnum.EDIT){var n=e.buildParams();o.approvalApi.updateApprovalChatConfig(e.form.id,n).then((function(){e.refresh()}))}e.dialogFormVisible=!1}))},handleAddOrEdit:function(e){var t=this;this.dialogFormVisible=!0,this.$nextTick((function(){t.$refs.approvalNotifyForm&&t.$refs.approvalNotifyForm.resetFields(),t.operation=f.operationEnum.ADD,e?(t.operation=f.operationEnum.EDIT,t.form=b.cloneDeep(e),t.form.isActive=String(t.form.isJiraActive)):t.form=h.approvalNotifyForm}))},handleDelete:function(e){var t=this;this.$alert("确认删除该配置?","",{confirmButtonText:"确定",showCancelButton:!0,cancelButtonText:"取消",callback:function(a){"confirm"===a&&o.approvalApi.deleteApprovalChatConfig(e.id).then((function(){t.refresh()}))}})},handleSearch:function(e){this.currentPage=1,this.getData(e)},refresh:function(){this.initTableData()},filter:function(e){this.currentPage=1,d._filter(e,this.configFilter,this.$route.path),this.initTableData()},setLarkChatOptions:function(){this.larkChatOptions=Object.entries(this.chatOptions).map((function(e){var t=n(e,2),a=t[0],r=t[1];return{text:r.name,value:String(r.id),key:a}}))}}}},"14b7":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("b889");t.default={name:"TestReviewCaseStepStatus",props:{value:String},data:function(){return{stepStatusEnum:n.stepStatusEnum,stepStatusType:n.stepStatusType}}}},1663:function(e,t,a){"use strict";var n=a("970b").default,r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.coverageApi=void 0;var o=r(a("365c")),i=r(a("4328")),s="v1/coverage",l="v1/gitlab";t.default={getAllGitProjects:function(){return o.default({method:"get",url:"".concat(s,"/git/project")})},getPipelineInfo:function(e){return o.default({method:"get",url:"".concat(s,"/pipeline/").concat(e)})},createPipeline:function(e){return o.default({method:"post",url:"".concat(s,"/pipeline"),data:e})},updatePipeline:function(e,t){return o.default({method:"patch",url:"".concat(s,"/pipeline/").concat(e),data:t})},deletePipeline:function(e){return o.default({method:"delete",url:"".concat(s,"/pipeline/").concat(e)})},getPipelineList:function(e){return o.default({method:"get",url:"".concat(s,"/pipeline"),params:e,paramsSerializer:function(e){return i.default.stringify(e,{arrayFormat:"repeat"})}})},getPipelineDeployConsole:function(e){return o.default({method:"get",url:"".concat(s,"/pipeline/").concat(e,"/deploy/console")})},getPipelineCoverageConsole:function(e){return o.default({method:"get",url:"".concat(s,"/pipeline/").concat(e,"/coverage/console")})},getJenkinsTasksHistory:function(e){return o.default({method:"get",url:"".concat(s,"/jenkins/task"),params:e})},triggerServerDeploy:function(e){return o.default({method:"post",url:"".concat(s,"/jenkins/task/server/deploy"),data:e})},triggerCoverageDeploy:function(e){return o.default({method:"post",url:"".concat(s,"/jenkins/task"),data:e})},triggerSonarBuild:function(e){return o.default({method:"post",url:"".concat(s,"/jenkins/task/server/sonar"),data:e})},getServerJenkinsDeployHistory:function(e){return o.default({method:"get",url:"".concat(s,"/jenkins/server/deploy/history"),params:e})},getGitlabProjects:function(e){return o.default({method:"get",url:"".concat(l,"/projects"),params:e})},getGitlabProjectBranches:function(e,t){return o.default({method:"get",url:"".concat(l,"/project/").concat(e,"/branch"),params:t})},createGitlabProjectBranch:function(e,t){return o.default({method:"post",url:"".concat(l,"/project/").concat(e,"/branch"),data:t})},deleteGitlabProjectBranch:function(e,t){return o.default({method:"delete",url:"".concat(l,"/project/").concat(e,"/branch"),params:t})},getFullCoverageReportTrend:function(e){return o.default({method:"get",url:"".concat(s,"/full/report/trend"),params:e})}};var c=function e(){n(this,e)};t.coverageApi=c},"16e1":function(e,t,a){"use strict";a.r(t);var n=a("1f7b"),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=r.a},"16eb":function(e,t,a){e.exports={fontFamily:"PingFangSC-Regular,PingFang SC,sans-serif"}},"17a5":function(e,t,a){"use strict";a.d(t,"a",(function(){return s["a"]}));var n,r,o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"gstc",staticClass:"gstc-component",attrs:{id:"gstc-component"}})},i=[],s=a("c9d1"),l=(a("6427"),!1),c={name:"GSTC",props:["config"],mounted:function(){var e=this;this.$refs.gstc.addEventListener("gstc-loaded",(function(){l||(l=!0,e.$emit("loaded",r))})),n=s["a"].api.stateFromConfig({}),this.$watch("config",(function(e){n.update("config",(function(t){t.list.rows={1:{id:"",story:"",assignee:"",expanded:!0}},t.chart.items={};var a=s["a"].api.merge({},t,e);return console.log("updated-config",a),a})),r&&r.component&&r.component.update()}),{deep:!0,immediate:!0}),this.$emit("state",n),r=Object(s["a"])({element:this.$refs.gstc,state:n})},beforeUnmount:function(){r&&r.destroy()}},u=c,d=(a("2c61"),a("2877")),p=Object(d["a"])(u,o,i,!1,null,"17d85e25",null);t["b"]=p.exports},"18ae":function(e,t,a){"use strict";a.r(t);var n=a("dd0d"),r=a("0342");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);var i=a("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,"3c8bd75a",null);t["default"]=s.exports},"18fb":function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=a("7a93"),o=n(a("c2a6")),i=n(a("7e04")),s=n(a("f381")),l=n(a("4b0c")),c=n(a("06cd")),u=n(a("0c43")),d=n(a("bb15"));t.default=[{path:"/testTool",name:r.PathName.TestTool,component:s.default},{path:"/flower",name:r.PathName.Flower,component:i.default},{path:"/prMerged",name:r.PathName.PrMerged,component:c.default,meta:{isUsingSocketInfo:!0}},{path:"/PrMergeJira",name:r.PathName.PrMergeJira,component:l.default,meta:{isUsingSocketInfo:!0}},{path:"/ApprovalNotify",name:r.PathName.ApprovalNotify,component:o.default,meta:{isUsingSocketInfo:!0}},{path:"/ApolloNotify",name:r.PathName.ApolloNotify,component:u.default,meta:{isUsingSocketInfo:!0}},{path:"/ApolloIntlNotify",name:r.PathName.ApolloIntlNotify,component:d.default,meta:{isUsingSocketInfo:!0}}]},"1ace":function(e,t,a){"use strict";a.r(t);var n=a("cc0c"),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=r.a},"1b93":function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(a("7e31"));t.default={name:"TableSearchInput",components:{TableSearchComponent:r.default},props:["component"],data:function(){return{props:Object.assign({maxlength:"60",showWordLimit:!0},this.component.props)}}}},"1bdf":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("b889");t.default={name:"CaseTypeTableItem",props:{value:String},data:function(){return{caseTypeType:n.caseTypeType}}}},"1db6":function(e,t,a){"use strict";a("a9e3"),Object.defineProperty(t,"__esModule",{value:!0});var n=a("b889");t.default={name:"ExecutionTypeTableItem",props:{value:Number},data:function(){return{executionType:n.executionType}}}},"1df6":function(e,t,a){},"1eeb":function(e,t,a){"use strict";a.r(t);var n=a("45b4"),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=r.a},"1f14":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("div",{staticClass:"title",attrs:{slot:"header"},slot:"header"},[e._t("header",[e._v(e._s(e.title))])],2),[a("div",[e._t("default")],2)]],2)},r=[],o={name:"CommonComponent",props:{title:{type:String}},computed:{loading:function(){return this.$store.state.loading}},methods:{}},i=o,s=(a("dfc7"),a("2877")),l=Object(s["a"])(i,n,r,!1,null,"3e10902a",null);t["a"]=l.exports},"1f3c":function(e,t,a){"use strict";a("0b51")},"1f47":function(e,t,a){},"1f5e":function(e,t,a){"use strict";a("dcc1")},"1f7b":function(e,t,a){"use strict";var n=a("c973").default,r=a("278c").default;a("96cf"),a("d81d"),a("4fad"),a("a9e3"),a("4de4");var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a("365c"),s=a("b889"),l=a("00e0"),c=o(a("be65")),u=o(a("6535")),d=o(a("63ac")),p=o(a("73ae")),f=o(a("072e")),m=a("2ef0"),h=Object.entries(s.stepStatusType).map((function(e){var t=r(e,2),a=t[0],n=t[1];return{text:n,value:a}}));t.default={name:"TestCasePlanRun",components:{PriorityTableItem:d.default,CaseTypeTableItem:c.default,ExecutionTypeTableItem:u.default,TestPlanCaseStatusButton:p.default,TestReviewCaseStepStatus:f.default},data:function(){return{caseTypeEnum:s.caseTypeEnum,executionEnum:s.executionEnum,stepStatusOptions:h,showDialog:!1,testCase:{caseDetail:{}},index:0,total:0,parent:"",tableData:[],test:{},activeTab:"detail",isFailure:!0}},props:{searchParam:Object,planId:[String,Number]},computed:{loading:function(){return this.$store.state.loading},offset:function(){return this.parent.pageSize*(this.parent.currentPage-1)}},mounted:function(){var e=this;this.$eventBus.$on("testPlanCaseRun",(function(t,a,n){e.parent=n,e.open(t,a)}))},methods:{cancel:function(){this.showDialog=!1,this.$emit("refresh")},saveCase:function(e){var t=this,a={type:s.caseUpdateTypeEnum.UPDATE_PLAN_STATUS,planId:this.planId,executor:this.$store.state.login.username,stepActualResults:this.testCase.caseDetail.steps.map((function(e){return e.actualResult||""})),stepActualStatus:this.testCase.caseDetail.steps.map((function(e){return e.actualStatus||l.planResultEnum.PASS})),issueIds:[]};this.parent.isQa?(this.testCase.smokeCheck=e,a=Object.assign(a,{type:s.caseUpdateTypeEnum.UPDATE_PLAN_SMOKE_CHECK,smokeCheck:e})):(this.testCase.status=e,a=Object.assign(a,{status:e})),i.testCaseApi.updateTestCase(this.testCase.caseId,a).then((function(){t.handleNext()})).catch((function(){t.parent.isQa?t.testCase.smokeCheck=l.planResultEnum.INIT:t.testCase.status=l.planResultEnum.INIT}))},handleNext:function(){var e=this;return n(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.index+e.offset+1!==e.total){t.next=2;break}return t.abrupt("return");case 2:if(e.index+1===e.tableData.length){t.next=7;break}e.index++,e.getTestCase(e.index),t.next=21;break;case 7:return t.prev=7,e.parent.currentPage++,e.index=-1,t.next=12,e.parent.getData();case 12:return e.tableData=e.parent.tableData,t.next=15,e.handleNext();case 15:t.next=21;break;case 17:t.prev=17,t.t0=t["catch"](7),e.index=e.parent.pageSize-1,e.parent.currentPage--;case 21:case"end":return t.stop()}}),t,null,[[7,17]])})))()},handlePre:function(){var e=this;return n(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0===e.index){t.next=5;break}e.index--,e.getTestCase(e.index),t.next=19;break;case 5:return t.prev=5,e.parent.currentPage--,e.index=e.parent.pageSize,t.next=10,e.parent.getData();case 10:return e.tableData=e.parent.tableData,t.next=13,e.handlePre();case 13:t.next=19;break;case 15:t.prev=15,t.t0=t["catch"](5),e.index=e.parent.pageSize+1,e.parent.currentPage++;case 19:case"end":return t.stop()}}),t,null,[[5,15]])})))()},getTestCase:function(e){this.testCase=this.tableData[e]},open:function(e,t){this.showDialog=!0,this.total=this.parent.total,this.activeTab="detail",this.testCase=m.cloneDeep(e),this.tableData=t,this.index=this.tableData.indexOf(e)},stepResultChange:function(){this.testCase.method===s.executionEnum.MANUAL&&(this.isFailure=this.testCase.caseDetail.steps.filter((function(e){return e.actualStatus===s.stepStatusEnum.FAIL||e.actualStatus===s.stepStatusEnum.BLOCK})).length>0)}}}},"1fbd":function(e,t,a){e.exports=a.p+"img/sprintWarningIcon.5ebf76a5.svg"},"21bd":function(e,t,a){"use strict";a.r(t);var n=a("56af"),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=r.a},"21ce":function(e,t,a){"use strict";a("0a94")},2209:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-tabs",{model:{value:e.activePannel,callback:function(t){e.activePannel=t},expression:"activePannel"}},[a("el-tab-pane",{attrs:{label:"生成用户",name:"generateAccount"}},[a("generate-account")],1),a("el-tab-pane",{attrs:{label:"修改用户",name:"updateUser"}},[a("update-user")],1),a("el-tab-pane",{attrs:{label:"转推关系",name:"xshare"}},[a("relationship")],1),a("el-tab-pane",{attrs:{label:"一键拼团",name:"spellGroup"}},[a("spell-group")],1),a("el-tab-pane",{attrs:{label:"其他场景",name:"other"}},[a("other-scene")],1)],1)},r=[],o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",[a("div",[a("el-form",{ref:"userForm",staticStyle:{width:"100%",margin:"20px auto"},attrs:{model:e.userForm,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"课程类型:",prop:"classType"}},[a("el-checkbox-group",{attrs:{min:0,max:1,disabled:e.userForm.accountType.length>0||e.userForm.dataType.length>0},model:{value:e.userForm.classType,callback:function(t){e.$set(e.userForm,"classType",t)},expression:"userForm.classType"}},e._l(e.ClassTypes,(function(t){return a("el-checkbox",{key:t.label,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1),a("el-form-item",{attrs:{label:"账号类型:",prop:"accountType"}},[a("el-checkbox-group",{attrs:{min:0,max:1,disabled:e.userForm.classType.length>0||e.userForm.dataType.length>0},model:{value:e.userForm.accountType,callback:function(t){e.$set(e.userForm,"accountType",t)},expression:"userForm.accountType"}},e._l(e.AccountTypes,(function(t){return a("el-checkbox",{key:t.label,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1),a("el-form-item",{attrs:{label:"数据类型:",prop:"dataType"}},[a("el-checkbox-group",{attrs:{min:0,max:1,disabled:e.userForm.classType.length>0||e.userForm.accountType.length>0},model:{value:e.userForm.dataType,callback:function(t){e.$set(e.userForm,"dataType",t)},expression:"userForm.dataType"}},e._l(e.DataTypes,(function(t){return a("el-checkbox",{key:t.label,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1),a("el-form-item",{attrs:{label:"手机号:",prop:"mobile"}},[a("el-input",{staticStyle:{width:"auto"},attrs:{placeholder:"请输入用户手机号"},model:{value:e.userForm.mobile,callback:function(t){e.$set(e.userForm,"mobile",t)},expression:"userForm.mobile"}})],1),a("el-row",{staticStyle:{"margin-top":"30px"}},[a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"itemId:",prop:"itemId"}},[a("el-input",{staticStyle:{width:"auto"},attrs:{placeholder:"请输入itemid"},model:{value:e.userForm.itemId,callback:function(t){e.$set(e.userForm,"itemId",t)},expression:"userForm.itemId"}}),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"若场景为可复购类型，此字段必填；其他场景，本字段无效",placement:"top"}},[a("i",{staticClass:"el-icon-question",staticStyle:{"margin-left":"5px"}})])],1)],1),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"推荐级别:",prop:"level"}},[a("el-select",{model:{value:e.userForm.level,callback:function(t){e.$set(e.userForm,"level",t)},expression:"userForm.level"}},e._l(e.options,(function(e){return a("el-option",{key:e.label,attrs:{label:e.label,value:e.value}})})),1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"若场景为支持导流到老机转，此字段必填",placement:"top"}},[a("i",{staticClass:"el-icon-question",staticStyle:{"margin-left":"5px"}})])],1)],1),a("el-col",{attrs:{span:7}},[a("div",[a("el-form-item",{attrs:{label:"宝贝生日:",prop:"bd"}},[a("el-date-picker",{attrs:{type:"date","value-format":"timestamp",placeholder:"选择日期"},model:{value:e.userForm.bd,callback:function(t){e.$set(e.userForm,"bd",t)},expression:"userForm.bd"}}),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"若场景为宝贝相关，此字段必填",placement:"top"}},[a("i",{staticClass:"el-icon-question",staticStyle:{"margin-left":"5px"}})])],1)],1)])],1),a("el-form-item",{staticStyle:{"margin-top":"30px"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.userSubmit}},[e._v("创建用户")]),a("el-button",{on:{click:function(t){return e.resetForm("userForm")}}},[e._v("重置")])],1)],1),a("el-dialog",{attrs:{visible:e.createUser,center:"",title:"提示",width:"30%"},on:{"update:visible":function(t){e.createUser=t}}},[a("span",[e._v("是否要创建相关用户吗？若与课程相关，请确保mock已打开")]),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.createUser=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("确 定")])],1)])],1),a("div",{staticStyle:{"margin-top":"50px","margin-left":"28px"}},[a("span",{staticStyle:{"font-size":"14px",float:"left",color:"#606266"}},[e._v("响应数据：")]),a("el-input",{staticStyle:{"margin-top":"10px"},attrs:{type:"textarea",rows:10},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}})],1)])},i=[],s=a("3835"),l=(a("d81d"),a("4fad"),a("8e88")),c=a("365c"),u=Object.entries(l["ClassType"]).map((function(e){var t=Object(s["a"])(e,2),a=t[0],n=t[1];return{label:n,value:a}})),d=Object.entries(l["AccountType"]).map((function(e){var t=Object(s["a"])(e,2),a=t[0],n=t[1];return{label:n,value:a}})),p=Object.entries(l["DataType"]).map((function(e){var t=Object(s["a"])(e,2),a=t[0],n=t[1];return{label:n,value:a}})),f={name:"generateAccount",data:function(){return{createUser:!1,ClassTypes:u,AccountTypes:d,DataTypes:p,result:"",userForm:{classType:[],accountType:[],dataType:[],mobile:"",bd:"",itemId:"",level:""},options:[{label:"T1GE",value:"T1GE"},{label:"K1GE",value:"K1GE"},{label:"K3GE",value:"K3GE"}]}},methods:{onSubmit:function(){var e=this;this.result="",console.log(this.userForm);var t=_.cloneDeep(this.userForm);c["dataToolApi"].createAccountTypeUser(t).then((function(t){e.result=t.data})),this.createUser=!1},userSubmit:function(){this.createUser=!0},resetForm:function(e){this.$refs[e].resetFields()}}},m=f,h=a("2877"),b=Object(h["a"])(m,o,i,!1,null,"27417e7e",null),g=b.exports,v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",[a("div",[a("el-form",{ref:"shipForm",staticStyle:{width:"100%",margin:"20px auto"},attrs:{"status-icon":"",rules:e.shipRules,model:e.shipForm,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"渠道类型:",prop:"channel"}},[a("el-radio-group",{model:{value:e.shipForm.channel,callback:function(t){e.$set(e.shipForm,"channel",t)},expression:"shipForm.channel"}},e._l(e.ChannelTypes,(function(t){return a("el-radio",{key:t.label,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1),a("el-form-item",{attrs:{label:"科目类型:",prop:"subject"}},[a("el-radio-group",{model:{value:e.shipForm.subject,callback:function(t){e.$set(e.shipForm,"subject",t)},expression:"shipForm.subject"}},e._l(e.SubTypes,(function(t){return a("el-radio",{key:t.label,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1),a("el-form-item",{attrs:{label:"锁粉类型:",prop:"fanType"}},[a("el-radio-group",{model:{value:e.shipForm.fanType,callback:function(t){e.$set(e.shipForm,"fanType",t)},expression:"shipForm.fanType"}},e._l(e.Fantypes,(function(t){return a("el-radio",{key:t.label,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1),a("el-form-item",{attrs:{label:"手机号:",prop:"mobile"}},[a("el-input",{staticStyle:{width:"auto"},attrs:{placeholder:"请输入用户手机号"},model:{value:e.shipForm.mobile,callback:function(t){e.$set(e.shipForm,"mobile",t)},expression:"shipForm.mobile"}})],1),a("el-form-item",{attrs:{label:"粉丝手机号:",prop:"fanMobile"}},[a("el-input",{staticStyle:{width:"auto"},attrs:{placeholder:"请输入粉丝手机号"},model:{value:e.shipForm.fanMobile,callback:function(t){e.$set(e.shipForm,"fanMobile",t)},expression:"shipForm.fanMobile"}})],1),a("el-form-item",{staticStyle:{"margin-top":"30px"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("shipForm")}}},[e._v("确认")]),a("el-button",{on:{click:function(t){return e.resetForm("shipForm")}}},[e._v("重置")])],1)],1),a("el-dialog",{attrs:{visible:e.createRelation,center:"",title:"提示",width:"30%"},on:{"update:visible":function(t){e.createRelation=t}}},[a("span",[e._v("确认要创建锁粉关系吗？")]),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.createRelation=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.shipSubmit}},[e._v("确 定")])],1)])],1)])},y=[],S=Object.entries(l["ChannelType"]).map((function(e){var t=Object(s["a"])(e,2),a=t[0],n=t[1];return{label:n,value:a}})),T=Object.entries(l["SubType"]).map((function(e){var t=Object(s["a"])(e,2),a=t[0],n=t[1];return{label:n,value:a}})),w=Object.entries(l["FanType"]).map((function(e){var t=Object(s["a"])(e,2),a=t[0],n=t[1];return{label:n,value:a}})),x={name:"relationship",data:function(){return{createRelation:!1,ChannelTypes:S,SubTypes:T,Fantypes:w,shipForm:{channel:"",subject:"",fanType:"",mobile:"",fanMobile:""},shipRules:{channel:[{required:!0,message:"请选择渠道",trigger:"blur"}],subject:[{required:!0,message:"请选择科目",trigger:"blur"}],fanType:[{required:!0,message:"请选择锁粉类型",trigger:"blur"}],mobile:[{required:!0,message:"请输入手机号",trigger:"blur"}],fanMobile:[{required:!0,message:"请输入粉丝手机号",trigger:"blur"}]}}},methods:{onSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;t.createRelation=!0}))},shipSubmit:function(){console.log(this.shipForm);var e=_.cloneDeep(this.shipForm);c["dataToolApi"].xshareRelationshipData(e).then(),this.createRelation=!1},resetForm:function(e){this.$refs[e].resetFields()}}},E=x,C=Object(h["a"])(E,v,y,!1,null,"605226dd",null),P=C.exports,k=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{staticStyle:{"margin-top":"20px"}},[a("div",[a("el-form",{ref:"updateForm",staticStyle:{width:"100%",margin:"20px auto"},attrs:{model:e.updateForm,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"手机号:",prop:"mobile"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入手机号"},model:{value:e.updateForm.mobile,callback:function(t){e.$set(e.updateForm,"mobile",t)},expression:"updateForm.mobile"}})],1),a("el-form-item",{attrs:{label:"状态:",prop:"state"}},[a("el-select",{staticStyle:{width:"200px"},model:{value:e.updateForm.state,callback:function(t){e.$set(e.updateForm,"state",t)},expression:"updateForm.state"}},e._l(e.options,(function(e){return a("el-option",{key:e.label,attrs:{label:e.label,value:e.value}})})),1),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"若场景为修改推广人状态，此字段必填",placement:"top"}},[a("i",{staticClass:"el-icon-question",staticStyle:{"margin-left":"5px"}})])],1),a("el-form-item",{staticStyle:{"margin-top":"30px"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.queryClass}},[e._v("查询用户所有课程")]),a("el-button",{attrs:{type:"primary"},on:{click:e.deleteAllClass}},[e._v("删除用户所有课程")]),a("el-button",{attrs:{type:"primary"},on:{click:e.deleteUser}},[e._v("注销")])],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.deleteUserSample}},[e._v("删除用户体验课")]),a("el-button",{attrs:{type:"primary"},on:{click:e.updatepromoter}},[e._v("修改推广人状态")]),a("el-button",{on:{click:function(t){return e.resetForm("updateForm")}}},[e._v("重置")])],1)],1)],1),a("div",{staticStyle:{"margin-top":"50px","margin-left":"28px"}},[a("span",{staticStyle:{"font-size":"14px",float:"left",color:"#606266"}},[e._v("响应数据：")]),a("el-input",{staticStyle:{"margin-top":"10px"},attrs:{type:"textarea",rows:15},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}})],1),a("div",[a("el-dialog",{attrs:{visible:e.deleteClass,center:"",title:"提示",width:"30%"},on:{"update:visible":function(t){e.deleteClass=t}}},[a("span",[e._v("是否要删除用户下已拥有的所有课程？")]),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.deleteClass=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.deleteSubmit}},[e._v("确 定")])],1)]),a("el-dialog",{attrs:{visible:e.cancelUser,center:"",title:"提示",width:"30%"},on:{"update:visible":function(t){e.cancelUser=t}}},[a("span",[e._v("是否要注销用户？")]),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.cancelUser=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.deleteUserSubmit}},[e._v("确 定")])],1)]),a("el-dialog",{attrs:{visible:e.deleteSample,center:"",title:"提示",width:"30%"},on:{"update:visible":function(t){e.deleteSample=t}}},[a("span",[e._v("是否要删除用户下体验课？")]),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.deleteSample=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.deleteSampleSubmit}},[e._v("确 定")])],1)])],1)])],1)},O=[],I={name:"updateUser",data:function(){return{updateForm:{mobile:"",state:"",date:""},options:[{label:"激活",value:"active"},{label:"冻结",value:"frozen"},{label:"封号",value:"forbidden"},{label:"未激活",value:"inactive"},{label:"已失效",value:"invalid"}],result:"",deleteClass:!1,cancelUser:!1,deleteSample:!1}},methods:{queryClass:function(){var e=this;console.log(this.updateForm);var t=_.cloneDeep(this.updateForm);c["dataToolApi"].getUserClass(t).then((function(t){console.log(t.data),e.result=t.data}))},deleteAllClass:function(){this.deleteClass=!0},deleteUser:function(){this.cancelUser=!0},deleteUserSample:function(){this.deleteSample=!0},deleteSubmit:function(){var e=_.cloneDeep(this.updateForm);c["dataToolApi"].deleteUserAllClass(e).then()},deleteUserSubmit:function(){var e=_.cloneDeep(this.updateForm);c["dataToolApi"].deleteAccount(e).then(),this.cancelUser=!1},deleteSampleSubmit:function(){var e=_.cloneDeep(this.updateForm);c["dataToolApi"].deleteUserSampleClass(e).then(),this.deleteSample=!1},updatepromoter:function(){var e=_.cloneDeep(this.updateForm);c["dataToolApi"].updatePromoterState(e).then()},resetForm:function(e){this.$refs[e].resetFields()}}},D=I,j=(a("b76a"),Object(h["a"])(D,k,O,!1,null,"4ee7b772",null)),A=j.exports,R=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",[a("el-col",{staticStyle:{padding:"10px"},attrs:{span:8}},[a("el-card",{staticStyle:{height:"260px"}},[a("span",{staticStyle:{color:"#909399","font-size":"18px"}},[e._v("一键退款")]),a("div",[a("el-form",{ref:"refundForm",staticStyle:{width:"100%"},attrs:{model:e.refundForm,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"手机号:",prop:"mobile"}},[a("el-input",{staticStyle:{width:"85%"},attrs:{placeholder:"请输入用户手机号"},model:{value:e.refundForm.mobile,callback:function(t){e.$set(e.refundForm,"mobile",t)},expression:"refundForm.mobile"}})],1),a("el-form-item",{attrs:{label:"订单号:",prop:"orderNo"}},[a("el-input",{staticStyle:{width:"85%"},attrs:{placeholder:"请输入订单Id"},model:{value:e.refundForm.orderNo,callback:function(t){e.$set(e.refundForm,"orderNo",t)},expression:"refundForm.orderNo"}})],1)],1),a("div",{staticStyle:{"margin-top":"30px"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.refundSubmit}},[e._v("退款")]),a("el-button",{on:{click:function(t){return e.resetForm("refundForm")}}},[e._v("重置")])],1)],1)])],1),a("el-col",{staticStyle:{padding:"10px"},attrs:{span:8}},[a("el-card",{staticStyle:{height:"260px"}},[a("span",{staticStyle:{color:"#909399","font-size":"18px"}},[e._v("开关审核模式")]),a("div",[a("el-form",{ref:"iosForm",staticStyle:{width:"100%"},attrs:{model:e.iosForm,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"IOS版本:",prop:"version"}},[a("el-input",{staticStyle:{width:"85%"},attrs:{placeholder:"请输入IOS版本号"},model:{value:e.iosForm.version,callback:function(t){e.$set(e.iosForm,"version",t)},expression:"iosForm.version"}})],1)],1),a("div",{staticStyle:{"margin-top":"40px"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.updateGlobal}},[e._v("操作")]),a("el-button",{on:{click:function(t){return e.resetForm("iosForm")}}},[e._v("重置")])],1)],1)])],1),a("el-col",{staticStyle:{padding:"10px"},attrs:{span:8}},[a("el-card",{staticStyle:{height:"260px"}},[a("span",{staticStyle:{color:"#909399","font-size":"18px"}},[e._v("重置用户打卡数据")]),a("div",[a("el-form",{ref:"clockForm",staticStyle:{width:"100%"},attrs:{rules:e.clockRules,model:e.clockForm,"label-width":"90px"}},[a("el-form-item",{attrs:{label:"guaid/uid:",prop:"id"}},[a("el-input",{staticStyle:{width:"85%"},attrs:{placeholder:"请输入guaid或uid"},model:{value:e.clockForm.id,callback:function(t){e.$set(e.clockForm,"id",t)},expression:"clockForm.id"}})],1),a("el-form-item",{attrs:{label:"打卡天数:",prop:"days"}},[a("el-input-number",{staticStyle:{width:"85%"},attrs:{min:0,placeholder:"请输入打卡天数"},model:{value:e.clockForm.days,callback:function(t){e.$set(e.clockForm,"days",t)},expression:"clockForm.days"}})],1),a("el-form-item",{attrs:{label:"活动Id:",prop:"task"}},[a("el-select",{model:{value:e.clockForm.task,callback:function(t){e.$set(e.clockForm,"task",t)},expression:"clockForm.task"}},e._l(e.options,(function(e){return a("el-option",{key:e.label,attrs:{label:e.label,value:e.label}})})),1)],1)],1),a("div",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.punchCard("clockForm")}}},[e._v("操作")]),a("el-button",{on:{click:function(t){return e.resetForm("clockForm")}}},[e._v("重置")])],1)],1)])],1)],1),a("el-row",[a("el-col",{staticStyle:{padding:"10px"},attrs:{span:8}},[a("el-card",{staticStyle:{height:"260px"}},[a("span",{staticStyle:{color:"#909399","font-size":"18px"}},[e._v("一键创建用户")]),a("div",[a("el-form",{ref:"refundForm",staticStyle:{width:"100%"},attrs:{model:e.refundForm,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"邮箱:",prop:"email"}},[a("el-input",{staticStyle:{width:"85%"},attrs:{placeholder:"请输入邮箱"},model:{value:e.refundForm.email,callback:function(t){e.$set(e.refundForm,"email",t)},expression:"refundForm.email"}})],1),a("el-form-item",{attrs:{label:"昵称:",prop:"nick"}},[a("el-input",{staticStyle:{width:"85%"},attrs:{placeholder:"输入昵称"},model:{value:e.refundForm.nick,callback:function(t){e.$set(e.refundForm,"nick",t)},expression:"refundForm.nick"}})],1),a("el-form-item",{attrs:{label:"密码:",prop:"password"}},[a("el-input",{staticStyle:{width:"85%"},attrs:{placeholder:"输入密码"},model:{value:e.refundForm.password,callback:function(t){e.$set(e.refundForm,"password",t)},expression:"refundForm.password"}})],1)],1),a("div",{staticStyle:{"margin-top":"30px"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.refundCreate}},[e._v("创建")]),a("el-button",{on:{click:function(t){return e.resetForm("refundForm")}}},[e._v("重置")])],1)],1)])],1)],1)],1)},N=[],F={name:"otherScene",data:function(){return{refundForm:{mobile:"",orderNo:"",email:"",nick:"",password:"123456"},iosForm:{version:"",status:""},clockForm:{id:"",task:"",days:0},options:[{label:"i1"},{label:"i2"},{label:"i3"},{label:"i4"},{label:"i5"},{label:"i6"}],clockRules:{id:[{required:!0,message:"请输入guaid或uid",trigger:"blur"}],task:[{required:!0,message:"请输入活动Id",trigger:"blur"}],days:[{required:!0,message:"请输入打卡天数",trigger:"blur"}]},result:""}},methods:{punchCard:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;var a=_.cloneDeep(t.clockForm);c["dataToolApi"].resetUserCheckinDays(a).then()}))},refundCreate:function(){var e=this;this.$alert("确认创建","",{confirmButtonText:"确定",showCancelButton:!0,cancelButtonText:"取消",callback:function(t){if("confirm"===t){var a=_.cloneDeep(e.refundForm);c["dataToolApi"].orderRefund(a).then()}}})},updateGlobal:function(){var e=this;this.$alert("确认开关审核模式","",{confirmButtonText:"确定",showCancelButton:!0,cancelButtonText:"取消",callback:function(t){if("confirm"===t){var a=_.cloneDeep(e.iosForm);c["dataToolApi"].updateGlobal(a).then()}}})},refundSubmit:function(){var e=this;this.$alert("确认退款","",{confirmButtonText:"确定",showCancelButton:!0,cancelButtonText:"取消",callback:function(t){if("confirm"===t){var a=_.cloneDeep(e.refundForm);c["dataToolApi"].orderRefund(a).then()}}})},resetForm:function(e){this.$refs[e].resetFields()}}},$=F,M=Object(h["a"])($,R,N,!1,null,"77656321",null),B=M.exports,L=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("div",[a("el-form",{ref:"groupForm",staticStyle:{width:"100%",margin:"20px auto"},attrs:{rules:e.groupRules,model:e.groupForm,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"团长:",prop:"captain"}},[a("el-input",{staticStyle:{width:"50%"},attrs:{placeholder:"团长手机号"},model:{value:e.groupForm.captain,callback:function(t){e.$set(e.groupForm,"captain",t)},expression:"groupForm.captain"}})],1),a("el-form-item",{attrs:{label:"团ID:",prop:"groupId"}},[a("el-input",{staticStyle:{width:"50%"},attrs:{placeholder:"团Id"},model:{value:e.groupForm.groupId,callback:function(t){e.$set(e.groupForm,"groupId",t)},expression:"groupForm.groupId"}})],1),a("el-form-item",{attrs:{label:"团员:",prop:"crew"}},[a("el-input",{staticStyle:{width:"50%"},attrs:{placeholder:"若有多名团员,请用英文逗号分隔",type:"textarea",rows:2},model:{value:e.groupForm.crew,callback:function(t){e.$set(e.groupForm,"crew",t)},expression:"groupForm.crew"}})],1),a("el-form-item",{staticStyle:{"margin-top":"30px"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.groupSubmit("groupForm")}}},[e._v("参团")]),a("el-button",{on:{click:function(t){return e.resetForm("groupForm")}}},[e._v("重置")])],1)],1)],1),a("div",{staticStyle:{"margin-top":"50px","margin-left":"28px"}},[a("span",{staticStyle:{"font-size":"14px",float:"left",color:"#606266"}},[e._v("响应数据：")]),a("el-input",{staticStyle:{"margin-top":"10px"},attrs:{type:"textarea",rows:15},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}})],1)])],1)},z=[],V={name:"spellGroup",data:function(){return{groupForm:{captain:"",crew:"",groupId:""},groupRules:{captain:[{required:!0,message:"请输入团长手机号",trigger:"blur"}],groupId:[{required:!0,message:"请输入团ID",trigger:"blur"}]},result:""}},methods:{groupSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;console.log(t.groupForm);var a=_.cloneDeep(t.groupForm);c["dataToolApi"].createInviterOrder(a).then((function(e){t.result=e.data}))}))},resetForm:function(e){this.$refs[e].resetFields()}}},U=V,G=Object(h["a"])(U,L,z,!1,null,"21ba5f7a",null),W=G.exports,K={name:"userConfig",components:{SpellGroup:W,OtherScene:B,UpdateUser:A,Relationship:P,GenerateAccount:g},data:function(){return{activePannel:"generateAccount"}}},H=K,q=Object(h["a"])(H,n,r,!1,null,"9ccbd3a4",null);t["default"]=q.exports},"222d":function(e,t,a){"use strict";a("8edc")},"222f":function(e,t,a){"use strict";a("b9e8")},2280:function(e,t,a){},"22e7":function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(a("1066")),o=n(a("b18c")),i=n(a("f44c"));t.default={name:"TestPlan",components:{PackagingTest:r.default,TestPlanEdit:o.default,TestPlanList:i.default},data:function(){return{condition:{}}},methods:{refresh:function(){this.$refs.testPlanList.initTableData()}}}},"23b8":function(e,t,a){},"250f":function(e,t,a){"use strict";a.r(t);var n=a("0a69"),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=r.a},"25b2":function(e,t,a){"use strict";a.r(t);var n=a("a74d"),r=a("3e7e");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);a("668b");var i=a("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,"d2b482c0",null);t["default"]=s.exports},"26a6":function(e,t,a){"use strict";a("af44")},2797:function(e,t,a){"use strict";a.r(t);var n=a("2cc4"),r=a("021f");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);a("a6f3");var i=a("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,"123c492a",null);t["default"]=s.exports},"297c":function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(a("365c"));t.default={getTestBuriedProjList:function(e){return r.default({method:"post",url:"v1/buried/project/fetchList",data:e})},getTestBuriedEventList:function(e){return r.default({method:"post",url:"v1/buried/event/fetchList",data:e})},getTestBuriedEnumList:function(e){return r.default({method:"post",url:"v1/buried/event/fetchColumnEnum",data:e})},getTestBuriedCheckList:function(e){return r.default({method:"post",url:"v1/buried/event/checkIsExistBuried",data:e})}}},"2a3b":function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=a("7a93"),o=n(a("d22a")),i=n(a("12bf")),s=n(a("c081")),l=n(a("0f41")),c=n(a("94ef")),u=n(a("70d6")),d=n(a("60ed")),p=n(a("9aa6"));t.default=[{path:"gitLab/projects",name:r.PathName.GitLabProjects,component:l.default},{path:"gitLab/project/branches",name:r.PathName.GitLabProjectBranches,component:s.default},{path:"/coverage/pipeline/list",name:r.PathName.Pipeline,component:c.default,meta:{isUsingSocketInfo:!0}},{path:"/coverage/pipeline/report/trend",name:r.PathName.PipelineFullCoverageTrend,component:d.default},{path:"/coverage/pipeline/build/record",name:r.PathName.PipelineBuildRecord,component:u.default,meta:{isUsingSocketInfo:!1}},{path:"/coverage/pipeline/build/record/:pipelineId",name:r.PathName.PipelineBuildRecordByPipelineId,component:u.default,meta:{isUsingSocketInfo:!1}},{path:"/coverage/pipeline/server/build/record",name:r.PathName.PipelineServerBuildRecord,component:i.default,meta:{isUsingSocketInfo:!1}},{path:"/coverage/pipeline/server/build/record/:pipelineId",name:r.PathName.PipelineServerBuildRecordByPipelineId,component:i.default,meta:{isUsingSocketInfo:!1}},{path:"/coverage/pipeline/console/:pipelineId",name:r.PathName.PipelineBuildConsole,component:o.default,meta:{isUsingSocketInfo:!1}},{path:"/coverage/sonar",name:r.PathName.FullSonar,component:p.default}]},"2ad2":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{"destroy-on-close":!0,visible:e.dialogVisible,title:"请选择用例目录",width:"20%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("node-tree",{attrs:{disabled:!0,"tree-nodes":e.treeNodes},on:{"update:treeNodes":function(t){e.treeNodes=t},"update:tree-nodes":function(t){e.treeNodes=t},nodeSelectEvent:e.nodeClick}}),a("template",{slot:"footer"},[a("dialog-footer",{on:{cancel:function(t){e.dialogVisible=!1},confirm:e.save}})],1)],2)},r=[]},"2bc2":function(e,t,a){"use strict";a.r(t);var n=a("b793"),r=a("1386");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);a("d9e9");var i=a("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,"33f436f4",null);t["default"]=s.exports},"2c61":function(e,t,a){"use strict";a("dd17")},"2c75":function(e,t,a){},"2cbd":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-aside",{attrs:{id:"aside",width:e.asideWidth}},[a("el-menu",{class:e.menuClass,attrs:{collapse:e.asideHidden,"default-active":e.$route.name,router:""},on:{select:e.handleChangeRouter}},[e._l(e.sideMenu,(function(t,n){return[t.sub_menu?a("el-submenu",{key:n,attrs:{index:t.route.name,hidden:t.hidden}},[a("template",{slot:"title"},[t.icon?a("i",{class:t.icon}):a("img",{staticStyle:{margin:"0 5px"},attrs:{src:t.img,alt:""}}),a("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.text))])]),e._l(t.sub_menu,(function(t,n){return a("el-menu-item",{key:n,attrs:{index:""+t.route.name,route:t.route,hidden:t.hidden}},[a("i",{class:t.icon}),a("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.text))])])}))],2):a("el-menu-item",{key:n,attrs:{index:""+t.route.name,route:t.route,hidden:t.hidden}},[t.icon?a("i",{class:t.icon}):a("img",{staticStyle:{margin:"0 5px"},attrs:{src:t.img,alt:""}}),a("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.text))])])]}))],2),a("div",{staticClass:"pop",on:{click:function(t){e.asideHidden=!e.asideHidden}}})],1)},r=[]},"2cc4":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{staticClass:"dialog-title",attrs:{"close-on-click-modal":!1,visible:e.dialogVisible,title:"关联测试用例",width:"60%"},on:{"update:visible":function(t){e.dialogVisible=t},close:e.close}},[a("el-container",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"main-content"},[a("el-aside",{staticClass:"tree-aside",attrs:{width:"250px"}},[a("select-menu",{attrs:{"current-data":e.currentProject,data:e.projects,title:"切换项目"},on:{dataChange:e.changeProject}}),a("node-tree",{ref:"nodeTree",staticClass:"node-tree",attrs:{"current-node":e.selectNode,"tree-nodes":e.treeNodes},on:{nodeSelectEvent:e.nodeChange}})],1),a("el-container",[a("el-main",{staticClass:"case-content"},[a("table-header",{attrs:{condition:e.condition,"show-create":!1},on:{search:e.handleSearch}}),a("el-table",{ref:"table",staticClass:"test-content adjust-table",attrs:{data:e.tableData,"row-key":"id"},on:{"selection-change":e.handleSelectionChange,"filter-change":e.filter,"select-all":e.handleSelectAll}},[a("el-table-column",{attrs:{type:"selection"}}),a("el-table-column",{attrs:{label:"用例名称",prop:"name","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{filters:e.priorityOptions,"column-key":"importance",label:"用例等级",prop:"importance","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(e){return[a("priority-table-item",{attrs:{value:e.row.importance}})]}}])}),a("el-table-column",{attrs:{"column-key":"caseType",label:"类型",prop:"caseType","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(e){return[a("case-type-table-item",{attrs:{value:e.row.caseType}})]}}])})],1),a("table-pagination",{attrs:{change:e.initTableData,"current-page":e.currentPage,"page-size":e.pageSize,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t}}})],1)],1)],1),a("template",{slot:"footer"},[a("dialog-footer",{on:{cancel:function(t){e.dialogVisible=!1},confirm:e.save}})],1)],2)],1)},r=[]},"2ce7":function(e,t,a){"use strict";var n=a("278c").default;a("d81d"),a("4fad"),a("d3b7"),a("6062"),a("3ca3"),a("ddb0"),a("a630"),a("159b"),a("b0c0");var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=a("365c"),i=r(a("e73b")),s=r(a("6d22")),l=r(a("df34")),c=r(a("ba07")),u=a("b74e"),d=a("93f3"),p=a("b889"),f=a("e551"),m=r(a("5fd9")),h=r(a("fbc4")),b=r(a("f643")),g=r(a("ef57")),v=r(a("25b2")),y=r(a("be65")),_=r(a("6535")),S=r(a("63ac")),T=r(a("fd2bf")),w=a("ec8b"),x=Object.entries(p.executionType).map((function(e){var t=n(e,2),a=t[0],r=t[1];return{text:r,value:a}})),E=Object.entries(p.priorityType).map((function(e){var t=n(e,2),a=t[0],r=t[1];return{text:r,value:a}})),C=Object.entries(f.reviewCaseStatusType).map((function(e){var t=n(e,2),a=t[0],r=t[1];return{text:r,value:a}})),P=Object.entries(p.caseTypeType).map((function(e){var t=n(e,2),a=t[0],r=t[1];return{text:r,value:a}})),k=Object.entries(p.caseBatchEditType).map((function(e){var t=n(e,2),a=t[0],r=t[1];return{text:r,value:a}}));t.default={name:"TestCaseList",components:{ReviewCaseStatusTableItem:T.default,ExecutionTypeTableItem:_.default,CaseTypeTableItem:y.default,TestCaseDetail:g.default,TableOperator:c.default,PriorityTableItem:S.default,TablePagination:s.default,NodeBreadcrumb:v.default,TableHeader:l.default,ShowMoreBtn:b.default,BatchEdit:m.default,BatchMove:h.default},data:function(){return{executionOptions:x,priorityOptions:E,statusOptions:C,caseTypeOptions:P,tableData:[],currentPage:1,pageSize:d.PAGINATION_SIZE.LARGE,total:0,selectRows:new Set,isDisabled:!0,caseFilter:{},buttons:[{name:"批量编辑用例",handleClick:this.handleBatchEdit},{name:"批量移动用例",handleClick:this.handleBatchMove},{name:"批量删除用例",handleClick:this.handleDeleteBatch}],caseBatchEditOptions:k,batchEditValueArr:{priority:E,caseType:P,method:x,maintainer:[]}}},props:{currentProject:Object,treeNodes:Array,selectNode:Object,selectParentNodes:Array,condition:Object,readOnly:Boolean},computed:{caseIds:function(){return Array.from(this.selectRows).map((function(e){return e.id}))},table3BtnWidth:function(){return i.default["table3BtnWidth"]},tableTimeWidth:function(){return i.default["tableTimeWidth"]},loading:function(){return this.$store.state.loading}},inject:["users"],methods:{setSelectOptions:function(){this.setModuleOptions(),this.setMaintainerOptions(),this.condition.executionOptions=this.executionOptions,this.condition.priorityOptions=this.priorityOptions,this.condition.caseTypeOptions=this.caseTypeOptions,this.$emit("update:condition",this.condition)},initTableData:function(){this.setSelectOptions(),this.getData()},getData:function(e){var t=this,a={offset:this.pageSize*(this.currentPage-1),limit:this.pageSize,name:e,treeId:this.selectNode.id,projId:this.selectNode.id?void 0:this.currentProject.id};this.caseFilter=sessionStorage.getItem(this.$route.path),this.caseFilter=this.caseFilter?JSON.parse(this.caseFilter):{},"{}"!==JSON.stringify(this.caseFilter)&&(Object.assign(a,this.caseFilter),this.$refs.table.columns.forEach((function(e){e.filteredValue=t.caseFilter[e.columnKey]}))),o.testCaseApi.getTestCaseList(a).then((function(e){var a=e.data;t.total=a.total,t.tableData=a.data,t.tableData.forEach((function(e){e.updatedAt=u.formatTime(e.updatedAt),e.treePath=w.getModuleByTreeId(t.treeNodes,e.treeId).path}))}))},handleSearch:function(e){this.currentPage=1,this.getData(e)},testCaseModify:function(e,t){this.treeNodes.length<1?this.$message.warning("请先新建模块"):(this.$eventBus.$emit("testCaseAddOrEditOrCopy",e,t),this.$emit("update:readOnly",!1))},handleShow:function(){this.$emit("update:readOnly",!0)},handleDelete:function(e){var t=this;this.$alert("确认删除测试用例'".concat(e.name,"'？删除后评审及测试计划关联的用例均会被删除。"),"",{confirmButtonText:"确定",showCancelButton:!0,cancelButtonText:"取消",callback:function(a){"confirm"===a&&o.testCaseApi.updateTestCase(e.id,{type:p.caseUpdateTypeEnum.DELETE}).then((function(){t.refresh()}))}})},handleDeleteBatch:function(){var e=this;this.$alert("确认删除测试用例？删除后评审及测试计划关联的用例均会被删除。","",{confirmButtonText:"确定",showCancelButton:!0,cancelButtonText:"取消",callback:function(t){if("confirm"===t){var a={caseIds:e.caseIds,type:p.caseUpdateTypeEnum.DELETE};o.testCaseApi.updateTestCaseBatch(a).then((function(){e.refresh()}))}}})},refresh:function(){this.$emit("refresh")},handleSelectAll:function(e){var t=this;e.length>0?(this.tableData.forEach((function(e){t.$set(e,"isDisabled",!1)})),this.selectRows=new Set(e)):(this.selectRows.clear(),this.tableData.forEach((function(e){t.$set(e,"isDisabled",!0)})))},handleSelectionChange:function(e,t){-1===e.indexOf(t)?this.$set(t,"isDisabled",!0):this.$set(t,"isDisabled",!1),this.selectRows=new Set(e)},handleUpload:function(){this.$eventBus.$emit("TestCaseImport")},batchEdit:function(e){var t=this,a={};e.type===p.caseBatchEditEnum.PRIORITY?a=Object.assign({importance:parseInt(e.value)},a):e.type===p.caseBatchEditEnum.CASE_TYPE?a=Object.assign({caseType:e.value},a):e.type===p.caseBatchEditEnum.MAINTAINER?a=Object.assign({qa:e.value},a):e.type===p.caseBatchEditEnum.METHOD&&(a=Object.assign({executionType:parseInt(e.value)},a));var n={caseIds:this.caseIds,type:p.caseUpdateTypeEnum.UPDATE_CASE,case:a};o.testCaseApi.updateTestCaseBatch(n).then((function(){t.refresh()}))},batchMove:function(e){var t=this,a={treeId:e},n={caseIds:this.caseIds,type:p.caseUpdateTypeEnum.UPDATE_CASE,case:a};o.testCaseApi.updateTestCaseBatch(n).then((function(){t.refresh()}))},filter:function(e){this.currentPage=1,u._filter(e,this.caseFilter,this.$route.path),this.initTableData()},handleBatchEdit:function(){this.$refs.batchEdit.open()},handleBatchMove:function(){this.$refs.batchMove.open(this.treeNodes)},setModuleOptions:function(){this.condition.moduleOptions=w.getModuleOptions(this.treeNodes)},setMaintainerOptions:function(){this.batchEditValueArr.maintainer=this.users,this.condition.maintainerOptions=this.users}}}},"2d5a":function(e,t,a){},"2dc3":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.packagingTestRules=t.packagingTestForm=t.planRules=t.planForm=void 0;var n=a("00e0");t.planForm={status:n.planStatusEnum.INIT,name:"",projIds:[],projNames:[],owner:"",stage:"",description:"",targetStart:"",targetEnd:"",storyIds:[],sprintId:"",parent:"",pipelineIds:[]},t.planRules={name:[{required:!0,message:"请输入测试计划名称",trigger:"blur"}],projIds:[{required:!0,message:"请选择所属项目",trigger:"change"}],owner:[{required:!0,message:"请选择负责人",trigger:"change"}],stage:[{required:!0,message:"请选择测试阶段",trigger:"change"}],sprintId:[{required:!0,message:"请选择关联迭代",trigger:"change"}],description:[{max:200,message:"长度必须小于200",trigger:"blur"}],parent:[{required:!0,message:"请选择对应功能测试计划",trigger:"change"}],storyIds:[{required:!0,message:"请选择对应提测需求",trigger:"change"}]},t.packagingTestForm={name:"",summary:"",influence:"",server:"",result:"",postpone:"",reason:"",status:n.planInstanceStatusEnum.INIT},t.packagingTestRules={name:[{required:!0,message:"请输入提测需求名称",trigger:"blur"}],server:[{required:!0,message:"请输入提测服务及commit id",trigger:"blur"}],result:[{required:!0,message:"请输入冒烟结果链接",trigger:"blur"}],postpone:[{required:!0,message:"请选择是否延期",trigger:"change"}]}},"2eb0":function(e,t,a){"use strict";a.r(t);var n=a("686a"),r=a("d11c");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);a("21ce");var i=a("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,"ce3f9064",null);t["default"]=s.exports},"2f26":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"status-button"},[a("el-col",[a("el-button",{attrs:{disabled:e.isReadOnly||e.isFailure,icon:e.status===e.planResultEnum.PASS?"el-icon-check":"",loading:e.loading&&e.status===e.planResultEnum.PASS,round:"",size:"mini",type:"success"},on:{click:function(t){return e.setStatus(e.planResultEnum.PASS)}}},[e._v(" "+e._s(e.planResultType[e.planResultEnum.PASS])+" ")])],1),a("el-col",[a("el-button",{attrs:{disabled:e.isReadOnly,icon:e.status===e.planResultEnum.FAIL?"el-icon-check":"",loading:e.loading&&e.status===e.planResultEnum.FAIL,round:"",size:"mini",type:"danger"},on:{click:function(t){return e.setStatus(e.planResultEnum.FAIL)}}},[e._v(" "+e._s(e.planResultType[e.planResultEnum.FAIL])+" ")])],1),a("el-col",[a("el-button",{attrs:{disabled:e.isReadOnly,icon:e.status===e.planResultEnum.BLOCK?"el-icon-check":"",loading:e.loading&&e.status===e.planResultEnum.BLOCK,round:"",size:"mini",type:"warning"},on:{click:function(t){return e.setStatus(e.planResultEnum.BLOCK)}}},[e._v(" "+e._s(e.planResultType[e.planResultEnum.BLOCK])+" ")])],1),a("el-col",[a("el-button",{attrs:{disabled:e.isReadOnly,icon:e.status===e.planResultEnum.SKIP?"el-icon-check":"",loading:e.loading&&e.status===e.planResultEnum.SKIP,round:"",size:"mini",type:"info"},on:{click:function(t){return e.setStatus(e.planResultEnum.SKIP)}}},[e._v(" "+e._s(e.planResultType[e.planResultEnum.SKIP])+" ")])],1)],1)},r=[]},"2f2c":function(e,t,a){"use strict";a("f71b")},"2f36":function(e,t,a){},"2f6f":function(e,t,a){e.exports=a.p+"img/jira_subtask.5cfdffb0.svg"},3041:function(e,t,a){"use strict";a.r(t);var n=a("14b7"),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=r.a},3046:function(e,t,a){"use strict";a("b0c0");var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=a("365c"),o=n(a("e73b")),i=n(a("5ec0")),s=n(a("df34")),l=n(a("ba07"));t.default={name:"GitLabProjectBranches",components:{TableHeader:s.default,TableOperator:l.default,DialogFooter:i.default},computed:{projectId:function(){return this.$route.query.projectId},projectName:function(){return this.$route.query.projectName},formLabelWidth:function(){return o.default["formLabelWidth"]},tableLoading:function(){return this.$store.state.loading}},data:function(){return{dialogFormVisible:!1,condition:{},tableData:[],options:[],loading:!1,branchForm:{ref:"",branch:""},branchRules:{ref:[{required:!0,message:"请选择基础分支",trigger:"blur"}],branch:[{required:!0,message:"请输入新分支名",trigger:"blur"}]}}},mounted:function(){this.handleGetProjectBranches("")},methods:{remoteMethod:function(e){var t=this;this.loading=!0,setTimeout((function(){t.loading=!1,r.coverageApi.getGitlabProjectBranches(t.projectId,{search:e}).then((function(e){t.options=e.data}))}),300)},handleGetProjectBranches:function(e){var t=this;r.coverageApi.getGitlabProjectBranches(this.projectId,{search:e}).then((function(e){t.tableData=e.data}))},handleCreateGitBranch:function(){var e=this;r.coverageApi.createGitlabProjectBranch(this.projectId,this.branchForm).then((function(){e.dialogFormVisible=!1,e.handleGetProjectBranches()}))},handleDeleteBranch:function(e){var t=this;this.$alert("确认删除该分支?","",{confirmButtonText:"确定",showCancelButton:!0,cancelButtonText:"取消",callback:function(a){"confirm"===a&&r.coverageApi.deleteGitlabProjectBranch(t.projectId,{branch:e.name}).then((function(){t.handleGetProjectBranches()}))}})}}}},"30b2":function(e,t,a){"use strict";a("2d5a")},"30f2":function(e,t,a){},"323b":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("test-plan-list",{ref:"testPlanList",attrs:{condition:e.condition,stage:"notSmoke"},on:{"update:condition":function(t){e.condition=t}}}),a("test-plan-edit",{ref:"testPlanEditDialog",attrs:{condition:e.condition},on:{refresh:e.refresh}}),a("packaging-test",{ref:"packingTestDialog",on:{refresh:e.refresh}})],1)},r=[]},3411:function(e,t,a){"use strict";a.r(t);var n=a("d2e9"),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=r.a},3582:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("table-search-component",{attrs:{component:e.component},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",e._b({staticClass:"search-select",attrs:{filterable:"",placeholder:"请选择",size:"small"},model:{value:t.component.value,callback:function(a){e.$set(t.component,"value",a)},expression:"scope.component.value"}},"el-select",t.component.props,!1),e._l(e.options,(function(t){return a("el-option",{key:t.value,attrs:{label:e.label(t),value:t.value}})})),1)]}}]),model:{value:e.component.operator.value,callback:function(t){e.$set(e.component.operator,"value",t)},expression:"component.operator.value"}})},r=[]},3591:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADIBAMAAABfdrOtAAAAJFBMVEVHcEwwf/4wfv4qe/8wfv4wf/4vfv8wfv4ufv8wf/8wf/8xf/5lspxrAAAAC3RSTlMAqtsO8cQ/iSNYcTiBJFcAAAY3SURBVHjavVxLbxNXFJ7EwbHdjSmPtmSDePUxG1MRaOmmCCkNnU0SiYrgTaoiIeqNIyJSyRsXUbFgYwrtAm9MW9FK2eBhHBvfP9eGuIlj+7zv5NtGk89zXve85gYBG5l7LzaP3jznkjPLRzd/LwUp4PLL0A0jWX5V98uQ+fF9N47klEeazNPQTYY/mrtlByP+0wdFdsPhWLWbwNXQUbi2ZuT42TEQ/2Ti+M3x8J3Bqv5wLm2WzIbjY/UQOJz7VMXxl5PhgoLkuZPimJjjFzGHS1pCjitOgVjmldlQQ+LaonBZczp8K+B46LTgK7+g5nAxV2CZOT2J66cuLL7AspGJhCewLWfDAoNjylnRoEnmzCRvSY55ZwcVwzJlDyRdguRz5wNF/EVCLyTtUtoaoV7Fi0YorRyhT7/zH7x6sb5iMTDSRz4enH1fHlf7yizxZOefoVSfiHDgSdyUHK75UBXBssR7jPy4q+i7JEAwfiRMRa6gLGc1jlgVnm5tRYxfEJ/TDbHaJ593aMaxOOGBXKQ4ue9gv6sk9PauJqBWhUnjEuRaj0RejzpJDIbuvMhVpqU6ZAhgSZQIremSm1F55bSnQybiSxm1revaXLAq8MQqRnKJrUvU3hM0Lciz41fBUA2EXIvB3tmdxkma3EdrhqxzmikE1IBdSV/8xdyjpEMVTcxD5YmpCgx5SkFV0rMU/dus0EAaF25eHWbdXqVIZlixdcZWAh5h5fdNp4zzDNvc0yheMJB1+SznmMBdkfJFgiThJfNkwZznSBvXe2wkGWi+YiTBq4HrnPrKSjLIJvCaKTGKq82pfawku9ZJVYqkCRcYhfCMcyl6/MC8Ktb2FVH9f83pAdui8OBIoVodSxRJhe6vZqguxBtjO7xNW/DwCQqgTPsAZcFArczNp3bNk+wMJSWTm7xzlPesLVjyVxaJnIuTrlB+tuMoTWufl+z29TjzmI4h0A/Mk9HRbphUsuONjCatumbcS1g4bV7MSyLO48Y5Ai2tnQOcQ7KoDlyDpIpD0rHN2OosErgtXuE8vcYj6ZrmXy0eCfQqrBdhk3RKimRo/wC3zNxqnkkmtQy4M3s+yXjTthA5rkL5g5cRteTZoykBifumJNz/2U+qJPOwZ/sc3wueE5E4d7s+2Ck7LnnqtIzEJcubm+snItlDUhIVDoWEpZOTyDZO/NQPyYdBrozMPB5HHvzkFpYw3/jvjxftJBew9aXdWHPHGrsGA+lcCAiLs4NCkrSwBsz/i2P5yHRoLWDzvv2Q+dBCMjzM+XVMknXmjLKBk3wyHHdHWA6MUOf1KdHIlOUAS9xgrwuUUJLR+e2Qd3ca7A0OPE0dH8rtDftvjx7GuRDLP0NZCnx35Vxy/tQPkhSsixZBjKUgTlbcx3KnbiDCHFJzNvVNeqbqe1iJLdw1BivU10gjqR0IUYPbTFOqclQirypiFQ0pSR4We1bVIpD0JnZcmppJ8FGBf21ZWCZK26pdxCgU3xdk4c7fEz8GDDr9G3is2tOQVMBu7KwvlQA9kBYsSdX3C1lYuZFqasKd0HZgdfV1JFtgc7HiS+9B8BUYAqc1DXq25otwBtrSkeRBC8ppxj/Aqgw8rSr7CMHAv+rCA+a+lmQLtKBp+TiDHViKcMr0WksyA0aO8fWFJS3JFKzcmnhYxh2bbyOO2tCS5OEEcdbDsTjZ5xpIw72kJQmQYF4D3NQa7PvI6lVHT1KGc/aCN5I5+Hwd8ZS2J5K2YLFPjZ541qJAVThb1WCset5KgeStaAFW3XsUzyTFmLD1XktfWmnYV1E1lTTaVhr+uKjYcRGjJV5fl6MtX1+X46x2fG9zEv+q31atAQqxJu+L+fB2/15ftayH2OyX0ai2hS3vDklkO/Ppv8ghfTTpJUy2hCmgZx/x5vYJp7h5biRZYNUxNjNmflduM+NjqvRfhhvs6jJKW1iSXRG9sCzpt+RiBGw2jkZ4WWle0KhFeFkF88qYEVe/L64w5Y5/S9Hp2xBy6C5ckVUsn+laJbla2u/xjoUvsdVADfZ1PoYrgwLmxUTGy4+C4DF9upivcTqcC6kC4mqta88CP4AvCYsfBP4AXHf2UT3wi8svD0rN/8Vtu/ji3t/rK6FLztwUXkH3L8T/kBOi51OrAAAAAElFTkSuQmCC"},"35e5":function(e,t,a){"use strict";a("b0c0"),a("d81d"),a("7db0"),a("a4d3"),a("e01a"),a("159b"),a("99af");var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=a("365c"),o=n(a("e73b")),i=n(a("5ec0")),s=a("b74e"),l=a("b889"),c=a("00e0"),u=n(a("f353")),d=a("2dc3"),p=a("2ef0");t.default={name:"TestPlanEdit",components:{TestPlanStatusButton:u.default,DialogFooter:i.default},data:function(){return{operationEnum:l.operationEnum,planStageEnum:c.planStageEnum,planStageOptions:[],dialogFormVisible:!1,form:d.planForm,rules:d.planRules,operation:"",ownerOptions:[],projectOptions:[],storyOptions:[],sprintOptions:[],planOptions:[],pipelineOptions:[],pickerOptionsStart:{}}},props:{condition:Object},computed:{formLabelWidth:function(){return o.default["formLabelWidth"]}},watch:{"form.sprintId":function(){var e=this;r.jiraApi.getStoryBySprint({sprintId:this.form.sprintId}).then((function(t){e.storyOptions=t.data}))},"form.projIds":function(){this.setSprintOptions()}},mounted:function(){var e=this;this.$eventBus.$on("testPlanCreateOrUpdate",(function(t,a){e.open(t,a),console.log("sprintId",e.form.sprintId)})),r.coverageApi.getPipelineList({limit:1e3}).then((function(t){e.pipelineOptions=t.data.data}))},methods:{initOptions:function(){this.ownerOptions=this.condition.ownerOptions,this.projectOptions=this.condition.projectOptions,this.pickerOptionsStart=s.datePickerOptionsStart(),this.setPlanOptions()},open:function(e,t){var a=this;this.planStageOptions=t,this.dialogFormVisible=!0,this.$nextTick((function(){a.form={status:c.planStatusEnum.INIT,name:"",projIds:[],projNames:[],owner:"",stage:"",description:"",targetStart:"",targetEnd:"",epics:[],parent:""},a.operation=l.operationEnum.ADD,e&&(a.operation=l.operationEnum.EDIT,a.form=p.cloneDeep(e)),a.initOptions()}))},savePlan:function(){var e=this;this.$refs.planForm.validate((function(t){if(!t)return!1;if(!e.validate())return!1;if(e.operation===l.operationEnum.ADD){var a=e.buildParams();r.testPlanApi.createTestCasePlan(a).then((function(){e.$emit("refresh")}))}else if(e.operation===l.operationEnum.EDIT){var n=e.buildParams();r.testPlanApi.updateTestCasePlan(e.form.id,n).then((function(){e.$emit("refresh")}))}e.dialogFormVisible=!1}))},validate:function(){return!(this.form.targetStart>this.form.targetEnd)||(this.$message.warning("开始日期不能大于结束日期"),!1)},buildParams:function(){var e=this,t={name:this.form.name,stage:this.form.stage,projIds:this.form.projIds,projNames:this.form.projIds.map((function(t){return e.projectOptions.find((function(e){return e.id===t})).name})),owner:this.form.owner,targetStart:this.form.targetStart||void 0,targetEnd:this.form.targetEnd||void 0,description:this.form.description,storyIds:this.form.storyIds||void 0,pipelineIds:this.form.pipelineIds||void 0,sprintId:this.form.sprintId,status:this.form.status};return t.stage===c.planStageEnum.SMOKE&&(t=Object.assign({parent:this.form.parent},t)),t},statusChange:function(e){this.form.status=e,this.$forceUpdate()},setPlanOptions:function(e){var t=this,a={stage:c.planStageEnum.SYSTEM,name:e||""};r.testPlanApi.getTestCasePlanList(a).then((function(e){var a=e.data;t.planOptions=a.data}))},setSprintOptions:function(){var e=this;this.sprintOptions=[],this.form.projIds.forEach((function(t){console.log("proj",t),r.jiraApi.getSprintByProject({projId:t}).then((function(t){e.sprintOptions=e.sprintOptions.concat(t.data.datas)}))}))}}}},"365c":function(e,t,a){"use strict";a.r(t),a.d(t,"jiraApi",(function(){return f.a})),a.d(t,"testCaseApi",(function(){return h.a})),a.d(t,"userApi",(function(){return g.a})),a.d(t,"testReviewApi",(function(){return y.a})),a.d(t,"testPlanApi",(function(){return S.a})),a.d(t,"coverageApi",(function(){return w.a})),a.d(t,"autoApi",(function(){return E.a})),a.d(t,"organizationApi",(function(){return P.a})),a.d(t,"gitlabChatApi",(function(){return O.a})),a.d(t,"approvalApi",(function(){return D.a})),a.d(t,"dataToolApi",(function(){return L})),a.d(t,"sonarApi",(function(){return V.a}));a("d3b7");var n=a("bc3a"),r=a.n(n),o=a("a78e"),i=a.n(o),s=a("ab0e"),l=a.n(s),c=a("5c96"),u=a("6ca1a"),d=a("4360"),p=a("6e00"),f=a.n(p),m=a("c8e8"),h=a.n(m),b=a("ea9b"),g=a.n(b),v=a("c17a"),y=a.n(v),_=a("7dbe"),S=a.n(_),T=a("1663"),w=a.n(T),x=a("ab1a"),E=a.n(x),C=a("64ef"),P=a.n(C),k=a("60c2"),O=a.n(k),I=a("db5d"),D=a.n(I),j="/v1/dataTool/apollo/config",A="/v1/dataTool/apolloIntl/config",R="/v1/dataTool/apollo/notify",N="/v1/dataTool/apolloIntl/notify",F="/v1/dataTool/userConfig",$="/v1/dataTool/spuConfig",M="/v1/dataTool/orderConfig",B="/v1/dataTool/lessonConfig",L={getApolloApps:function(e){return G({method:"get",url:"".concat(j,"/apps"),params:e})},getApolloAppItems:function(e){return G({method:"get",url:"".concat(j,"/app/").concat(e,"/items")})},updateApolloAppItem:function(e,t){return G({method:"put",url:"".concat(j,"/app/").concat(t,"/item/update"),data:e})},releaseApolloAppItem:function(e,t){return G({method:"post",url:"".concat(j,"/app/").concat(t,"/item/release"),data:e})},createApolloAppChat:function(e){return G({method:"post",url:"".concat(R),data:e})},updateApolloAppChat:function(e,t){return G({method:"put",url:"".concat(R,"/").concat(t),data:e})},deleteApolloAppChat:function(e){return G({method:"delete",url:"".concat(R,"/").concat(e)})},getApolloAppChat:function(e){return G({method:"get",url:"".concat(R),params:e})},getApolloIntlApps:function(e){return G({method:"get",url:"".concat(A,"/apps"),params:e})},getApolloIntlAppItems:function(e){return G({method:"get",url:"".concat(A,"/app/").concat(e,"/items")})},updateApolloIntlAppItem:function(e,t){return G({method:"put",url:"".concat(A,"/app/").concat(t,"/item/update"),data:e})},releaseApolloIntlAppItem:function(e,t){return G({method:"post",url:"".concat(A,"/app/").concat(t,"/item/release"),data:e})},createApolloIntlAppChat:function(e){return G({method:"post",url:"".concat(N),data:e})},updateApolloIntlAppChat:function(e,t){return G({method:"put",url:"".concat(N,"/").concat(t),data:e})},deleteApolloIntlAppChat:function(e){return G({method:"delete",url:"".concat(N,"/").concat(e)})},getApolloIntlAppChat:function(e){return G({method:"get",url:"".concat(N),params:e})},getSpuDetailData:function(e){return G({method:"post",url:"".concat($,"/spu/detail"),data:e})},createSampleOrder:function(e){return G({method:"post",url:"".concat(M,"/sample/order"),data:e})},lessonProgress:function(e){return G({method:"post",url:"".concat(B,"/lesson_progress"),data:e})},getUserClass:function(e){return G({method:"post",url:"".concat(F,"/class"),data:e})},xshareRelationshipData:function(e){return G({method:"post",url:"".concat(F,"/xshare/relationship"),data:e})},createAccountTypeUser:function(e){return G({method:"post",url:"".concat(F,"/create/sample/user"),data:e})},deleteUserAllClass:function(e){return G({method:"post",url:"".concat(F,"/delete/class"),data:e})},updatePromoterState:function(e){return G({method:"post",url:"".concat(F,"/promoter/state"),data:e})},orderRefund:function(e){return G({method:"post",url:"".concat(F,"/refund"),data:e})},updateGlobal:function(e){return G({method:"post",url:"".concat(F,"/handle/update_global_ios_ver"),data:e})},resetUserCheckinDays:function(e){return G({method:"post",url:"".concat(F,"/handle/reset_user_checkin_days"),data:e})},createInviterOrder:function(e){return G({method:"post",url:"".concat(F,"/create/inviter_order"),data:e})},deleteAccount:function(e){return G({method:"delete",url:"".concat(F,"/handle/delete_user"),data:e})},deleteUserSampleClass:function(e){return G({method:"delete",url:"".concat(F,"/handle/delete_user_order"),data:e})}},z=a("51bb"),V=a.n(z);l()(r.a,{debug:!1});var U=r.a.create({baseURL:"https://zero.jiliguala.com"});U.cancel=r.a.cancel,U.interceptors.request.use((function(e){var t="_NOA_PROD",a="JWT_TOKEN".concat(t);return i.a.get(a)&&(e.headers.AUTHORIZATION=i.a.get(a)),d["default"].state.loading=!0,"multipart/form-data"===e.headers["Content-Type"]||(e.data&&(e.data=Object(u["decamelizeKeys"])(e.data)),e.params&&(e.params=Object(u["decamelizeKeys"])(e.params))),e}),(function(e){return d["default"].state.loading=!1,Promise.reject(e)})),U.interceptors.response.use((function(e){return d["default"].state.loading=!1,e.data&&"application/json"===e.headers["content-type"]&&(e.data=Object(u["camelizeKeys"])(e.data)),"get"!==e.config.method&&Object(c["Message"])({message:"操作成功",type:"success",duration:3e3,showClose:!0}),e.data}),(function(e){d["default"].state.loading=!1;var t=e.response.status,a=e.response.data.msg||e.response.data.message||e.response.data||"参数错误";return 400===t?Object(c["Message"])({message:a,type:"warning",duration:5e3,showClose:!0}):401===t?(Object(c["Message"])({message:e.response.data.msg,type:"warning",duration:2e3,showClose:!0}),window.location.href=window.origin+"/ssoLogin"):403===t?Object(c["Message"])({message:"您没有权限做此操作哦",type:"error",duration:6e3,showClose:!0}):404===e.response.status?Object(c["Message"])({message:"接口不存在",type:"warning",duration:5e3,showClose:!0}):Object(c["Message"])({message:e.response.data.msg||e.response.data.message||"服务器内部错误",type:"error",duration:5e3,showClose:!0}),Promise.reject(e)}));var G=t["default"]=U},3668:function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(a("e73b"));t.default={name:"HiddenButton",data:function(){return{hidden:!1}},computed:{width:function(){return this.hidden?this.asideWidth:this.unfoldWidth},asideWidth:function(){return this.$store.state.sidebar.asideWidth},unfoldWidth:function(){return this.asideWidth===r.default["asideWidth"]?r.default["unfoldButtonPosition"]:r.default["hiddenButtonPosition"]}},methods:{handleClick:function(){this.hidden=!this.hidden,this.$emit("click",this.hidden)}}}},3682:function(e,t,a){},3728:function(e,t,a){"use strict";a("6d5d")},3772:function(e,t,a){"use strict";a("7db0"),Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"SelectMenu",props:{data:Array,title:String,currentData:Object},data:function(){return{value:""}},watch:{currentData:function(){this.value=this.currentData.id}},methods:{changeData:function(e){var t=this.data.find((function(t){return t.id===e}));this.$emit("dataChange",t)}}}},"38c5":function(e,t,a){"use strict";a("dc37")},3922:function(e,t,a){},3931:function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=a("365c"),o=n(a("df34")),i=n(a("ba07")),s=a("7a93");t.default={name:"GitLabProjects",components:{TableHeader:o.default,TableOperator:i.default},data:function(){return{condition:{},tableData:[]}},computed:{loading:function(){return this.$store.state.loading}},mounted:function(){this.handleGetProjects("")},methods:{handleGetProjects:function(e){var t=this;r.coverageApi.getGitlabProjects({search:e}).then((function(e){t.tableData=e.data}))},handleToBranches:function(e){this.$router.push({name:s.PathName.GitLabProjectBranches,query:{projectId:e.id,projectName:e.pathWithNamespace}})}}}},3987:function(e,t,a){"use strict";a.r(t);var n=a("f4e8"),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=r.a},"39bc":function(e,t,a){"use strict";a("cde2")},"39ef":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",[e.text?a("span",[e._v(e._s(e.priorityType[e.value]))]):a("div",[e.value===e.priorityEnum.P1?a("el-tag",{attrs:{effect:"dark",size:"mini",type:"danger"}},[e._v(" "+e._s(e.priorityType[e.value])+" ")]):e._e(),e.value===e.priorityEnum.P2?a("el-tag",{attrs:{effect:"dark",size:"mini",type:"warning"}},[e._v(" "+e._s(e.priorityType[e.value])+" ")]):e._e(),e.value===e.priorityEnum.P3?a("el-tag",{attrs:{size:"mini",type:"danger"}},[e._v(" "+e._s(e.priorityType[e.value])+" ")]):e._e()],1)])},r=[]},"3a00":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("common-component",{directives:[{name:"show",rawName:"v-show",value:e.showSummary&&e.historyId,expression:"showSummary && historyId"}],attrs:{title:"Allure Report"}},[a("div",{staticClass:"allure-title"},[a("div",{staticClass:"allure-title-inline"},[a("div",{staticStyle:{width:"50%"}},[a("div",{staticStyle:{"font-size":"1.5em"}},[e._v("ALLURE REPORT "+e._s(e.allureNowDate))]),a("div",{staticStyle:{color:"#a09a8e"}},[e._v(e._s(e.allureStart)+" - "+e._s(e.allureStop)+" ("+e._s(e.allureDuration)+")")]),a("div",{staticStyle:{padding:"28px 0",margin:"auto"}},[a("div",{staticClass:"case-total"},[e._v(e._s(e.allureTotalCase))]),a("div",{staticStyle:{"text-align":"center",color:"#a09a8e"}},[e._v("test cases")])])]),a("div",{staticStyle:{width:"50%",overflow:"hidden"}},[a("div",{staticStyle:{height:"400px",width:"600px"},attrs:{id:"chartPie",options:e.orgOptions}})])])])]),a("common-component",{directives:[{name:"show",rawName:"v-show",value:e.showTestSuites&&e.historyId,expression:"showTestSuites && historyId"}]},[a("template",{slot:"header"},[a("div",{staticStyle:{display:"flex","justify-content":"space-between",background:"#fff"}},[a("div",{staticStyle:{display:"flex","align-items":"flex-end"}},[a("div",{staticStyle:{"margin-right":"5px"}},[e._v("Test Suites")]),a("span",{staticStyle:{color:"#a09a8e"}},[e._v(e._s(e.allureTotalCase)+" items total")])]),a("div",{staticStyle:{display:"flex","align-items":"center"}},[a("el-tag",{staticClass:"case-failed"},[e._v(e._s(e.allureStatistic.failed))]),a("el-tag",{staticClass:"case-broken"},[e._v(e._s(e.allureStatistic.broken))]),a("el-tag",{staticClass:"case-passed"},[e._v(e._s(e.allureStatistic.passed))]),a("el-tag",{staticClass:"case-skipped"},[e._v(e._s(e.allureStatistic.skipped))]),a("el-tag",{staticClass:"case-unknown"},[e._v(e._s(e.allureStatistic.unknown))])],1)])]),a("div",{staticStyle:{margin:"-20px"}},e._l(e.suitCaseGroups,(function(t,n){return a("el-row",{key:n},[a("div",{staticClass:"test-suit"},[a("el-col",{staticClass:"test-suit-name",attrs:{span:12}},[e._v(e._s(t.name))]),a("el-col",{attrs:{span:12}},[a("allure-report-bar",{attrs:{statistic:t.statistic}})],1)],1)])})),1)],2),a("common-component",[a("template",{slot:"header"},[a("div",{staticStyle:{display:"flex","justify-content":"space-between",background:"#fff"}},[a("div",{staticStyle:{display:"flex","align-items":"flex-end"}},[a("div",{staticStyle:{"margin-right":"5px"}},[e._v("Report Detail")])])])]),a("div",{staticStyle:{margin:"-20px"}},[a("el-row",{staticClass:"test-suit-show-all"},[a("div",{on:{click:function(t){return e.getSuitCaseDetail()}}},[e._v("Show all")])])],1)],2),a("allure-report-detail",{ref:"allureReportDetail"})],1)},r=[],o=a("365c"),i=a("b74e"),s=a("503f"),l=a("0a8f"),c=a("313e"),u=a("1f14"),d={name:"AllureReport",components:{AllureReportDetail:l["default"],AllureReportBar:s["default"],CommonComponent:u["a"]},props:{historyId:{type:String,default:""},showSummary:{type:Boolean,default:!0},showTestSuites:{type:Boolean,default:!0}},data:function(){return{allureNowDate:"",allureStart:"",allureStop:"",allureDuration:"",allureStatistic:{},allureTotalCase:"",allureSuccessRate:0,suitCaseGroups:[],suitCaseDetails:[],orgOptions:{}}},created:function(){this.getSummary()},watch:{historyId:function(){this.getSummary()}},methods:{initCharPie:function(){var e=document.getElementById("chartPie"),t=c["a"](e);this.orgOptions={tooltip:{trigger:"item",formatter:"{c} tests ({d}%)<br/>{b}"},graphic:{type:"text",left:"25%",top:"27%",style:{text:this.allureSuccessRate+"%",fontSize:25}},series:[{type:"pie",center:["30%","30%"],radius:["35%","45%"],avoidLabelOverlap:!1,hoverAnimation:!0,startAngle:90,label:{normal:{show:!0}},data:[{value:this.allureStatistic.failed,name:"Failed",itemStyle:{color:"#fd5a3e"}},{value:this.allureStatistic.broken,name:"Broken",itemStyle:{color:"#ffd050"}},{value:this.allureStatistic.passed,name:"Passed",itemStyle:{color:"#97cc64"}},{value:this.allureStatistic.skipped,name:"Skipped",itemStyle:{color:"#aaa"}},{value:this.allureStatistic.unknown,name:"Unknown",itemStyle:{color:"#d35ebe"}}]}]},t.setOption(this.orgOptions)},getSummary:function(){var e=this;this.historyId&&o["autoApi"].getAllureReport(this.historyId).then((function(t){e.allureDuration=Object(i["goodDuration"])(t.summary.time.duration),e.allureStart=Object(i["formatTime"])(t.summary.time.start,"hh:mm:ss"),e.allureStop=Object(i["formatTime"])(t.summary.time.stop,"hh:mm:ss"),e.allureNowDate=Object(i["formatTime"])(t.summary.time.start,"MM/dd/yyyy"),e.allureStatistic=t.summary.statistic,e.allureTotalCase=e.allureStatistic.total,e.suitCaseGroups=t.summary.suites.items,e.suitCaseDetails=t.suites.children,e.allureSuccessRate=Math.floor(e.allureStatistic.passed/e.allureStatistic.total*1e4)/100,e.initCharPie()}))},getSuitCaseDetail:function(e){this.$eventBus.$emit("allureReportDetail",e,this.suitCaseDetails,this)}}},p=d,f=(a("f9f1"),a("2877")),m=Object(f["a"])(p,n,r,!1,null,"3f07a161",null);t["default"]=m.exports},"3b1d":function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=a("365c"),o=n(a("6d22")),i=n(a("df34")),s=a("93f3");t.default={name:"DeployServerRecord",data:function(){return{condition:{},total:0,pageSize:s.PAGINATION_SIZE.LARGE,currentPage:1,tableData:[],userPipelineId:!0}},components:{TablePagination:o.default,TableHeader:i.default},computed:{pipelineId:function(){return this.$route.params.pipelineId?this.$route.params.pipelineId:""}},mounted:function(){this.getDeployRecord()},methods:{tagType:function(e){return"success"===e.status?"success":"running"===e.status?"info":"pending"===e.status?"":"fail"===e.status?"danger":void 0},getDeployRecord:function(e){var t=this,a={offset:this.pageSize*(this.currentPage-1),limit:this.pageSize,jobName:e,pipelineId:this.pipelineId};r.coverageApi.getServerJenkinsDeployHistory(a).then((function(e){t.tableData=e.data.data,t.total=e.data.total}))},handleGetDeployRecord:function(e){this.currentPage=1,this.getDeployRecord(e)}}}},"3ccd":function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=a("7a93"),o=n(a("cca0"));t.default=[{path:"testProfile/event/list",name:r.PathName.TestTrackProfileReview,component:o.default,meta:{isUsingSocketInfo:!0}}]},"3d39":function(e,t,a){},"3dfd":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[e.isRouterAlive?a("router-view"):e._e(),a("el-backtop",{attrs:{"visibility-height":100,target:"#app"}})],1)},r=[],o=a("365c"),i={name:"App",provide:function(){return{reload:this.reload}},data:function(){return{projectsSprints:[],isRouterAlive:!0}},computed:{userId:function(){return this.$store.state.login.userid}},methods:{reload:function(){var e=this;this.isRouterAlive=!1,this.$nextTick((function(){return e.isRouterAlive=!0}))},getDefaultMonth:function(){var e=new Date,t=e.getFullYear(),a=e.getMonth()+1>9?e.getMonth()+1:"0"+(e.getMonth()+1);this.$store.commit("SET_MONTH",t+"-"+a)},setUserPermissions:function(){var e=this;console.log("userId",this.userId),0!==this.userId&&o["userApi"].getUserPermissions({userId:this.userId}).then((function(t){e.$store.commit("SET_ROLE",t.permissions)}))}},created:function(){this.getDefaultMonth(),this.setUserPermissions()},mounted:function(){var e=this;window.addEventListener("storage",(function(){e.$store.commit("FLASH_TOKEN")}),!1)}},s=i,l=(a("034f"),a("2877")),c=Object(l["a"])(s,n,r,!1,null,null,null);t["default"]=c.exports},"3e0a":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return 0!==e.tableData.length?a("el-card",[a("el-row",{staticClass:"cast-row",attrs:{gutter:100}},[e.tableData&&e.tableData.length?a("el-col",{staticClass:"tree-col",attrs:{span:12}},[a("el-tree",{attrs:{data:e.tableData,"default-expand-all":!0,"highlight-current":!0,"icon-class":"el-icon-arrow-right","node-key":"uid"},on:{"node-click":e.openDetails},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.data;return[a("div",{staticClass:"case-suit-tree"},[a("div",{staticClass:"case-suit-tree-node"},[a("i",{class:e.caseIcon(n.status)}),a("div",{staticStyle:{"padding-left":"5px"}},[e._v(e._s(n.name))])]),n.time?a("div",[e._v(e._s(e.goodDuration(n.time.duration)))]):a("div",[a("allure-report-bar",{attrs:{"show-bar":!1,"show-tag":!0,statistic:e.getAllLeafStatus([n])}})],1)])]}}],null,!1,1215928935)})],1):e._e(),e.caseDetail?a("el-col",{staticClass:"tree-col",attrs:{span:12}},[a("div",{staticClass:"case-suit-full-name"},[a("i",{staticClass:"fa fa-files-o",staticStyle:{"margin-right":"5px"}}),e._v(e._s(e.caseDetail.fullName)+" ")]),a("div",{staticClass:"case-suit-detail"},[a("span",{class:e.caseStatus(e.caseDetail.status)},[e._v(e._s(e.caseDetail.status))]),a("span",[e._v(e._s(e.caseDetail.name))])]),a("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"Overview",name:"overview"}},[e.caseDetail.statusMessage?a("el-row",{staticClass:"title"},[e._v("TraceMessage")]):e._e(),e.caseDetail.statusMessage?a("div",[a("el-tooltip",{attrs:{content:"Show trace",placement:"left"}},[a("pre",{staticClass:"status-message",on:{click:function(t){e.isShowTrace=!e.isShowTrace}}},[e._v("              "),a("code",{staticClass:"code"},[e._v(e._s(e.caseDetail.fullName))]),e._v("\n            ")])]),e.isShowTrace?a("pre",{staticClass:"status-trace"},[e._v("              "),a("code",{staticClass:"code"},[e._v(e._s(e.caseDetail.statusTrace))]),e._v("\n            ")]):e._e()],1):e._e(),e.caseDetail.testStage?a("el-row",{staticClass:"title"},[e._v("Response")]):e._e(),a("el-row",[a("a",{attrs:{href:"http://jenkins.jlgltech.com/view/all/job/test/job/tiga/"+this.tableData[5].buildnumber+"/allure",type:"primary",target:"_blank"}},[e._v("返回信息")])]),0!==e.caseDetail.extra.tags.length?a("el-row",[a("span",[e._v("Tags: ")]),e._l(e.caseDetail.extra.tags,(function(t){return a("span",{key:t,staticClass:"overview-tag"},[e._v(" "+e._s(t)+" ")])}))],2):e._e(),0!==e.caseDetail.extra.categories.length?a("el-row",[a("span",[e._v("Categories: ")]),a("span",[e._v(e._s(e.caseDetail.extra.categories[0].name))])]):e._e(),e.caseDetail.extra.severity?a("el-row",[a("span",[e._v("Severity: ")]),a("span",[e._v(e._s(e.caseDetail.extra.severity))])]):e._e(),a("el-row",[e._v(" Duration: "),a("span",{staticClass:"fa fa-clock-o"}),e._v(" "+e._s(e.goodDuration(e.caseDetail.time.duration))+" ")]),e.caseDetail.description?a("el-row",{staticClass:"title"},[e._v("Description")]):e._e(),a("el-row",{staticStyle:{"white-space":"pre-wrap"}},[e._v(e._s(e.caseDetail.description))]),0!==e.caseDetail.parameters.length?a("el-row",{staticClass:"title"},[e._v("Parameters")]):e._e(),a("el-row",e._l(e.caseDetail.parameters,(function(t){return a("div",{key:t.name},[a("span",{staticStyle:{color:"#999999"}},[e._v(e._s(t.name)+": ")]),a("span",[e._v(e._s(t.value))])])})),0)],1),a("el-tab-pane",{attrs:{label:"History",name:"history"}},[e.caseDetail.extra.history?a("el-row",{staticStyle:{"margin-top":"15px"}},[e._v(" Success rate "+e._s(e.historyRate)+"% ("+e._s(e.caseDetail.extra.history.statistic.passed)+" of "+e._s(e.caseDetail.extra.history.statistic.total)+") ")]):e._e(),a("el-row",[a("span",{class:e.caseStatus(e.caseDetail.status),staticStyle:{"font-size":"12px"}},[e._v(" "+e._s(e.caseDetail.status)+" ")]),a("span",[e._v(e._s(e.formatTime(e.caseDetail.time.start,"MM/dd/yyyy at hh:mm:ss")))])]),e.caseDetail.extra.history?a("div",e._l(e.caseDetail.extra.history.items,(function(t){return a("el-row",{key:t.uid},[a("span",{class:e.caseStatus(t.status),staticStyle:{"font-size":"12px"}},[e._v(" "+e._s(t.status)+" ")]),a("span",[e._v(e._s(e.formatTime(t.time.start,"MM/dd/yyyy at hh:mm:ss")))])])})),1):e._e()],1)],1)],1):e._e()],1)],1):e._e()},r=[]},"3e71":function(e,t,a){"use strict";a.r(t);var n=a("aa9d"),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=r.a},"3e7e":function(e,t,a){"use strict";a.r(t);var n=a("762d"),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=r.a},"3f02":function(e,t,a){"use strict";a.r(t);var n=a("4774"),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=r.a},"3f37":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dropdown",{class:e.isDisabled?"disabled":"",attrs:{placement:"bottom",size:"medium",trigger:"click"}},[a("div",{staticClass:"show-more-btn",on:{click:function(e){e.stopPropagation()}}},[a("i",{staticClass:"el-icon-more ms-icon-more"})]),a("el-dropdown-menu",{staticClass:"dropdown-menu-class",attrs:{slot:"dropdown"},slot:"dropdown"},[a("div",{staticClass:"show-more-btn-title"},[e._v(e._s("批量处理 (选中"+e.size+"项)"))]),e._l(e.buttons,(function(t,n){return a("el-dropdown-item",{key:n,nativeOn:{click:function(a){return a.stopPropagation(),e.click(t)}}},[e._v(" "+e._s(t.name)+" ")])}))],2)],1)},r=[]},"3f4a":function(e,t,a){},"3fba":function(e,t,a){},"3fde":function(e,t,a){},"405d":function(e,t,a){"use strict";a("b1af")},"40ab":function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(a("5ec0"));t.default={name:"BatchEdit",components:{DialogFooter:r.default},props:{typeArr:Array,valueArr:Object,dialogTitle:{type:String,default:"批量操作"}},data:function(){return{dialogVisible:!1,form:{},size:0,rules:{type:{required:!0,message:"请选择属性",trigger:["blur","change"]},value:{required:!0,message:"请选择属性对应的值",trigger:["blur","change"]}},options:[]}},methods:{submit:function(){var e=this;this.$refs.editForm.validate((function(t){t&&(e.$emit("batchEdit",e.form),e.dialogVisible=!1)}))},open:function(){this.dialogVisible=!0,this.size=this.$parent.selectRows.size},handleClose:function(){this.form={},this.options=[]},changeType:function(e){this.$set(this.form,"value",""),this.options=this.valueArr[e]}}}},"410a":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticClass:"dialog-title",attrs:{"close-on-click-modal":!1,visible:e.dialogFormVisible,title:"开发提测",width:"65%"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"planForm",attrs:{model:e.form,rules:e.rules,"label-position":"top"}},[a("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"提测需求",prop:"name"}},[a("el-input",{attrs:{placeholder:"当前版本相关需求列表",type:"textarea"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"技术概要链接",prop:"summary"}},[a("el-input",{attrs:{placeholder:"技术&接口文档&阿波罗配置&数据库业务配置",type:"textarea"},model:{value:e.form.summary,callback:function(t){e.$set(e.form,"summary",t)},expression:"form.summary"}})],1),a("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"影响范围",prop:"influence"}},[a("el-input",{attrs:{placeholder:"当前提测涉及到的业务影响范围",type:"textarea"},model:{value:e.form.influence,callback:function(t){e.$set(e.form,"influence",t)},expression:"form.influence"}})],1),a("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"前后端提测服务",prop:"server"}},[a("el-input",{attrs:{placeholder:"前后端提测服务及commit id",type:"textarea"},model:{value:e.form.server,callback:function(t){e.$set(e.form,"server",t)},expression:"form.server"}})],1),a("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"冒烟结果",prop:"result"}},[a("el-input",{attrs:{placeholder:"附上测试平台冒烟测试计划链接",type:"textarea"},model:{value:e.form.result,callback:function(t){e.$set(e.form,"result",t)},expression:"form.result"}})],1),a("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"是否延期",prop:"postpone"}},[a("el-select",{attrs:{placeholder:"是否延期"},model:{value:e.form.postpone,callback:function(t){e.$set(e.form,"postpone",t)},expression:"form.postpone"}},e._l([{text:"是",value:!0},{text:"否",value:!1}],(function(e){return a("el-option",{key:e.value,attrs:{label:e.text,value:e.text}})})),1)],1),a("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"延期原因",prop:"reason"}},[a("el-input",{attrs:{placeholder:"延期原因",type:"textarea"},model:{value:e.form.reason,callback:function(t){e.$set(e.form,"reason",t)},expression:"form.reason"}})],1),e.form.rejectCount?a("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"驳回次数"}},[a("div",[e._v(e._s(e.form.rejectCount)+" 次")])]):e._e()],1),a("template",{slot:"footer"},[a("dialog-footer",{attrs:{"confirm-disable":e.form.status===e.planInstanceStatusEnum.PENDING},on:{cancel:function(t){e.dialogFormVisible=!1},confirm:e.approvalSubmit}})],1)],2)},r=[]},4184:function(e,t,a){"use strict";var n=a("981e"),r=a.n(n);t["default"]=r.a},4298:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("allure-report",{attrs:{"history-id":e.historyId}})],1)},r=[]},"42d0":function(e,t,a){"use strict";a.r(t);var n=a("7b25"),r=a("a63e");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);a("7ef4");var i=a("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,"386e75aa",null);t["default"]=s.exports},4314:function(e,t,a){"use strict";var n,r,o=a("9523").default;Object.defineProperty(t,"__esModule",{value:!0}),t.operationType=t.operationEnum=void 0,function(e){e["ADD"]="add",e["EDIT"]="edit",e["VIEW"]="view"}(r=t.operationEnum||(t.operationEnum={})),t.operationType=(n={},o(n,r.ADD,"新建用例"),o(n,r.EDIT,"编辑用例"),o(n,r.VIEW,"查看用例"),n)},4360:function(e,t,a){"use strict";a.r(t);var n,r,o,i,s=a("2b0e"),l=a("2f62"),c=a("b054"),u=a.n(c),d=a("ade3"),p=a("1232"),f=a("a78e"),m=a.n(f),h="SET_TOKEN",b="CLEAR_TOKEN",g="FLASH_TOKEN",v="SET_ROLE",y="qa.jiliguala.com",_="_NOA_PROD",S="JWT_TOKEN".concat(_),T={state:{uid:0,userid:0,username:"",email:"",picture:"",exp:0,role:[],permissions:[],JWT_TOKEN:""},getters:{isLogin:function(e){return""!==e.JWT_TOKEN},uid:function(e){return e.uid},userName:function(e){return e.username},userid:function(e){return e.userid},userPers:function(e){return e.permissions}},mutations:(n={},Object(d["a"])(n,h,(function(e,t){var a=Object(p["a"])(t),n=a.exp||0,r=new Date((new Date).getTime()+n);m.a.set(S,t,{expires:r,domain:y}),localStorage.token=t,e.uid=a.uid,e.userid=a.user_id||0,e.username=a.username||"",e.email=a.email,e.picture=a.picture||"",e.exp=a.exp||0,e.role=a.role||[],e.JWT_TOKEN=t})),Object(d["a"])(n,b,(function(e){e.uid=0,e.userid=0,e.username="",e.picture="",e.exp=0,e.role=[],e.email="",e.JWT_TOKEN="",localStorage.removeItem("token"),m.a.remove(S,{domain:y})})),Object(d["a"])(n,g,(function(e){var t=m.a.get(S);if(e.JWT_TOKEN=t||"",t){var a=Object(p["a"])(t);e.userid=a.user_id||0,e.uid=a.uid,e.username=a.username||"",e.email=a.email||"",e.picture=a.picture||"",e.exp=a.exp||0}})),Object(d["a"])(n,v,(function(e,t){console.log("perms",t),e.permissions=t||[]})),n),actions:{}},w=a("1da1"),x=(a("96cf"),a("159b"),a("b0c0"),a("6e00")),E=a.n(x),C=a("83f3"),P="CHANGE_PROJECT",k="CHANGE_PROJECT_SPRINT",O="SET_MONTH",I={state:{projects:[C["typeJiraProject"]],projectSprints:[],defaultMonth:"",socketInfo:{projectsUpdate:!1}},mutations:(r={},Object(d["a"])(r,P,(function(e,t){e.projects=t,e.socketInfo.projectsUpdate=!0})),Object(d["a"])(r,k,(function(e,t){e.projectSprints=t,e.socketInfo.projectsSprintUpdate=!0})),Object(d["a"])(r,O,(function(e,t){e.defaultMonth=t})),r),actions:{GET_PROJECT:function(e){return Object(w["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,t.next=3,E.a.getAllProject().then((function(e){var t=e.data;t.datas.forEach((function(e){e.text=e.name,e.value=e.id})),a("CHANGE_PROJECT",t.datas)}));case 3:case"end":return t.stop()}}),t)})))()},GET_PROJECT_CLOSED_SPRINT:function(e){return Object(w["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,t.next=3,E.a.getAllProject({closed:1}).then((function(e){var t=e.data;a("CHANGE_PROJECT_SPRINT",t.datas)}));case 3:case"end":return t.stop()}}),t)})))()}}},D=a("7a93"),j="UNVISIBLE_SIDE",A="SET_ASIDEHIDDEN",R="SET_ASIDE_WIDTH",N={state:{sidebarVisible:!0,asideHidden:!1,asideWidth:"180px",side_menu:[{text:"首页",route:{name:D["PathName"].Dashboard},icon:"el-icon-s-home"},{text:"测试跟踪",icon:"el-icon-coin",route:{name:D["PathName"].TestTrack},sub_menu:[{text:"测试用例",route:{name:D["PathName"].TestTrackTestcaseProject}},{text:"用例评审",route:{name:D["PathName"].TestTrackCaseReview}},{text:"测试计划",route:{name:D["PathName"].TestTrackCasePlan}},{text:"数据埋点",route:{name:D["PathName"].TestTrackBuriedDataReview}},{text:"个人画像",route:{name:D["PathName"].TestTrackProfileReview}}]},{text:"质量数据",icon:"el-icon-s-data",route:{name:D["PathName"].QualityReport},sub_menu:[{text:"版本报告",route:{name:D["PathName"].VersionReport}},{text:"月度报告",route:{name:D["PathName"].MonthReport}},{text:"项目报告",route:{name:D["PathName"].ProjectTolerance}}]},{text:"测试工具",icon:"el-icon-s-tools",route:{name:D["PathName"].TestTool},sub_menu:[{text:"辅助工具",route:{name:D["PathName"].TestTool}},{text:"flower",route:{name:D["PathName"].Flower}}]}]},getters:{isSideBar:function(e){return e.sidebarVisible}},mutations:(o={},Object(d["a"])(o,j,(function(e,t){e.sidebarVisible=t})),Object(d["a"])(o,A,(function(e,t){e.asideHidden=t})),Object(d["a"])(o,R,(function(e,t){e.asideWidth=t})),o),actions:{}},F=a("365c"),$="SET_USERS",M={state:{users:[],socketInfo:{usersUpdate:!1}},mutations:Object(d["a"])({},$,(function(e,t){e.users=t,e.socketInfo.usersUpdate=!0})),actions:{GET_USER:function(e){return Object(w["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,t.next=3,F["userApi"].getUserBySearch().then((function(e){var t=e.data;t.forEach((function(e){e.text=e.username,e.value=e.username})),a($,t)}));case 3:case"end":return t.stop()}}),t)})))()}}},B=a("9be7"),L="SET_GITPROJECT",z="SET_CHATS",V={state:{gitProjects:[],larkChats:[B["typeLarkChat"]],socketInfo:{gitprojectUpdate:!1,larkChatsUpdate:!1}},mutations:(i={},Object(d["a"])(i,L,(function(e,t){e.gitProjects=t,e.socketInfo.gitprojectUpdate=!0})),Object(d["a"])(i,z,(function(e,t){e.larkChats=t,e.socketInfo.larkChatsUpdate=!0})),i),actions:{GET_GITPROJECT:function(e){return Object(w["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,t.next=3,F["coverageApi"].getAllGitProjects().then((function(e){a(L,e.data)}));case 3:case"end":return t.stop()}}),t)})))()},GET_LARKCHATS:function(e){return Object(w["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,t.next=3,F["organizationApi"].getLarkRobotChats().then((function(e){a(z,e.data)}));case 3:case"end":return t.stop()}}),t)})))()}}};s["default"].use(l["a"]);var U=!1;t["default"]=new l["a"].Store({state:{devHosts:[{dev:"https://dev.jiliguala.com",fat:"https://fat.jiliguala.com"}],loading:!1},getters:{},mutations:{},actions:{},modules:{login:T,jira:I,sidebar:N,users:M,coverage:V},plugins:U?[u()()]:[]})},4430:function(e,t,a){"use strict";a.r(t);var n=a("9531"),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=r.a},4494:function(e,t,a){},"44ba":function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=a("365c"),o=n(a("e73b")),i=n(a("7749")),s=a("7a93"),l=a("b889"),c=n(a("dbc4")),u=n(a("6d51"));t.default={name:"TestPlanView",components:{HiddenButton:i.default,TestCasePlanList:u.default,NodeTree:c.default},data:function(){return{operationEnum:l.operationEnum,testPlans:[],treeNodes:[],selectNode:{},selectParentNodes:[],activeIndex:"functional",isMenuShow:!0,nodeTreeDraggable:!1,asideHidden:!1}},computed:{planId:function(){return this.$route.params.planId},projId:function(){return this.$route.query.projId},treeId:function(){return this.$route.query.treeId},loading:function(){return this.$store.state.loading},hiddenButtonPosition:function(){return o.default["hiddenButtonPosition"]}},watch:{$route:function(){!this.planId||this.treeId||this.projId||this.getTestPlanCaseTree()}},mounted:function(){this.planId&&this.getTestPlanCaseTree(),(this.projId||this.treeId)&&(this.selectNode.id=this.projId|this.treeId)},methods:{getTestPlanCaseTree:function(){var e=this;this.selectParentNodes=[],r.testPlanApi.getTestCasePlanCaseTree(this.planId).then((function(t){var a=t.data;e.treeNodes=a}))},handleSelect:function(e,t,a){this.selectParentNodes=t,this.selectNode=e,this.$refs.testCasePlanList.currentPage=1;var n=1===a.level?{projId:e.id}:{treeId:e.id};this.$router.push({name:s.PathName.TestTrackCasePlanView,query:n})},openTemplateReport:function(){this.$refs.testReportTemplateList.open(this.planId)},editTestCase:function(){},refresh:function(){this.$refs.testCasePlanList.initTableData(),this.getTestPlanCaseTree()},reloadMenu:function(){var e=this;this.isMenuShow=!1,this.$nextTick((function(){e.isMenuShow=!0}))},handleClick:function(e){this.asideHidden=e}}}},4541:function(e,t,a){"use strict";a("1f47")},4549:function(e,t,a){},"454d":function(e,t,a){"use strict";a("0cfd")},"457b":function(e,t,a){},"45b4":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"TableSearchInputBar",props:{placeholder:{type:String,default:"根据名称搜索"}},data:function(){return{inputValue:""}},methods:{handleSearch:function(){this.$emit("search",this.inputValue)},handleClear:function(){this.$refs.input.focus()}}}},"45d2":function(e,t,a){"use strict";a("8deb")},4635:function(e,t,a){"use strict";a.r(t);var n=a("8a06"),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=r.a},"464b":function(e,t,a){"use strict";a("b0c0");var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=a("365c"),o=n(a("e73b")),i=n(a("5ec0")),s=a("b74e"),l=a("b889"),c=n(a("5f03")),u=a("fe76"),d=a("2ef0");t.default={name:"TestCaseReviewEdit",components:{DialogFooter:i.default,TestReviewStatusButton:c.default},data:function(){return{operationEnum:l.operationEnum,projects:this.projects,dialogFormVisible:!1,form:u.reviewForm,rules:u.reviewFormRules,operation:"",reviewerOptions:[],pickerOptionsStart:{}}},props:{condition:Object},inject:["projects"],computed:{formLabelWidth:function(){return o.default["formLabelWidth"]}},mounted:function(){var e=this;this.$eventBus.$on("caseReviewEdit",(function(t){e.open(t)}))},methods:{initOptions:function(){this.reviewerOptions=this.condition.reviewerOptions},initDateOptions:function(){this.pickerOptionsStart=s.datePickerOptionsStart()},open:function(e){this.initOptions(),this.initDateOptions(),e&&(this.form=d.cloneDeep(e),this.operation=l.operationEnum.EDIT),this.dialogFormVisible=!0},saveReview:function(){var e=this;this.$refs["reviewForm"].validate((function(t){if(t){var a={name:e.form.name,targetEnd:e.form.targetEnd||null,reviewer:e.form.reviewerList,status:e.form.status};r.testReviewApi.updateTestCaseReview(e.form.id,a).then((function(){e.$emit("refresh"),e.close()}))}}))},statusChange:function(e){this.form.status=e,this.$forceUpdate()},close:function(){this.dialogFormVisible=!1}}}},4774:function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=a("365c"),o=n(a("6d22")),i=n(a("df34")),s=a("93f3");t.default={name:"PipelineBuildRecord",data:function(){return{condition:{},total:0,pageSize:s.PAGINATION_SIZE.LARGE,currentPage:1,tableData:[],userPipelineId:!0}},components:{TablePagination:o.default,TableHeader:i.default},computed:{pipelineId:function(){return this.$route.params.pipelineId?this.$route.params.pipelineId:""}},mounted:function(){this.getBuildRecord()},methods:{tagType:function(e){return"success"===e.buildStatus?"success":"running"===e.buildStatus?"info":"pending"===e.buildStatus?"":"fail"===e.buildStatus?"danger":void 0},getBuildRecord:function(e){var t=this,a={offset:this.pageSize*(this.currentPage-1),limit:this.pageSize,pipelineName:e,pipelineId:this.pipelineId};r.coverageApi.getJenkinsTasksHistory(a).then((function(e){t.tableData=e.data.data,t.total=e.data.total}))},handleGetBuildRecord:function(e){this.currentPage=1,this.getBuildRecord(e)}}}},4871:function(e,t,a){"use strict";a("2f36")},"48ba":function(e,t,a){"use strict";a.r(t);var n=a("e6e4"),r=a("a922");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);a("03d65");var i=a("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,"48f84a65",null);t["default"]=s.exports},"48e0":function(e,t,a){"use strict";a.r(t);var n=a("cbc4"),r=a("0e6a");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);var i=a("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,"6d2fd7bf",null);t["default"]=s.exports},"49c6":function(e,t,a){},"4a35":function(e,t,a){},"4aa4":function(e,t,a){"use strict";a.r(t);var n=a("dc5d"),r=a("731e");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);a("8284");var i=a("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,"30590b43",null);t["default"]=s.exports},"4aba":function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(a("dbac"));t.default={name:"TestCaseDetail",components:{TestCaseForm:r.default},props:{readOnly:{type:Boolean,default:!0},condition:Object,form:Object},mounted:function(){this.form.module=this.form.treeId,this.form.maintainer=this.form.qa,this.form.priority=this.form.importance,this.form.method=this.form.executionType,this.form.prerequisite=this.form.preconditions,this.$refs.caseForm.initForm(this.form)}}},"4b06":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"DialogFooter",props:{cancelDisable:{type:Boolean,default:!1},confirmDisable:{type:Boolean,default:!1}},methods:{cancel:function(){this.$emit("cancel")},confirm:function(){this.$emit("confirm")}}}},"4b0c":function(e,t,a){"use strict";a.r(t);var n=a("7de2"),r=a("4635");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);a("8023");var i=a("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,"35cdc17e",null);t["default"]=s.exports},"4c9a":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{staticClass:"card-content"},[a("template",{slot:"header"},[a("table-header",{attrs:{condition:e.condition,"create-tip":"审批流通知配置",placeholder:"根据项目名称搜索"},on:{create:e.handleAddOrEdit,search:e.handleSearch}},[a("template",{slot:"title"},[a("div",[e._v("审批流通知配置")])])],2)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"table",attrs:{data:e.tableData},on:{"filter-change":e.filter}},[a("el-table-column",{attrs:{label:"项目名称",prop:"project","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{filters:e.larkChatOptions,"column-key":"chatId",label:"群聊",prop:"chatName"}}),a("el-table-column",{attrs:{width:e.table2BtnWidth,label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("table-operator",{attrs:{"show-delete":"","show-edit":""},on:{deleteClick:function(a){return e.handleDelete(t.row)},editClick:function(a){return e.handleAddOrEdit(t.row)}}})]}}])})],1),a("table-pagination",{attrs:{change:e.initTableData,"current-page":e.currentPage,"page-size":e.pageSize,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t}}})],2),a("el-dialog",{staticClass:"dialog-title",attrs:{"close-on-click-modal":!1,title:e.operation===e.operationEnum.EDIT?"编辑审批流通知配置":"创建审批流通知配置",visible:e.dialogFormVisible,width:"65%"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"approvalNotifyForm",attrs:{model:e.form,rules:e.rules}},[a("el-row",[a("el-col",{attrs:{offset:1,span:10}},[a("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"项目",prop:"project"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择项目"},model:{value:e.form.project,callback:function(t){e.$set(e.form,"project",t)},expression:"form.project"}},e._l(e.jiraProjectOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"推送群聊",prop:"chatId"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"请选择需要通知的群"},model:{value:e.form.chatId,callback:function(t){e.$set(e.form,"chatId",t)},expression:"form.chatId"}},e._l(e.larkChatOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.text,value:e.value}})})),1)],1)],1)],1)],1),a("template",{slot:"footer"},[a("dialog-footer",{on:{cancel:function(t){e.dialogFormVisible=!1},confirm:e.saveConfig}})],1)],2)],1)},r=[]},"4dfb":function(e,t,a){},"4e0d":function(e,t,a){"use strict";a("05a0")},"4e79":function(e,t,a){"use strict";a.r(t);var n=a("72d6"),r=a("ee71");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);a("8011");var i=a("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,"6323d7e9",null);t["default"]=s.exports},"4edc":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-tabs",{model:{value:e.activePannel,callback:function(t){e.activePannel=t},expression:"activePannel"}},[a("el-tab-pane",{attrs:{label:"spu详情",name:"spuDetail"}},[a("spu-detail")],1)],1)},r=[],o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",[a("div",[a("el-form",{ref:"spuForm",staticStyle:{width:"100%",margin:"20px auto"},attrs:{rules:e.spuRules,model:e.spuForm,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"spuNo:",prop:"spuNo"}},[a("el-input",{staticStyle:{width:"auto"},attrs:{placeholder:"请输入spuNo"},model:{value:e.spuForm.spuNo,callback:function(t){e.$set(e.spuForm,"spuNo",t)},expression:"spuForm.spuNo"}})],1),a("el-form-item",{staticStyle:{"margin-top":"30px"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("spuForm")}}},[e._v("查询")]),a("el-button",{on:{click:function(t){return e.resetForm("spuForm")}}},[e._v("重置")])],1)],1)],1),a("div",{staticStyle:{"margin-top":"50px","margin-left":"28px"}},[a("span",{staticStyle:{"font-size":"14px",float:"left",color:"#606266"}},[e._v("响应数据：")]),a("el-input",{staticStyle:{"margin-top":"10px"},attrs:{type:"textarea",rows:15},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}})],1)])},i=[],s=a("365c"),l={name:"spuDetail",data:function(){return{spuForm:{spuNo:""},spuRules:{spuNo:[{required:!0,message:"请输入spuNo",trigger:"blur"}]},result:""}},methods:{onSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;var a=_.cloneDeep(t.spuForm);s["dataToolApi"].getSpuDetailData(a).then((function(e){t.result=e.data}))}))},resetForm:function(e){this.$refs[e].resetFields()}}},c=l,u=a("2877"),d=Object(u["a"])(c,o,i,!1,null,"d20f4e08",null),p=d.exports,f={name:"spuConfig",components:{spuDetail:p},data:function(){return{activePannel:"spuDetail"}}},m=f,h=Object(u["a"])(m,n,r,!1,null,"bc62e3c4",null);t["default"]=h.exports},"4f70":function(e,t,a){},"503f":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.showBar?a("div",{staticStyle:{display:"flex","border-radius":"4px",overflow:"hidden"},attrs:{slot:"bar"},slot:"bar"},[e.statistic.failed?a("div",{staticClass:"case-failed",style:e.barStyle(e.statistic.failed)},[e._v(" "+e._s(e.statistic.failed)+" ")]):e._e(),e.statistic.broken?a("div",{staticClass:"case-broken",style:e.barStyle(e.statistic.broken)},[e._v(" "+e._s(e.statistic.broken)+" ")]):e._e(),e.statistic.passed?a("div",{staticClass:"case-passed",style:e.barStyle(e.statistic.passed)},[e._v(" "+e._s(e.statistic.passed)+" ")]):e._e(),e.statistic.skipped?a("div",{staticClass:"case-skipped",style:e.barStyle(e.statistic.skipped)},[e._v(" "+e._s(e.statistic.skipped)+" ")]):e._e(),e.statistic.unknown?a("div",{staticClass:"case-unknown",style:e.barStyle(e.statistic.unknown)},[e._v(" "+e._s(e.statistic.unknown)+" ")]):e._e()]):e._e(),e.showTag?a("div",{staticStyle:{display:"flex","align-items":"center"}},[e.statistic.failed?a("el-tag",{staticClass:"case-failed case-status",attrs:{size:"mini"}},[e._v(e._s(e.statistic.failed))]):e._e(),e.statistic.broken?a("el-tag",{staticClass:"case-broken case-status",attrs:{size:"mini"}},[e._v(e._s(e.statistic.broken))]):e._e(),e.statistic.passed?a("el-tag",{staticClass:"case-passed case-status",attrs:{size:"mini"}},[e._v(e._s(e.statistic.passed))]):e._e(),e.statistic.skipped?a("el-tag",{staticClass:"case-skipped case-status",attrs:{size:"mini"}},[e._v(e._s(e.statistic.skipped))]):e._e(),e.statistic.unknown?a("el-tag",{staticClass:"case-unknown case-status",attrs:{size:"mini"}},[e._v(e._s(e.statistic.unknown))]):e._e()],1):e._e()])},r=[],o={name:"AllureReportBar",props:{statistic:Object,showTag:{type:Boolean,default:!1},showBar:{type:Boolean,default:!0}},computed:{barStyle:function(){return function(e){return"flex-grow: ".concat(e,"; text-align: center; color: white;")}}}},i=o,s=(a("3728"),a("2877")),l=Object(s["a"])(i,n,r,!1,null,"607bff35",null);t["default"]=l.exports},"50b9":function(e,t,a){"use strict";a.r(t);var n=a("a5f2"),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=r.a},"50e5":function(e,t,a){},"51bb":function(e,t,a){"use strict";var n=a("970b").default,r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.sonarApi=void 0;var o=r(a("365c"));t.default={getAllSonarInfos:function(e){return o.default({method:"post",url:"v1/sonar",data:e})}};var i=function e(){n(this,e)};t.sonarApi=i},5245:function(e,t,a){},"52e3":function(e,t,a){"use strict";a.r(t);var n=a("7ea8"),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=r.a},5367:function(e,t,a){"use strict";a("97e0")},5584:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-drawer",{ref:"drawer",attrs:{"modal-append-to-body":!1,visible:e.showDialog,"with-header":!1,"close-on-press-escape":"",size:"100%"}},[a("el-card",{staticClass:"container"},[a("el-row",{staticClass:"cast-row"},[a("el-col",{attrs:{span:1}},[a("el-button",{attrs:{icon:"el-icon-back",plain:"",size:"mini"},on:{click:e.cancel}},[e._v("返回")])],1),a("el-col",{staticClass:"head-right",attrs:{span:22}},[a("el-button",{attrs:{disabled:e.index+e.offset+1<=1,loading:e.loading,icon:"el-icon-arrow-up",plain:"",size:"mini"},on:{click:e.handlePre}}),a("span",[e._v(e._s(e.index+e.offset+1+"/"+e.total)+" ")]),a("el-button",{attrs:{disabled:e.index+e.offset+1>=e.total,loading:e.loading,icon:"el-icon-arrow-down",plain:"",size:"mini"},on:{click:e.handleNext}}),a("el-divider",{attrs:{direction:"vertical"}}),a("el-button",{attrs:{disabled:e.readOnly,icon:e.testCase.status===e.reviewCaseStatusEnum.PASS?"el-icon-check":"",loading:e.loading&&e.testStatus===e.reviewCaseStatusEnum.PASS,size:"mini",type:"success"},on:{click:function(t){return e.saveCase(e.reviewCaseStatusEnum.PASS)}}},[e._v(" 通过 ")]),a("el-button",{attrs:{disabled:e.readOnly,icon:e.testCase.status===e.reviewCaseStatusEnum.REJECT?"el-icon-check":"",loading:e.loading&&e.testStatus===e.reviewCaseStatusEnum.REJECT,size:"mini",type:"danger"},on:{click:function(t){return e.saveCase(e.reviewCaseStatusEnum.REJECT)}}},[e._v(" 未通过 ")])],1)],1),a("el-row",[a("el-col",[a("el-divider",{attrs:{"content-position":"left"}},[e._v(e._s(e.testCase.name))])],1)],1),a("el-row",{staticClass:"cast-row"},[a("el-col",{attrs:{offset:1,span:4}},[a("span",{staticClass:"cast-label"},[e._v("用例等级：")]),a("span",[e._v(e._s(e.priorityType[e.testCase.importance]))])]),a("el-col",{attrs:{span:5}},[a("span",{staticClass:"cast-label"},[e._v("用例类型：")]),a("span",[e._v(e._s(e.caseTypeType[e.testCase.caseType]))])])],1),a("el-row",{staticClass:"cast-row"},[a("el-col",{attrs:{offset:1,span:4}},[a("span",{staticClass:"cast-label"},[e._v("测试方式：")]),a("span",[e._v(e._s(e.executionType[e.testCase.executionType]))])]),a("el-col",{attrs:{span:5}},[a("span",{staticClass:"cast-label"},[e._v("所属模块：")]),a("span",[e._v(e._s(e.testCase.treePath))])]),a("el-col",{attrs:{span:4}},[a("span",{staticClass:"cast-label"},[e._v("所属项目：")]),a("span",[e._v(e._s(e.testCase.projName))])])],1),a("el-row",{staticClass:"cast-row"},[a("el-col",{attrs:{offset:1}},[a("span",{staticClass:"cast-label"},[e._v("前置条件：")]),a("span",[e._v(e._s(e.testCase.preconditions))])])],1),e.testCase.method===e.executionEnum.AUTO&&e.testCase.testId?a("el-row",{staticClass:"cast-row"},[a("el-col",{staticClass:"test-detail",attrs:{offset:1,span:20}},[a("el-tabs",{attrs:{type:"border-card"},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[a("el-tab-pane",{attrs:{label:"测试详情",name:"detail"}},[e.testCase.caseType===e.caseTypeEnum.API?a("api-test-detail",{ref:"apiTestDetail",attrs:{id:e.testCase.testId,"is-read-only":!0}}):e.testCase.caseType===e.caseTypeEnum.PERFORMANCE?a("performance-test-detail",{ref:"performanceTestDetail",attrs:{id:e.testCase.testId,"is-read-only":!0}}):e._e()],1)],1)],1)],1):e._e(),e.testCase.executionType!==e.executionEnum.AUTO?a("el-row",{staticClass:"cast-row"},[a("el-col",{attrs:{offset:1,span:21}},[a("div",{staticClass:"cast-label"},[e._v("执行步骤：")]),a("el-table",{staticClass:"tb-edit",attrs:{border:!0,data:e.testCase.steps,"default-sort":{prop:"num",order:"ascending"},"highlight-current-row":"",size:"mini"}},[a("el-table-column",{attrs:{label:"编号","min-width":"5%",prop:"stepNumber"}}),a("el-table-column",{attrs:{label:"步骤描述","min-width":"21%",prop:"actions"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{staticClass:"border-hidden",attrs:{autosize:{minRows:1,maxRows:4},disabled:!0,size:"mini",type:"textarea"},model:{value:t.row.actions,callback:function(a){e.$set(t.row,"actions",a)},expression:"scope.row.actions"}})]}}],null,!1,2911540122)}),a("el-table-column",{attrs:{label:"预期结果","min-width":"21%",prop:"expectedresults"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{staticClass:"border-hidden",attrs:{autosize:{minRows:1,maxRows:4},disabled:!0,size:"mini",type:"textarea"},model:{value:t.row.expectedresults,callback:function(a){e.$set(t.row,"expectedresults",a)},expression:"scope.row.expectedresults"}})]}}],null,!1,2901377139)}),a("el-table-column",{attrs:{label:"实际结果","min-width":"21%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{staticClass:"table-edit-input",attrs:{autosize:{minRows:2,maxRows:4},disabled:!0,rows:2,clearable:"",placeholder:"请输入内容",size:"mini",type:"textarea"},model:{value:t.row.actualResult,callback:function(a){e.$set(t.row,"actualResult",a)},expression:"scope.row.actualResult"}})]}}],null,!1,91430556)}),a("el-table-column",{attrs:{label:"步骤执行结果","min-width":"12%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{disabled:!0,size:"mini"},on:{change:function(t){return e.stepResultChange()}},model:{value:t.row.actualStatus,callback:function(a){e.$set(t.row,"actualStatus",a)},expression:"scope.row.actualStatus"}},e._l(e.stepStatusOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.text,value:e.value}},[a("test-review-case-step-status",{attrs:{value:e.value}})],1)})),1)]}}],null,!1,2793295084)})],1)],1)],1):e._e(),a("el-row",{staticClass:"cast-row"},[a("el-col",{attrs:{offset:1,span:15}},[a("div",[a("span",{staticClass:"cast-label"},[e._v("备注：")]),e.testCase.description?e._e():a("span",{staticStyle:{color:"darkgrey"}},[e._v("未填写")])]),a("div",[e.testCase.description?a("el-input",{attrs:{rows:3,disabled:"",type:"textarea"},model:{value:e.testCase.description,callback:function(t){e.$set(e.testCase,"description",t)},expression:"testCase.description"}}):e._e()],1)])],1)],1)],1)},r=[]},5597:function(e,t,a){},55970:function(e,t,a){"use strict";a("5597")},5639:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",[e.value===e.planStatusEnum.INIT?a("el-tag",{attrs:{effect:"dark",size:"mini",type:"info"}},[e._v(" "+e._s(e.planStatusType[e.value])+" ")]):e.value===e.planStatusEnum.IN_PROGRESS?a("el-tag",{attrs:{effect:"dark",size:"mini",type:"primary"}},[e._v(" "+e._s(e.planStatusType[e.value])+" ")]):e.value===e.planStatusEnum.DONE?a("el-tag",{attrs:{effect:"dark",size:"mini",type:"success"}},[e._v(" "+e._s(e.planStatusType[e.value])+" ")]):e.value===e.planStatusEnum.REJECT?a("el-tag",{attrs:{effect:"dark",size:"mini",type:"danger"}},[e._v(" "+e._s(e.planStatusType[e.value])+" ")]):e._e()],1)},r=[]},5665:function(e,t,a){"use strict";a.r(t);var n=a("568b"),r=a("f740");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);a("45d2");var i=a("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,"501e0ac9",null);t["default"]=s.exports},5677:function(e,t,a){"use strict";a("9fda")},"568b":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{staticClass:"card-content"},[a("template",{slot:"header"},[a("table-header",{attrs:{condition:e.condition,"show-create":!1},on:{search:e.handleSearch}},[a("template",{slot:"title"},[a("div",[e._v("用例评审")])])],2)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"table",attrs:{data:e.tableData},on:{"row-click":e.handleRun,"filter-change":e.filter}},[a("el-table-column",{attrs:{label:"评审名称",prop:"name","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{filters:e.users,"column-key":"reviewer",label:"评审人",prop:"reviewerList"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(t.row.reviewerList.join()))])]}}])}),a("el-table-column",{attrs:{filters:e.projects,"column-key":"projId",label:"所属项目",prop:"projName"}}),a("el-table-column",{attrs:{filters:e.users,"column-key":"creator",label:"发起人",prop:"creator"}}),a("el-table-column",{attrs:{filters:e.reviewStatusOptions,"column-key":"status",label:"当前状态"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("review-status-table-item",{attrs:{value:e.row.status}})]}}])}),a("el-table-column",{attrs:{width:e.tableTimeWidth,label:"创建时间",prop:"createdAt","show-overflow-tooltip":"",sortable:""}}),a("el-table-column",{attrs:{width:e.tableTimeWidth,label:"截止时间",prop:"targetEnd","show-overflow-tooltip":"",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(t.row.targetEnd||"-"))])]}}])}),a("el-table-column",{attrs:{width:e.table2BtnWidth,label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("table-operator",{attrs:{"show-edit":"","show-run":""},on:{editClick:function(a){return e.handleEdit(t.row)},runClick:function(a){return e.handleRun(t.row)}}})]}}])})],1),a("table-pagination",{attrs:{change:e.initTableData,"current-page":e.currentPage,"page-size":e.pageSize,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t}}})],2)],1)},r=[]},"56a0":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"head-bar"},[n("div",{staticStyle:{float:"right"}},[n("el-popover",{attrs:{placement:"left-end",title:"sprint 异常信息",width:"800",trigger:"click"}},[n("div",{staticStyle:{height:"600px","overflow-y":"scroll","line-height":"24px"}},e._l(e.exceptions,(function(t,a){return n("p",{key:a,staticStyle:{"white-space":"pre"}},[e._v(e._s(t))])})),0),n("img",{directives:[{name:"show",rawName:"v-show",value:e.exceptions.length>0,expression:"exceptions.length > 0"}],staticStyle:{cursor:"pointer","padding-right":"15px",display:"inline","vertical-align":"middle"},attrs:{slot:"reference",src:a("1fbd"),alt:""},slot:"reference"})]),n("el-cascader",{staticStyle:{width:"400px"},attrs:{options:e.projectSprints,props:e.optionProps,placeholder:"请选择项目->迭代",size:"mini"},model:{value:e.spValues,callback:function(t){e.spValues=t},expression:"spValues"}})],1)]),n("div",{ref:"resume",staticClass:"container",attrs:{id:"app"}},[n("el-main",[n("sprint-test-plan",{attrs:{"sprint-id":e.sprintId}}),n("sprint-test-status",{staticStyle:{"margin-top":"15px"},attrs:{"sprint-id":e.sprintId}}),n("sub-task-progress",{staticStyle:{"margin-top":"15px"},attrs:{"sprint-id":e.sprintId}})],1)],1)])},r=[],o=a("3835"),i=(a("d81d"),a("4fad"),a("159b"),a("6e00")),s=a.n(i),l=a("b979"),c=a("7a93"),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("common-component",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{title:"提测规划图"}},[0===e.option.series.length?a("div",{staticStyle:{"font-size":"14px",color:"#909399","text-align":"center"}},[e._v("--\x3e "),a("span",[e._v("暂无数据")])]):a("div",[e.inRefresh?a("chart",{staticClass:"e-chart",attrs:{autoresize:!0,options:e.option},on:{click:e.openJira}}):e._e()],1)])],1)},d=[],p=(a("b0c0"),a("d3b7"),a("365c")),f=a("1f14"),m={name:"SprintTestPlan",components:{CommonComponent:f["a"]},props:{sprintId:String},watch:{sprintId:function(){this.getSprintStoryTestPlan()}},data:function(){return{loading:!1,inRefresh:!1,spValues:[],optionProps:{value:"id",label:"name",children:"sprints"},option:{legend:{data:[{name:"正常",textStyle:{color:"#72a92f",fontWeight:"bold"}},{name:"延期",textStyle:{color:"#E6A23C",fontWeight:"bold"}},{name:"未提测",textStyle:{color:"#81cbf3",fontWeight:"bold"}}]},color:["transparent"],tooltip:{trigger:"item",formatter:function(e){return e.name}},xAxis:{type:"category",data:[],axisLabel:{interval:0,rotate:30}},yAxis:{type:"value"},series:[]}}},methods:{openJira:function(e){window.open(e.data.key)},getSprintStoryTestPlan:function(){var e=this;this.option.series=[],this.option.xAxis.data=[],p["jiraApi"].getSprintStoryTestPlan({sprintId:this.sprintId}).then((function(t){e.option.xAxis.data=t.data.dates,e.option.series=t.data.stories.map((function(e){return Object.assign({},e,{label:{normal:{show:!0,position:"inside",formatter:function(e){return e.value>0?e.value:" "}}},itemStyle:{color:function(){return"正常"===e.name?"#72a92f":"延期"===e.name?"#E6A23C":"#81cbf3"},barBorderColor:"#fff",barBorderRadius:2}})}))})).finally((function(){e.inRefresh=!1,e.$nextTick((function(){e.inRefresh=!0})),e.loading=!1}))}}},h=m,b=(a("d74d"),a("2877")),g=Object(b["a"])(h,u,d,!1,null,"ced88d48",null),v=g.exports,y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("common-component",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{title:"测试规划图"}},[0===e.option.series.length?a("div",{staticStyle:{"font-size":"14px",color:"#909399","text-align":"center"}},[e._v("--\x3e "),a("span",[e._v("暂无数据")])]):a("div",[e.inRefresh?a("chart",{staticClass:"e-chart",attrs:{autoresize:!0,options:e.option},on:{click:e.openJira}}):e._e()],1)])],1)},_=[],S={name:"SprintTestPlan",components:{CommonComponent:f["a"]},props:{sprintId:String},watch:{sprintId:function(){this.getSprintStoryTestStatus()}},data:function(){return{loading:!1,inRefresh:!1,spValues:[],optionProps:{value:"id",label:"name",children:"sprints"},option:{legend:{data:[{name:"测试完成",textStyle:{color:"#72a92f",fontWeight:"bold"}},{name:"测试未完成",textStyle:{color:"#E6A23C",fontWeight:"bold"}},{name:"测试未开始",textStyle:{color:"#81cbf3",fontWeight:"bold"}}]},color:["transparent"],tooltip:{trigger:"item",axisPointer:{type:"shadow"},formatter:function(e){return e.name}},xAxis:{type:"category",data:[],axisLabel:{interval:0,rotate:30}},yAxis:{type:"value"},series:[]}}},methods:{openJira:function(e){window.open(e.data.key)},getSprintStoryTestStatus:function(){var e=this;this.option.series=[],this.option.xAxis.data=[],p["jiraApi"].getSprintStoryTestStatus({sprintId:this.sprintId}).then((function(t){e.option.xAxis.data=t.data.dates,e.option.series=t.data.stories.map((function(e){return Object.assign({},e,{label:{normal:{show:!0,position:"inside",formatter:function(e){return e.value>0?e.value:" "}}},itemStyle:{color:function(){return"测试完成"===e.name?"#72a92f":"测试未完成"===e.name?"#E6A23C":"#81cbf3"},barBorderColor:"#fff",barBorderRadius:2}})}))})).finally((function(){e.inRefresh=!1,e.$nextTick((function(){e.inRefresh=!0})),e.loading=!1}))}}},T=S,w=(a("222d"),Object(b["a"])(T,y,_,!1,null,"8187a79a",null)),x=w.exports,E=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("common-component",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{title:"冲刺预警"}},[a("div",[a("div",[a("div",{staticStyle:{width:"180px",float:"left","margin-bottom":"10px","align-items":"center",display:"flex"}},[a("span",{staticStyle:{height:"20px","font-size":"14px","font-weight":"bold","white-space":"pre"}},[e._v("仅展示延期任务: ")]),a("el-switch",{model:{value:e.onlyDelay,callback:function(t){e.onlyDelay=t},expression:"onlyDelay"}})],1),a("el-row",{staticStyle:{"margin-left":"180px"}},[a("el-col",{attrs:{span:1}},[a("div",{staticStyle:{width:"40px",height:"20px","background-color":"#84bd54"}})]),a("el-col",{attrs:{span:1}},[a("div",{staticStyle:{width:"40px",height:"20px",color:"#909399","font-size":"14px"}},[e._v("正常")])]),a("el-col",{attrs:{span:1}},[a("div",{staticStyle:{width:"40px",height:"20px","background-color":"#0086b3"}})]),a("el-col",{attrs:{span:1}},[a("div",{staticStyle:{width:"40px",height:"20px",color:"#909399","font-size":"14px"}},[e._v("今天")])]),a("el-col",{attrs:{span:1}},[a("div",{staticStyle:{width:"40px",height:"20px","background-color":"#ffd050"}})]),a("el-col",{attrs:{span:1}},[a("div",{staticStyle:{width:"40px",height:"20px",color:"#909399","font-size":"14px"}},[e._v("延期")])]),a("el-col",{attrs:{span:1}},[a("div",{staticStyle:{width:"40px",height:"20px","background-color":"#b3d8ff"}})]),a("el-col",{attrs:{span:1}},[a("div",{staticStyle:{width:"50px",height:"20px",color:"#909399","font-size":"14px"}},[e._v("未开始")])])],1)],1),a("gstc",{attrs:{config:e.config},on:{state:e.onState,loaded:e.onLoaded}})],1)])],1)},C=[],P=a("ade3"),k=(a("a9e3"),a("4de4"),a("64ef")),O=a.n(k),I=a("17a5"),D=[],j=I["a"].api.GSTCID,A="====BEGIN LICENSE KEY====\\njwTCXoMUHwe0J/TTdLFREcPHiEkqShgaQVfmuBur+bAMcK1UBEagfsD+KgxikB7Fu8CDo3YOVYoTZmBWTBninCZvH5uxe4jGogjuRhdOq1CJk3aPUExVWqF24cv1OgblKxlaD6MV9BglcopMBw9O07kUtVuTFUH6hXwAW+qeYCkobuRsv46pVEt2n+MjIaAmViEyGkiLTJj+pZrfosq2JFv9o7Xo0NNjnq1zj1lwqaHL6XbIq+14B+fFgtQwmiXm2MfnYp6o/pzaatcI/HIBGqdYVD9baYrr2g3RpesRaXv5YR2rmo1CkwCUjLismvaG50cFKWLXnzd1CswZXN2iJw==||U2FsdGVkX18WTqVIMMiDwxKMGT45bIsjW3TiHXxau/bL88V2s71KyxdYvGmQdqntmtEMYZmnWJVhA8rSPY3n20hIxKcrBM9ePK053G0/LCo=\\ngwjEpevayxjKP8pN0bNQgmKpAiCPEA2hbM+KUOv7KQKFENs9kIza5uHemcSIyCPXj6yPk6KjMEkReVXEnJvq037MzowMpIkDLtIvvRtqfjgAMNq/2DwL8T1psCZDfKLYAXexGdD9eP8w8AzV01BTJohQd4b0uAIhluaE5OP7ldMfsZZKWLB1/pZtV2o4vMefr8Bj8sZfWTixGixhBRCaiNuX3wS9rU4KTP7H27Yw4aaQQLXga2R7qv5+8wj2P166AKrpgxVO1Qqgvvn5H0NindxVDHDW6Lb6HmPbTRfbfOgq8nDyTsKHM9xMM8TRjsQ7OLQzC14/scZi0/hJoM81gQ==\\n====END LICENSE KEY====",R={name:"SubTaskProgress",components:{gstc:I["b"],CommonComponent:f["a"]},props:{sprintId:{type:String}},data:function(){var e;return{loading:!1,onlyDelay:!1,delayTasks:{items:{},rows:{}},allTasks:{items:{},rows:{}},config:{licenseKey:A,locale:{name:"zh",Now:"Now",weekdays:["周日","周一","周二","周三","周四","周五","周六"],months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]},actions:{"chart-timeline-items-row-item":[this.clickAction]},list:{rows:{1:{id:"",story:"",assigen:"",expanded:!0}},columns:{data:(e={},Object(P["a"])(e,j("id"),{id:j("id"),data:function(e){var t=e.row;return I["a"].api.sourceID(t.id)},width:80,sortable:function(e){var t=e.row;return Number(I["a"].api.sourceID(t.id))},header:{content:"序号"}}),Object(P["a"])(e,j("story"),{id:j("story"),data:"story",sortable:"story",isHTML:!1,width:200,expander:!0,header:{content:"任务"}}),Object(P["a"])(e,j("assigen"),{id:j("assigen"),data:"assigen",sortable:"assigen",isHTML:!1,width:200,header:{content:"经办人"}}),e)}},chart:{time:{from:0,to:0,zoom:21},items:{}}}}},watch:{sprintId:function(){this.onlyDelay=!1,this.beforeUnmount(),this.getSubTaskGantt(this.sprintId)},onlyDelay:function(){this.beforeUnmount(),this.setGstcCongigs()}},methods:{beforeUnmount:function(){console.log("清除缓存"),this.config.list.rows={1:{id:"",story:"",assigen:"",expanded:!0}},this.config.chart.items={}},onState:function(e){this.state=e,D.push(e.subscribe("config.chart.items.".concat(j("1")),(function(e){console.log("item 1 changed",e)}))),D.push(e.subscribe("config.list.rows.".concat(j("1")),(function(e){console.log("row 1 changed",e)})))},onLoaded:function(e){window.gstc=e},clickAction:function(e,t){function a(e){this.url="https://jira.jiliguala.com/browse/"+t.item.key+"?jql=issuetype = "+t.item.key,window.open(this.url)}return e.addEventListener("click",a),{update:function(e,a){t=a},destroy:function(e,t){e.removeEventListener("click",a)}}},getSubTaskGantt:function(){var e=this;this.allTasks.rows={},this.allTasks.items={},O.a.getSubTaskGantt({sprint_id:this.sprintId}).then((function(t){e.config.chart.time.from=t.data.start,console.log(t.data.start),e.config.chart.time.to=t.data.end,console.log(t.data.end),t.data.rows.forEach((function(t){e.allTasks.rows[t["id"]]=t})),t.data.items.forEach((function(t){function a(e){return"normal"===e?{style:{background:"#84bd54","border-radius":"1px"}}:"today"===e?{style:{background:"#0086b3","border-radius":"1px"}}:"inProgress"===e?{style:{background:"#b3d8ff","border-radius":"1px"}}:"delay"===e?{style:{background:"#ffd050","border-radius":"1px"}}:void 0}e.allTasks.items[t["id"]]=Object.assign({},t,a(t["status"]))})),e.setGstcCongigs()})),this.loading=!1},setGstcCongigs:function(){var e=this;if(this.onlyDelay){this.delayTasks.items={},this.delayTasks.rows={};var t=Object.entries(this.allTasks.items).filter((function(e){var t=Object(o["a"])(e,2),a=(t[0],t[1]);return"delay"===a.status})).map((function(e){var t=Object(o["a"])(e,2),a=(t[0],t[1]);return a.rowId}));Object.entries(this.allTasks.items).filter((function(e){var a=Object(o["a"])(e,2),n=(a[0],a[1]);return t.indexOf(n.rowId)>-1})).map((function(e){var t=Object(o["a"])(e,2),a=t[0],n=t[1];return{id:a,value:n}})).forEach((function(t){e.delayTasks.items[t.id]=t.value})),Object.entries(this.allTasks.rows).filter((function(e){var a=Object(o["a"])(e,2),n=(a[0],a[1]);return t.indexOf(n.id)>-1})).map((function(e){var t=Object(o["a"])(e,2),a=t[0],n=t[1];return{id:a,value:n}})).forEach((function(t){e.delayTasks.rows[t.value.parentId]=e.allTasks.rows[t.value.parentId],e.delayTasks.rows[t.id]=t.value})),this.config.chart.items=this.delayTasks.items,this.config.list.rows=this.delayTasks.rows}else this.config.chart.items=this.allTasks.items,this.config.list.rows=this.allTasks.rows}}},N=R,F=Object(b["a"])(N,E,C,!1,null,null,null),$=F.exports,M={name:"SprintDetails",components:{SprintTestPlan:v,SprintTestStatus:x,SubTaskProgress:$},data:function(){return{spValues:[],exceptions:[],optionProps:{value:"id",label:"name",children:"sprints"}}},watch:{sprintId:function(){this.$router.push({name:c["PathName"].SprintDetail,query:{projId:this.spValues[0],sprintId:this.sprintId}}),this.getSprintWarning()}},computed:{projectSprints:function(){return this.$store.state.jira.projects},sprintId:function(){var e=this;return 0===this.spValues.length&&s.a.getSprintSpecific({}).then((function(t){e.spValues=[t.data.projId,t.data.id],e.$route.query.sprintId&&(e.spValues=[e.$route.query.projId,e.$route.query.sprintId])})),this.spValues[1]}},methods:{getSprintWarning:function(){var e=this;this.exceptions=[],s.a.getSprintExceptionsWarning({sprint_id:this.sprintId}).then((function(t){console.log("warnings",t.data);var a=Object.entries(t.data).map((function(e){var t=Object(o["a"])(e,2),a=t[0],n=t[1];return{type:a,value:n}}));a.forEach((function(t){e.exceptions.push("\n"),e.exceptions.push(l["sprintExceptions"][t.type.toUpperCase()]+":"),t.value.forEach((function(t){e.exceptions.push("     "+t)}))}))}))}}},B=M,L=(a("30b2"),Object(b["a"])(B,n,r,!1,null,"cc15f778",null));t["default"]=L.exports},"56a2":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",[e._v(e._s(e.caseTypeType[e.value]))])},r=[]},"56af":function(e,t,a){"use strict";var n=a("278c").default;a("d81d"),a("4fad"),a("159b"),a("b0c0");var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=a("365c"),i=r(a("e73b")),s=r(a("5ec0")),l=a("b889"),c=a("6aa6"),u=Object.entries(c.businessType).map((function(e){var t=n(e,2),a=t[0],r=t[1];return{label:r,value:a}})),d=Object.entries(c.terminalType).map((function(e){var t=n(e,2),a=t[0],r=t[1];return{label:r,value:a}}));t.default={name:"PipelineEdit",components:{DialogFooter:s.default},computed:{owner:function(){return this.$store.getters.userName},formLabelWidth:function(){return i.default["formLabelWidth"]},projectOptions:function(){return this.$store.state.coverage.gitProjects},chatOptions:function(){return this.$store.state.coverage.larkChats}},watch:{"form.projectId":function(){var e=this;this.projectOptions.forEach((function(t){t.id===e.form.projectId&&(e.form.projectGit=t.sshUrl)}))}},data:function(){return{checked1:!0,checked2:!0,terminalOptions:d,businessOptions:u,dialogFormVisible:!1,operationEnum:l.operationEnum,operation:"",form:{projectGit:"",compareBranch:"origin/master",name:"",projectId:"",notifyChatIds:"",terminal:"BE",business:""},rules:{name:[{required:!0,message:"请输入流水线名称",trigger:"blur"}],compareBranch:[{required:!0,message:"请输入对比分支",trigger:"blur"}],terminal:[{required:!0,message:"请选择端",trigger:"blur"}],business:[{required:!0,message:"请选择业务线",trigger:"blur"}],projectId:[{required:!0,message:"请选择服务",trigger:"change"}],projectGit:[{required:!0,message:"请输入服务简写git地址",trigger:"blur"}]}}},methods:{handleChangeTerminal:function(){this.checked1=!("FE"===this.form.terminal)},open:function(e){var t=this;this.dialogFormVisible=!0,this.$nextTick((function(){t.$refs.pipelineForm&&(t.$refs["pipelineForm"].resetFields(),t.checked1=!0,t.checked2=!0),t.operation=l.operationEnum.ADD,e&&(t.operation=l.operationEnum.EDIT,t.form.id=e.id,t.form.name=e.name,t.form.terminal=e.terminal,t.form.business=e.business,t.form.projectId=e.projectId,t.form.projectGit=e.coverageParams.projectGit,t.form.compareBranch=e.coverageParams.compareBranch||"origin/master",t.form.notifyChatIds=e.notifyChatIds,t.checked1=Boolean(e.step1),t.checked2=Boolean(e.step2))}))},savePipeline:function(){var e=this;this.$refs["pipelineForm"].validate((function(t){if(!t)return!1;var a={name:e.form.name,projectId:e.form.projectId,coverageParams:{compareBranch:e.form.compareBranch,projectGit:e.form.projectGit,ifCoverage:e.checked2},notifyChatIds:e.form.notifyChatIds,step1:e.checked1?"服务端发版":"",step2:e.checked2?"覆盖率收集":"",business:e.form.business,terminal:e.form.terminal};e.operation===l.operationEnum.ADD?(a.owner=e.owner,o.coverageApi.createPipeline(a).then((function(){e.$emit("fatherMethod")}))):e.operation===l.operationEnum.EDIT&&o.coverageApi.updatePipeline(e.form.id,a).then((function(){e.$emit("fatherMethod")})),e.dialogFormVisible=!1}))}}}},"56c0":function(e,t,a){},"56c9":function(e,t,a){"use strict";a.r(t);var n=a("4b06"),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=r.a},"56e2":function(e,t,a){},5783:function(e,t,a){"use strict";a.r(t);var n=a("3046"),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=r.a},"57e5":function(e,t,a){e.exports=a.p+"img/xmind.898c03f5.png"},"580f":function(e,t,a){"use strict";a.r(t);var n=a("1bdf"),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=r.a},"589a":function(e,t,a){},"58d8":function(e,t,a){"use strict";a("3f4a")},"58e1":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticClass:"dialog-title",attrs:{"before-close":e.close,title:e.type===e.operationEnum.EDIT?"重命名":"添加模块",visible:e.dialogFormVisible,width:"30%"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-row",{attrs:{justify:"center",type:"flex"}},[a("el-col",{attrs:{span:18}},[a("el-form",{ref:"nodeForm",attrs:{model:e.form,rules:e.rules},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-form-item",{attrs:{label:"模块名称","label-width":"80px",prop:"name"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1)],1)],1),a("template",{slot:"footer"},[a("dialog-footer",{on:{cancel:e.close,confirm:e.saveNode}})],1)],2)},r=[]},"59b7":function(e,t,a){"use strict";a.r(t);var n=a("d448"),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=r.a},"5b36":function(e,t,a){"use strict";a("457b")},"5b4a":function(e,t,a){"use strict";a.r(t);var n=a("7f61"),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=r.a},"5b8f":function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=a("7a93"),o=n(a("74e1")),i=n(a("b22a")),s=n(a("7020"));t.default=[{path:"/versionReport",name:r.PathName.VersionReport,component:s.default,meta:{isUsingSocketInfo:!0}},{path:"/monthReport",name:r.PathName.MonthReport,component:o.default,meta:{isUsingSocketInfo:!0}},{path:"/projectTolerance",name:r.PathName.ProjectTolerance,component:i.default,meta:{isUsingSocketInfo:!0}}]},"5bcc":function(e,t,a){"use strict";a("a0d7")},"5c14":function(e,t,a){"use strict";a.r(t);var n=a("8d93"),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=r.a},"5d52":function(e,t,a){"use strict";a.r(t);var n=a("323b"),r=a("6dfe");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);a("5677");var i=a("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,"49594aac",null);t["default"]=s.exports},"5dbd":function(e,t,a){"use strict";a("9f14")},"5de9":function(e,t,a){},"5ec0":function(e,t,a){"use strict";a.r(t);var n=a("8c6d"),r=a("56c9");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);a("752f");var i=a("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,"663cb20c",null);t["default"]=s.exports},"5f03":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"status-button"},[a("el-button",{attrs:{icon:e.status===e.reviewStatusEnum.INIT?"el-icon-check":"",round:"",type:"info"},on:{click:function(t){return e.setStatus(e.reviewStatusEnum.INIT)}}},[e._v(" "+e._s(e.reviewStatusType[e.reviewStatusEnum.INIT])+" ")]),a("el-button",{attrs:{icon:e.status===e.reviewStatusEnum.IN_PROGRESS?"el-icon-check":"",round:"",type:"primary"},on:{click:function(t){return e.setStatus(e.reviewStatusEnum.IN_PROGRESS)}}},[e._v(" "+e._s(e.reviewStatusType[e.reviewStatusEnum.IN_PROGRESS])+" ")]),a("el-button",{attrs:{icon:e.status===e.reviewStatusEnum.DONE?"el-icon-check":"",round:"",type:"success"},on:{click:function(t){return e.setStatus(e.reviewStatusEnum.DONE)}}},[e._v(" "+e._s(e.reviewStatusType[e.reviewStatusEnum.DONE])+" ")]),a("el-button",{attrs:{icon:e.status===e.reviewStatusEnum.REJECT?"el-icon-check":"",round:"",type:"danger"},on:{click:function(t){return e.setStatus(e.reviewStatusEnum.REJECT)}}},[e._v(" "+e._s(e.reviewStatusType[e.reviewStatusEnum.REJECT])+" ")])],1)},r=[],o=a("e551"),i={name:"TestReviewStatusButton",props:{status:{type:String}},data:function(){return{reviewStatusEnum:o["reviewStatusEnum"],reviewStatusType:o["reviewStatusType"]}},methods:{setStatus:function(e){this.$emit("statusChange",e)}}},s=i,l=(a("dc95"),a("2877")),c=Object(l["a"])(s,n,r,!1,null,"5591aba9",null);t["default"]=c.exports},"5f86":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("00e0");t.default={name:"PlanCaseStatusTableItem",props:{value:String},data:function(){return{planResultEnum:n.planResultEnum,planResultType:n.planResultType}}}},"5fd9":function(e,t,a){"use strict";a.r(t);var n=a("966e"),r=a("8468");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);var i=a("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,"1fcac34f",null);t["default"]=s.exports},"5ff4":function(e,t,a){},6072:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",[a("el-row",[a("el-col",{attrs:{span:4}},[a("el-select",{staticStyle:{width:"100%","padding-right":"15px"},model:{value:e.departmentName,callback:function(t){e.departmentName=t},expression:"departmentName"}},[a("el-option",{staticStyle:{height:"auto"},attrs:{value:e.departmentId}},[a("el-tree",{ref:"tree",attrs:{data:e.organizations,props:e.defaultProps,"node-key":"id","highlight-current":""},on:{"node-click":e.handleNodeClick}})],1)],1)],1),a("el-col",{attrs:{span:4}},[a("el-select",{staticStyle:{width:"100%","padding-right":"15px"},attrs:{filterable:"",multiple:"","collapse-tags":"",placeholder:"请选择成员"},on:{change:e.changeSelect},model:{value:e.selectedAccounts,callback:function(t){e.selectedAccounts=t},expression:"selectedAccounts"}},[a("el-checkbox-button",{staticStyle:{"padding-left":"5px"},on:{change:e.selectAll},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("全选")]),e._l(e.accountOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],2)],1),a("el-col",{attrs:{span:8}},[a("el-date-picker",{staticStyle:{width:"100%","padding-right":"15px"},attrs:{type:"daterange","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd","picker-options":e.pickerOptions},model:{value:e.start_end_date,callback:function(t){e.start_end_date=t},expression:"start_end_date"}})],1),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"primary",round:""},on:{click:e.getAccountTasksGantt}},[e._v("查询")])],1)],1),a("gantt",{staticStyle:{"margin-top":"30px","border-top":"1px solid #E6E6E6"},attrs:{items:e.config,"v-loading":e.loading}})],1)},r=[],o=(a("b0c0"),a("159b"),a("d81d"),a("64ef")),i=a.n(o),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("gstc",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],attrs:{config:e.config},on:{state:e.onState,loaded:e.onLoaded}}),e.show?e._e():a("div",{staticStyle:{"font-size":"14px",color:"#909399","text-align":"center","margin-top":"30px"}},[a("span",[e._v("暂无数据")])])],1)},l=[],c=a("17a5"),u=[],d=(c["a"].api.GSTCID,"====BEGIN LICENSE KEY====\\njwTCXoMUHwe0J/TTdLFREcPHiEkqShgaQVfmuBur+bAMcK1UBEagfsD+KgxikB7Fu8CDo3YOVYoTZmBWTBninCZvH5uxe4jGogjuRhdOq1CJk3aPUExVWqF24cv1OgblKxlaD6MV9BglcopMBw9O07kUtVuTFUH6hXwAW+qeYCkobuRsv46pVEt2n+MjIaAmViEyGkiLTJj+pZrfosq2JFv9o7Xo0NNjnq1zj1lwqaHL6XbIq+14B+fFgtQwmiXm2MfnYp6o/pzaatcI/HIBGqdYVD9baYrr2g3RpesRaXv5YR2rmo1CkwCUjLismvaG50cFKWLXnzd1CswZXN2iJw==||U2FsdGVkX18WTqVIMMiDwxKMGT45bIsjW3TiHXxau/bL88V2s71KyxdYvGmQdqntmtEMYZmnWJVhA8rSPY3n20hIxKcrBM9ePK053G0/LCo=\\ngwjEpevayxjKP8pN0bNQgmKpAiCPEA2hbM+KUOv7KQKFENs9kIza5uHemcSIyCPXj6yPk6KjMEkReVXEnJvq037MzowMpIkDLtIvvRtqfjgAMNq/2DwL8T1psCZDfKLYAXexGdD9eP8w8AzV01BTJohQd4b0uAIhluaE5OP7ldMfsZZKWLB1/pZtV2o4vMefr8Bj8sZfWTixGixhBRCaiNuX3wS9rU4KTP7H27Yw4aaQQLXga2R7qv5+8wj2P166AKrpgxVO1Qqgvvn5H0NindxVDHDW6Lb6HmPbTRfbfOgq8nDyTsKHM9xMM8TRjsQ7OLQzC14/scZi0/hJoM81gQ==\\n====END LICENSE KEY===="),p={name:"gantt",props:{items:{type:Object}},components:{gstc:c["b"]},watch:{items:function(){this.getTaskGantt()}},data:function(){return{show:!1,config:{licenseKey:d,innerHeight:window.innerHeight-260,locale:{name:"zh",Now:"Now",weekdays:["周日","周一","周二","周三","周四","周五","周六"],months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]},actions:{"chart-timeline-items-row-item":[this.clickAction]},list:{columns:{data:{assignee:{id:"assignee",data:"assignee",width:200,header:{content:"成员"}}}},rows:{1:{assignee:""}}},chart:{items:{},time:{from:0,to:0}}}}},methods:{onState:function(e){this.state=e,u.push(e.subscribe("config.chart.items.a1}",(function(e){console.log("item 1 changed",e)}))),u.push(e.subscribe("config.list.rows.a1",(function(e){console.log("row 1 changed",e)})))},onLoaded:function(e){console.log("gstc loaded!",e),window.gstc=e},getTaskGantt:function(){this.config.chart.time=this.items.time,this.config.list.rows=this.items.rows,this.config.chart.items=this.items.tasks,this.config.chart.items&&(this.show=!0)},clickAction:function(e,t){function a(e){window.open(t.item.key)}return e.addEventListener("click",a),{update:function(e,a){t=a},destroy:function(e,t){e.removeEventListener("click",a)}}}},mounted:function(){}},f=p,m=(a("ff21"),a("2877")),h=Object(m["a"])(f,s,l,!1,null,null,null),b=h.exports,g=a("4328"),v=a.n(g),y={name:"organization",components:{gantt:b},data:function(){return{loading:!1,checked:!1,config:{tasks:{},rows:{1:{assignee:""}},time:{from:0,to:0}},start_end_date:[],departmentId:"",departmentName:"",defaultProps:{children:"children",label:"name",value:"id"},organizations:[],accountOptions:[],selectedAccounts:[],pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;t.setTime(t.getTime()+6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;t.setTime(t.getTime()+2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;t.setTime(t.getTime()+7776e6),e.$emit("pick",[a,t])}}]}}},mounted:function(){this.getOrganization();var e=new Date,t=new Date;e.setTime(e.getTime()+2592e6),this.start_end_date=[t.format("yyyy-MM-dd"),e.format("yyyy-MM-dd")]},methods:{getOrganization:function(){var e=this;i.a.getAceDepartment({}).then((function(t){e.organizations=t.data,e.departmentId=e.organizations[0].id,e.departmentName=e.organizations[0].name,e.getAccountByDepartment()}))},getAccountByDepartment:function(){var e=this;i.a.getAccountByDepartment({openDepartmentId:this.departmentId}).then((function(t){e.accountOptions=t.data}))},getAccountTasksGantt:function(){var e=this;this.loading=!0,this.config={tasks:{},rows:{1:{assignee:""}},time:{from:0,to:0}},i.a.getAccountTaskGantt({start_date:this.start_end_date[0],end_date:this.start_end_date[1]},v.a.stringify({account_ids:this.selectedAccounts},{arrayFormat:"repeat"})).then((function(t){e.config.time=t.data.time,t.data.items.forEach((function(t){e.config.tasks[t["id"]]=Object.assign({},t,{style:{"border-radius":"1px",background:"#4caeca"}})})),t.data.rows.forEach((function(t,a){e.config.rows[String(a+1)]=t}))})),this.loading=!1},handleNodeClick:function(e){var t=this;this.checked=!1,this.departmentName=e[this.defaultProps.label],this.departmentId=e[this.defaultProps.value],this.selectedAccounts=[],i.a.getAccountByDepartment({openDepartmentId:this.departmentId}).then((function(e){t.accountOptions=e.data,t.checked=!0,t.selectAll()}))},selectAll:function(){var e=this;this.selectedAccounts=[],this.checked?this.accountOptions.map((function(t){e.selectedAccounts.push(t.id)})):this.selectedAccounts=[]},changeSelect:function(e){this.checked=e.length===this.accountOptions.length}}},_=y,S=(a("76c8"),Object(m["a"])(_,n,r,!1,null,null,null));t["default"]=S.exports},"60c2":function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(a("365c")),o=n(a("4328"));t.default={createGitlabChatConfig:function(e){return r.default({method:"post",url:"v1/ace/gitlab/chat_config",data:e})},updateGitlabChatConfig:function(e,t){return r.default({method:"patch",url:"v1/ace/gitlab/chat_config/".concat(e),data:t})},deleteGitlabChatConfig:function(e){return r.default({method:"delete",url:"v1/ace/gitlab/chat_config/".concat(e)})},getGitlabChatConfigList:function(e){return r.default({method:"get",url:"v1/ace/gitlab/chat_config",params:e,paramsSerializer:function(e){return o.default.stringify(e,{arrayFormat:"repeat"})}})},getAllGitlabProjects:function(){return r.default({method:"get",url:"v1/ace/gitlab/project"})},getGitlabPRConfigList:function(e){return r.default({method:"get",url:"v1/ace/gitlab/pr_config",params:e,paramsSerializer:function(e){return o.default.stringify(e,{arrayFormat:"repeat"})}})},createGitlabPRConfig:function(e){return r.default({method:"post",url:"v1/ace/gitlab/pr_config",data:e})},updateGitlabPRConfig:function(e,t){return r.default({method:"patch",url:"v1/ace/gitlab/pr_config/".concat(e),data:t})},deleteGitlabPRConfig:function(e){return r.default({method:"delete",url:"v1/ace/gitlab/pr_config/".concat(e)})}}},"60ed":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("el-row",[a("el-col",{attrs:{span:6}},[a("el-select",{staticStyle:{width:"100%","padding-right":"5px"},attrs:{filterable:""},on:{change:e.getFullCoverageTrend},model:{value:e.projId,callback:function(t){e.projId=t},expression:"projId"}},e._l(e.pipelineOptions,(function(e){return a("el-option",{key:e.projectId,attrs:{value:e.projectId,label:e.name}})})),1)],1),a("el-col",{attrs:{span:6}},[a("el-input",{staticStyle:{width:"100%","padding-right":"5px"},attrs:{placeholder:"选填commitId"},model:{value:e.commitId,callback:function(t){e.commitId=t},expression:"commitId"}})],1),a("el-col",{attrs:{span:3}},[a("el-button",{staticStyle:{float:"left"},attrs:{type:"primary",round:"",icon:"el-icon-search"},on:{click:e.getFullCoverageTrend}},[e._v("查询")])],1)],1)],1),a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{"margin-top":"15px"}},[e.inRefresh?a("chart",{staticClass:"e-chart",attrs:{autoresize:!0,options:e.option}}):e._e()],1)],1)},r=[],o=(a("b0c0"),a("d3b7"),a("d81d"),a("365c")),i={name:"FullCoverageTrend",data:function(){return{inRefresh:!1,projId:"",commitId:"",pipelineOptions:[],option:{xAxis:{type:"category",data:[],axisLabel:{interval:0,rotate:25}},tooltip:{trigger:"item",formatter:function(e){return e.name}},yAxis:{type:"value",axisLabel:{formatter:"{value}%"}},series:[]}}},computed:{loading:function(){return this.$store.state.loading}},created:function(){this.getAllPipelines()},methods:{getFullCoverageTrend:function(){var e=this;this.option.series=[];var t={projId:this.projId,commitId:this.commitId};o["coverageApi"].getFullCoverageReportTrend(t).then((function(t){e.option.xAxis.data=t.data.xAxis,e.option.series.push({type:"line",data:t.data.series,label:{show:!0,position:"top",formatter:"{c}%"}})})).finally((function(){e.inRefresh=!1,e.$nextTick((function(){e.inRefresh=!0}))}))},getAllPipelines:function(){var e=this;o["coverageApi"].getPipelineList({offset:0,limit:1e3}).then((function(t){e.projId=t.data.data[0]["projectId"],e.getFullCoverageTrend(),e.pipelineOptions=t.data.data.map((function(e){return{projectId:e.projectId,name:e.name}}))}))}}},s=i,l=(a("ed61"),a("2877")),c=Object(l["a"])(s,n,r,!1,null,"59b369e4",null);t["default"]=c.exports},6177:function(e,t,a){"use strict";a.r(t);var n=a("92cd"),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=r.a},"61d9":function(e,t,a){"use strict";a.r(t);var n=a("3931"),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=r.a},"625a":function(e,t,a){"use strict";a.r(t);var n=a("a58f"),r=a("689b");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);a("8379");var i=a("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,"388c7baa",null);t["default"]=s.exports},"62b1":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{model:e.form,rules:e.rules}},[a("el-row",[a("el-col",{attrs:{offset:1,span:10}},[a("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"用例名称",prop:"name"}},[a("el-input",{attrs:{disabled:e.readOnly,clearable:"",placeholder:"请输入内容"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name","string"===typeof t?t.trim():t)},expression:"form.name"}})],1)],1),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"所属模块",prop:"module"}},[a("el-select",{attrs:{disabled:e.readOnly,filterable:"",placeholder:"请选择模块"},model:{value:e.form.module,callback:function(t){e.$set(e.form,"module",t)},expression:"form.module"}},e._l(e.moduleOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.path,value:e.id}})})),1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{offset:1,span:10}},[a("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"维护人",prop:"maintainer"}},[a("el-select",{attrs:{disabled:e.readOnly,filterable:"",placeholder:"请选择维护人"},model:{value:e.form.maintainer,callback:function(t){e.$set(e.form,"maintainer",t)},expression:"form.maintainer"}},e._l(e.maintainerOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.text,value:e.value}})})),1)],1)],1),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"用例等级",prop:"priority"}},[a("el-select",{attrs:{disabled:e.readOnly,clearable:"",placeholder:"请选择用例等级"},model:{value:e.form.priority,callback:function(t){e.$set(e.form,"priority",t)},expression:"form.priority"}},e._l(e.priorityOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.text,value:parseInt(e.value)}})})),1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{offset:1,span:10}},[a("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"类型",prop:"caseType"}},[a("el-select",{attrs:{disabled:"",placeholder:"请选择用例类型"},on:{change:e.typeChange},model:{value:e.form.caseType,callback:function(t){e.$set(e.form,"caseType",t)},expression:"form.caseType"}},e._l(e.caseTypeOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.text,value:e.value}})})),1)],1)],1),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"测试方式",prop:"method"}},[a("el-select",{attrs:{disabled:"",placeholder:"请选择测试方式"},model:{value:e.form.method,callback:function(t){e.$set(e.form,"method",t)},expression:"form.method"}},e._l(e.executionOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.text,value:parseInt(e.value)}})})),1)],1)],1)],1),e.form.method&&e.form.method===e.executionEnum.AUTO?a("el-row",[a("el-col",{attrs:{offset:1,span:10}},[a("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"关联测试",prop:"testId"}},[a("el-select",{attrs:{disabled:e.readOnly,filterable:"",placeholder:"请选择用例类型"},model:{value:e.form.testId,callback:function(t){e.$set(e.form,"testId",t)},expression:"form.testId"}},e._l(e.testOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1),"other"===e.form.testId?a("el-col",{attrs:{offset:1,span:10}},[a("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"测试名称",prop:"testId"}},[a("el-input",{attrs:{placeholder:"请输入关联用例名称"},model:{value:e.form.otherTestName,callback:function(t){e.$set(e.form,"otherTestName",t)},expression:"form.otherTestName"}})],1)],1):e._e()],1):e._e(),a("el-row",{staticClass:"row-title"},[a("el-col",{attrs:{offset:2}},[e._v("前置条件:")])],1),a("el-row",{staticClass:"row-content"},[a("el-col",{attrs:{span:20}},[a("el-form-item",{attrs:{prop:"prerequisite"}},[a("el-input",{attrs:{autosize:{minRows:2,maxRows:4},disabled:e.readOnly,placeholder:"请输入前置条件",type:"textarea"},model:{value:e.form.prerequisite,callback:function(t){e.$set(e.form,"prerequisite",t)},expression:"form.prerequisite"}})],1)],1)],1),e.form.method&&e.form.method!==e.executionEnum.AUTO?a("el-row",{staticClass:"row-title"},[a("el-col",{attrs:{offset:2}},[e._v("执行步骤:")])],1):e._e(),e.form.method&&e.form.method!==e.executionEnum.AUTO?a("el-row",{staticClass:"row-content"},[a("el-col",{attrs:{span:20}},[e.isStepTableAlive?a("el-table",{staticClass:"tb-edit",attrs:{data:e.form.steps,"default-sort":{prop:"stepNumber",order:"ascending"},border:"","highlight-current-row":"",size:"mini"}},[a("el-table-column",{attrs:{label:"编号","min-width":"10%",prop:"stepNumber"}}),a("el-table-column",{attrs:{label:"步骤描述","min-width":"35%",prop:"actions"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{staticClass:"table-edit-input",attrs:{autosize:{minRows:2,maxRows:6},disabled:e.readOnly,clearable:"",placeholder:"请输入内容",type:"textarea"},model:{value:t.row.actions,callback:function(a){e.$set(t.row,"actions",a)},expression:"scope.row.actions"}})]}}],null,!1,3649372265)}),a("el-table-column",{attrs:{label:"预期结果","min-width":"35%",prop:"expectedresults"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{staticClass:"table-edit-input",attrs:{autosize:{minRows:2,maxRows:6},disabled:e.readOnly,clearable:"",placeholder:"请输入内容",type:"textarea"},model:{value:t.row.expectedresults,callback:function(a){e.$set(t.row,"expectedresults",a)},expression:"scope.row.expectedresults"}})]}}],null,!1,1097737952)}),e.readOnly?e._e():a("el-table-column",{attrs:{width:e.table3BtnWidth,label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("table-operator",{attrs:{"delete-disable":0===t.$index&&e.form.steps.length<=1,"edit-icon":"el-icon-plus","read-only":e.readOnly,"copy-tip":"复制","delete-tip":"删除","edit-tip":"添加步骤","show-copy":"","show-delete":"","show-edit":""},on:{copyClick:function(a){return e.handleCopyStep(t.$index,t.row)},deleteClick:function(a){return e.handleDeleteStep(t.$index,t.row)},editClick:function(a){return e.handleAddStep(t.$index,t.row)}}})]}}],null,!1,3261746125)})],1):e._e()],1)],1):e._e(),a("el-row",{staticClass:"row-title"},[a("el-col",{attrs:{offset:2}},[e._v("备注:")])],1),a("el-row",{staticClass:"row-content"},[a("el-col",{attrs:{span:20}},[a("el-form-item",{attrs:{prop:"description"}},[a("el-input",{attrs:{autosize:{minRows:2,maxRows:4},disabled:e.readOnly,placeholder:"请输入内容",type:"textarea"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1)],1)],1)],1)},r=[]},6308:function(e,t,a){},6335:function(e,t,a){},"63ac":function(e,t,a){"use strict";a.r(t);var n=a("39ef"),r=a("3e71");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);var i=a("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,"cd0dee42",null);t["default"]=s.exports},"63ec":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("test-case-review-list",{ref:"caseReviewList",attrs:{condition:e.condition},on:{"update:condition":function(t){e.condition=t}}}),a("test-case-review-edit",{ref:"caseReviewEditDialog",attrs:{condition:e.condition},on:{refresh:e.refresh}})],1)},r=[]},6444:function(e,t,a){"use strict";a.r(t);var n=a("5584"),r=a("5b4a");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);a("bdb4");var i=a("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,"31aea6f6",null);t["default"]=s.exports},"64ef":function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(a("365c"));t.default={getAceDepartment:function(e){return r.default({method:"get",url:"/v1/ace/department",params:e})},getAccountByDepartment:function(e){return r.default({method:"get",url:"/v1/ace/account",params:e})},getAccountTaskGantt:function(e,t){return r.default({method:"get",url:"/v1/ace/account/task/gantt?".concat(t),params:e})},getLarkRobotChats:function(e){return r.default({method:"get",url:"/v1/ace/chat",params:e})},getSubTaskGantt:function(e){return r.default({method:"get",url:"/v1/jira/sprint/subTask/progress",params:e})}}},6535:function(e,t,a){"use strict";a.r(t);var n=a("bd26"),r=a("826d");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);var i=a("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,"f9ae085a",null);t["default"]=s.exports},6599:function(e,t,a){e.exports=a.p+"img/jira_task.432b8409.svg"},"65ba":function(e,t,a){"use strict";a("a9e3"),a("07ac"),Object.defineProperty(t,"__esModule",{value:!0});var n=a("93f3");t.default={name:"TablePagination",props:{page:Object,currentPage:{type:Number,default:1},pageSize:{type:Number,default:n.PAGINATION_SIZE.LARGE},pageSizes:{type:Array,default:function(){return Object.values(n.PAGINATION_SIZE)}},total:{type:Number,default:0},change:Function},methods:{handleSizeChange:function(e){this.$emit("update:pageSize",e),this.change()},handleCurrentChange:function(e){this.$emit("update:currentPage",e),this.change()}}}},"668b":function(e,t,a){"use strict";a("88e5")},"669d":function(e,t,a){"use strict";a("d0df")},"67be":function(e,t,a){"use strict";a.r(t);var n=a("3582"),r=a("3411");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);a("7299");var i=a("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,"4aab8b6a",null);t["default"]=s.exports},"686a":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-badge",{staticClass:"item",attrs:{hidden:!e.isDotHidden,"is-dot":""}},[a("el-dropdown",{on:{command:e.handleChange},nativeOn:{click:function(e){e.stopPropagation()}}},[a("span",[e.value===e.planInstanceStatusEnum.INIT?a("el-tag",{attrs:{effect:"dark",size:"mini",type:"info"}},[e._v(" "+e._s(e.planInstanceStatusType[e.value])+" ")]):e.value===e.planInstanceStatusEnum.PENDING?a("el-tag",{attrs:{effect:"dark",size:"mini",type:"primary"}},[e._v(" "+e._s(e.planInstanceStatusType[e.value])+" ")]):e.value===e.planInstanceStatusEnum.APPROVED?a("el-tag",{attrs:{effect:"dark",size:"mini",type:"success"}},[e._v(" "+e._s(e.planInstanceStatusType[e.value])+" ")]):e.value===e.planInstanceStatusEnum.REJECTED?a("el-tag",{attrs:{effect:"dark",size:"mini",type:"danger"}},[e._v(" "+e._s(e.planInstanceStatusType[e.value])+" ")]):e.value===e.planInstanceStatusEnum.CANCELED?a("el-tag",{attrs:{effect:"dark",size:"mini",type:"warning"}},[e._v(" "+e._s(e.planInstanceStatusType[e.value])+" ")]):e._e()],1),e.value===e.planInstanceStatusEnum.PENDING?a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:e.planInstanceStatusEnum.APPROVED}},[e._v("通过")]),a("el-dropdown-item",{attrs:{command:e.planInstanceStatusEnum.REJECTED}},[e._v("拒绝")])],1):a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"})],1)],1)},r=[]},"689b":function(e,t,a){"use strict";a.r(t);var n=a("464b"),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=r.a},6949:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("test-plan-list",{ref:"testPlanList",attrs:{condition:e.condition,stage:"smoke"},on:{"update:condition":function(t){e.condition=t}}}),a("test-plan-edit",{ref:"testPlanEditDialog",attrs:{condition:e.condition},on:{refresh:e.refresh}}),a("packaging-test",{ref:"packingTestDialog",on:{refresh:e.refresh}})],1)},r=[]},"6a99":function(e,t,a){},"6aa6":function(e,t,a){"use strict";var n,r,o,i,s=a("9523").default;Object.defineProperty(t,"__esModule",{value:!0}),t.terminalType=t.terminalEnum=t.businessType=t.businessEnum=void 0,function(e){e["JLGL"]="jlgl",e["TRADE"]="trade",e["OMO"]="omo",e["READING"]="reading",e["CRM"]="crm",e["DATA"]="data",e["COURSE"]="course"}(o=t.businessEnum||(t.businessEnum={})),t.businessType=(n={},s(n,o.JLGL,"叽里呱啦"),s(n,o.TRADE,"交易中台"),s(n,o.OMO,"增长中台"),s(n,o.READING,"呱呱阅读"),s(n,o.CRM,"Crm"),s(n,o.DATA,"数仓/AI"),s(n,o.COURSE,"课程中台"),n),function(e){e["FE"]="FE",e["BE"]="BE",e["ME"]="ME"}(i=t.terminalEnum||(t.terminalEnum={})),t.terminalType=(r={},s(r,i.BE,"后端"),s(r,i.FE,"前端"),s(r,i.ME,"移动端"),r)},"6aae":function(e,t,a){"use strict";var n=a("c973").default,r=a("278c").default;a("96cf"),a("d81d"),a("4fad"),a("d3b7"),a("6062"),a("3ca3"),a("ddb0"),a("a630"),a("159b"),a("b0c0"),a("7db0");var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a("365c"),s=o(a("e73b")),l=o(a("6d22")),c=o(a("df34")),u=o(a("ba07")),d=a("b74e"),p=a("93f3"),f=a("b889"),m=a("e551"),h=o(a("5fd9")),b=o(a("f643")),g=o(a("be65")),v=o(a("6535")),y=o(a("63ac")),_=o(a("fd2bf")),S=a("ec8b"),T=Object.entries(f.executionType).map((function(e){var t=r(e,2),a=t[0],n=t[1];return{text:n,value:a}})),w=Object.entries(f.priorityType).map((function(e){var t=r(e,2),a=t[0],n=t[1];return{text:n,value:a}})),x=Object.entries(m.reviewCaseStatusType).map((function(e){var t=r(e,2),a=t[0],n=t[1];return{text:n,value:a}})),E=Object.entries(f.caseTypeType).map((function(e){var t=r(e,2),a=t[0],n=t[1];return{text:n,value:a}})),C=Object.entries(m.caseBatchReviewType).map((function(e){var t=r(e,2),a=t[0],n=t[1];return{text:n,value:a}}));t.default={name:"TestReviewTestCaseList",components:{ExecutionTypeTableItem:v.default,CaseTypeTableItem:g.default,ReviewCaseStatusTableItem:_.default,TableOperator:u.default,PriorityTableItem:y.default,TablePagination:l.default,TableHeader:c.default,BatchEdit:h.default,ShowMoreBtn:b.default},data:function(){return{executionOptions:T,priorityOptions:w,statusOptions:x,caseTypeOptions:E,caseBatchReviewOptions:C,tableData:[],treeNodes:[],currentPage:1,pageSize:p.PAGINATION_SIZE.LARGE,total:0,selectRows:new Set,isDisabled:!0,caseFilter:{},buttons:[{name:"批量评审用例",handleClick:this.handleBatchReview}],condition:{moduleOptions:[],maintainerOptions:[],executionOptions:T,priorityOptions:w,caseTypeOptions:E},batchReviewValueArr:{status:x}}},props:{currentReview:Object,projects:Array},computed:{loading:function(){return this.$store.state.loading},users:function(){return this.$store.state.users.users},table1BtnWidth:function(){return s.default["table1BtnWidth"]},tableTimeWidth:function(){return s.default["tableTimeWidth"]},caseIds:function(){return Array.from(this.selectRows).map((function(e){return e.id}))}},watch:{currentReview:function(){this.initTableData()}},methods:{setSelectOptions:function(){var e=this;return n(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.setModuleOptions();case 2:case"end":return t.stop()}}),t)})))()},initTableData:function(){var e=this;return n(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.setSelectOptions();case 2:return t.next=4,e.getData();case 4:case"end":return t.stop()}}),t)})))()},getData:function(e){var t=this;return n(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n={treeId:t.currentReview.treeId,offset:t.pageSize*(t.currentPage-1),limit:t.pageSize,name:e},t.caseFilter=sessionStorage.getItem(t.$route.path),t.caseFilter=t.caseFilter?JSON.parse(t.caseFilter):{},"{}"!==JSON.stringify(t.caseFilter)&&(Object.assign(n,t.caseFilter),t.$refs.table.columns.forEach((function(e){e.filteredValue=t.caseFilter[e.columnKey]}))),a.next=6,i.testCaseApi.getTestCaseList(n).then((function(e){var a=e.data;t.total=a.total,t.tableData=a.data,t.tableData.forEach((function(e){e.updatedAt=d.formatTime(e.updatedAt),e.treePath=S.getModuleByTreeId(t.treeNodes,e.treeId).path,e.projName=t.projects.find((function(t){return t.id===e.projId})).name}))}));case 6:case"end":return a.stop()}}),a)})))()},handleSearch:function(e){this.getData(e)},handleReviewRun:function(e){e||(e=this.tableData[0]),this.$eventBus.$emit("testReviewCaseRun",e,this.tableData,this)},handleSelectAll:function(e){var t=this;e.length>0?(this.tableData.forEach((function(e){t.$set(e,"isDisabled",!1)})),this.selectRows=new Set(e)):(this.selectRows.clear(),this.tableData.forEach((function(e){t.$set(e,"isDisabled",!0)})))},handleSelectionChange:function(e,t){-1===e.indexOf(t)?this.$set(t,"isDisabled",!0):this.$set(t,"isDisabled",!1),this.selectRows=new Set(e)},batchReview:function(e){var t=this,a={caseIds:this.caseIds,type:f.caseUpdateTypeEnum.UPDATE_REVIEW_STATUS,status:e.value,reviewId:this.currentReview.id};i.testCaseApi.updateTestCaseBatch(a).then((function(){t.refresh()}))},handleBatchReview:function(){this.$refs.batchEdit.open()},refresh:function(){this.$emit("refresh")},filter:function(e){this.currentPage=1,d._filter(e,this.caseFilter,this.$route.path),this.initTableData()},setMaintainerOptions:function(){this.condition.maintainerOptions=this.users},setModuleOptions:function(){var e=this;return n(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i.testCaseApi.getTestCaseModules({projId:e.currentReview.projId}).then((function(t){var a=t.data;e.treeNodes=a,e.condition.moduleOptions=S.getModuleOptions(e.treeNodes)}));case 2:case"end":return t.stop()}}),t)})))()}}}},"6afb":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"contain"},[a("keep-alive",[e.$route.meta.keepAlive?a("router-view"):e._e()],1),e.$route.meta.keepAlive?e._e():a("router-view")],1)},r=[]},"6c20":function(e,t,a){"use strict";a("e681")},"6c5c":function(e,t,a){"use strict";a.r(t);var n=a("84b3"),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=r.a},"6cc9":function(e,t,a){},"6d22":function(e,t,a){"use strict";a.r(t);var n=a("864f"),r=a("b726");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);a("a41a");var i=a("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,"b8b1cdb2",null);t["default"]=s.exports},"6d51":function(e,t,a){"use strict";a.r(t);var n=a("7f55"),r=a("7d04");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);a("7881");var i=a("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,"f31f8a7a",null);t["default"]=s.exports},"6d5d":function(e,t,a){},"6d86":function(e,t,a){"use strict";a("ee79")},"6d99":function(e,t,a){"use strict";a("a9e3"),Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"ShowMoreBtn",props:{isDisabled:{type:Boolean,default:!0},buttons:Array,row:Object,size:Number},methods:{click:function(e){e.handleClick instanceof Function&&e.handleClick()}}}},"6dfe":function(e,t,a){"use strict";a.r(t);var n=a("22e7"),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=r.a},"6e00":function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(a("365c")),o=n(a("4328")),i="/v1/jira/";t.default={getAllProject:function(e){return r.default({method:"get",url:"".concat(i,"projects"),params:e})},getSprintByProject:function(e){return r.default({method:"get",url:"".concat(i,"sprints"),params:e})},getStoryBySprint:function(e){return r.default({method:"get",url:"".concat(i,"stories"),params:e})},getLatestSprint:function(e){return r.default({method:"get",url:"".concat(i,"sprints/latest"),params:e})},getVersionDetailsBySprint:function(e){return r.default({method:"get",url:"".concat(i,"version/details"),params:e})},getBugSummary:function(e){return r.default({method:"get",url:"".concat(i,"bug/summary"),params:e})},getTestMonthReport:function(e){return r.default({method:"get",url:"".concat(i,"month/report"),params:e})},getTestDepartmentMonthReport:function(e){return r.default({method:"get",url:"".concat(i,"department/month/report"),params:e})},getMonthTrendReport:function(e){return r.default({method:"get",url:"".concat(i,"month/quality/trend"),params:e})},getMonthBugFixTimeTrend:function(e){return r.default({method:"get",url:"".concat(i,"month/bug_time/trend"),params:e})},getBusinessSprintCycle:function(e){return r.default({method:"get",url:"".concat(i,"demand/business/sprint/cycle"),params:e})},getSprintBugFixTimeTrend:function(e){return r.default({method:"get",url:"".concat(i,"sprint/bug_time/trend"),params:e})},getStoryThroughput:function(e){return r.default({method:"get",url:"".concat(i,"sprint/story/throughput"),params:e})},getBusinessCycleTrend:function(e){return r.default({method:"get",url:"".concat(i,"demand/response/cycle"),params:e})},getTestEpics:function(e){return r.default({method:"get",url:"".concat(i,"epics"),params:e,paramsSerializer:function(e){return o.default.stringify(e,{arrayFormat:"repeat"})}})},getSprintEstimateReport:function(e){return r.default({method:"get",url:"".concat(i,"sprint/estimate/report"),params:e})},getStoryResourceRank:function(e){return r.default({method:"get",url:"".concat(i,"sprint/story/resource/rank"),params:e})},editSprintTotalEstimate:function(e,t){return r.default({method:"patch",url:"".concat(i,"sprint/total/estimate/").concat(e),data:t})},getMonthResourceReport:function(e){return r.default({method:"get",url:"".concat(i,"month/resource/report"),params:e})},editMonthResourceReport:function(e,t){return r.default({method:"patch",url:"".concat(i,"month/resource/report/").concat(e),data:t})},editSprintEstimateReport:function(e,t){return r.default({method:"patch",url:"".concat(i,"sprint/estimate/report/").concat(e),data:t})},getDevQaAndBug:function(e){return r.default({method:"get",url:"".concat(i,"develop/bug/statistical"),params:e})},getSubTask:function(e){return r.default({method:"get",url:"".concat(i,"sprint/subtask"),params:e})},getSprintSpecific:function(e){return r.default({method:"get",url:"".concat(i,"sprint/specific"),params:e})},getSprintStoryTestPlan:function(e){return r.default({method:"get",url:"".concat(i,"sprint/story/test/planning"),params:e})},getSprintStoryTestStatus:function(e){return r.default({method:"get",url:"".concat(i,"sprint/story/test/status"),params:e})},getSprintOverview:function(){return r.default({method:"get",url:"".concat(i,"sprint/story/overview")})},getBugPoint:function(e){return r.default({method:"get",url:"".concat(i,"sprint/bug/point"),params:e})},getBugFixTime:function(e){return r.default({method:"get",url:"".concat(i,"sprint/bug/fix/duration"),params:e})},downloadBugDetails:function(e){return r.default({method:"get",url:"".concat(i,"sprint/bug/download"),params:e})},synReport:function(e){return r.default({method:"get",url:"".concat(i,"sprint/report/refresh"),params:e})},getSprintExceptionsWarning:function(e){return r.default({method:"get",url:"".concat(i,"sprint/warning"),params:e})}}},"6ec9":function(e,t,a){"use strict";a.r(t);var n=a("6949"),r=a("b15b");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);a("d486");var i=a("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,"0416d4c6",null);t["default"]=s.exports},"6ed0":function(e,t,a){"use strict";var n=a("448a").default;a("99af");var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=a("7a93"),i=r(a("e2b4")),s=r(a("fb10")),l=r(a("a48c")),c=r(a("aace")),u=r(a("3ccd")),d=r(a("84d0")),p=r(a("f435"));t.default=[{path:"/testTrack",name:o.PathName.TestTrack,component:i.default,children:[].concat(n(d.default),n(l.default),n(p.default),n(c.default),n(s.default),n(u.default))}]},"6ee0":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",[a("template",{slot:"header"},[a("table-header",{attrs:{condition:e.condition,placeholder:"(每次搜索只返回20条数据，请输入更精准的project名称搜索)",showCreate:!1,showSearch:!0},on:{search:e.handleGetProjects}},[a("template",{slot:"title"},[a("div",[e._v("GitLab Projects")])])],2)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.tableData,size:"medium"}},[a("el-table-column",{attrs:{prop:"pathWithNamespace",label:"name with group"}}),a("el-table-column",{attrs:{prop:"description",label:"描述"}}),a("el-table-column",{attrs:{prop:"createdAt",label:"创建时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(new Date(t.row.createdAt).format("yyyy-MM-dd")))])]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("table-operator",{attrs:{"copy-tip":"查看分支","show-copy":"",copyIcon:"el-icon-share"},on:{copyClick:function(a){return e.handleToBranches(t.row)}}})]}}])})],1)],2)},r=[]},7020:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{attrs:{shadow:"never"}},[a("div",{staticStyle:{position:"relative"}},[a("el-tabs",{attrs:{"before-leave":e.getVersionsReport},model:{value:e.activePannel,callback:function(t){e.activePannel=t},expression:"activePannel"}},[a("el-tab-pane",{attrs:{label:"人员工作量报告",name:"versionEstimateReport"}},e._l(e.versionsEstimate,(function(t,n){return a("div",{key:n,staticStyle:{"margin-top":"20px"},attrs:{index:n,version:t}},[a("el-card",{attrs:{"body-style":{padding:"0px"}}},[a("div",{staticStyle:{"font-size":"14px","font-weight":"600",height:"40px",color:"#fff","background-color":"#2c2a48","text-align":"left","line-height":"40px","padding-left":"10px"}},[a("span",[e._v(e._s(t.version))])]),a("el-table",{attrs:{data:t["details"],"row-class-name":e.tableRowClassName,"cell-style":e.cellStyle,"tree-props":{children:"tasks"},"row-key":"id",size:"medium"}},[e._l(e.columnsParent,(function(t){return[a("el-table-column",{key:t.props,attrs:{label:t.label,prop:t.props,sortable:t.sortable},scopedSlots:e._u([{key:"default",fn:function(n){return["type"===t.props?a("img",{staticStyle:{width:"12px",height:"12px"},attrs:{src:e.typeIcon(n.row.type),alt:""}}):e._e(),a("span",[e._v(e._s(n.row[t.props]))])]}}],null,!0)})]}))],2)],1)],1)})),0),a("el-tab-pane",{attrs:{label:"人员质量报告",name:"versioQualityReport"}},[a("version-quality-report",{attrs:{"active-name":e.activePannel,versions:e.versionsQuality},on:{"update:versions":function(t){e.versionsQuality=t}}})],1)],1),a("div",{staticClass:"cur_project"},[a("el-cascader",{staticStyle:{width:"300px"},attrs:{options:e.projectSprints,props:e.optionProps,placeholder:"请选择项目->迭代",size:"mini"},model:{value:e.spValues,callback:function(t){e.spValues=t},expression:"spValues"}})],1)],1)])},r=[],o=(a("d81d"),a("b680"),a("6e00")),i=a.n(o),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return 0===e.data.length?n("div",{staticClass:"card-body-style"},[n("img",{staticStyle:{height:"200px",width:"200px"},attrs:{alt:"",src:a("7024")}})]):e._e()},l=[],c={name:"noData",props:{data:{type:Array}}},u=c,d=(a("6c20"),a("2877")),p=Object(d["a"])(u,s,l,!1,null,"15cf52e2",null),f=p.exports,m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",e._l(e.versions,(function(t,n){return a("div",{key:n,staticStyle:{margin:"20px auto",width:"80%"},attrs:{index:n,version:t}},[a("el-card",{ref:"companyStyle",refInFor:!0,attrs:{"body-style":{padding:"0px"},"element-loading-spinner":"el-icon-loading","element-loading-text":"拼命加载中"}},[a("div",{staticStyle:{"font-size":"16px","font-weight":"600",height:"40px",color:"#fff","background-color":"#2c2a48","text-align":"left","line-height":"40px","padding-left":"10px"}},[a("span",[e._v(e._s(t.version))])]),a("no-data",{attrs:{data:t.chartData.rows}}),t.chartData.rows.length?a("div",{staticClass:"charts-wrap"},[a("ve-histogram",{staticStyle:{width:"90%",margin:"0 auto"},attrs:{colors:e.options.colors,data:t.chartData,extend:e.extend,settings:e.chartSettings,tooltip:e.options.tooltip,"judge-width":!0,height:"400px"}})],1):e._e()],1)],1)})),0)},h=[],b={name:"versionQualityReport",props:{versions:{type:Array},activeName:{type:String}},components:{noData:f},data:function(){return this.extend={series:{label:{show:!0,position:"top"}}},{options:{colors:["#171E6D","#1E3388","#27539B","#3073AE","#3993C2","#42B3D5","#75C6D1","#A9DACC","#D2EDC8"],colors20:["#5B8FF9","#CDDDFD","#61DDAA","#CDF3E4","#65789B","#CED4DE","#F6BD16","#FCEBB9","#6F5EF9","#D3CEFD","#78D3F8","#D3EEF9","#9661BC","#DECFEA","#F6903D","#FFE0C7","#008685","#BBDEDE","#F08BB4","#FFE0ED"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}}},chartSettings:{axisSite:{right:["人天bug率"]},yAxisType:["KMB","percent"]},columnsParent:[{label:"指派人",props:"bugOwner",sortable:!0},{label:"bug数",props:"bugCount",sortable:!0},{label:"bug分数",props:"point",sortable:!0},{label:"人天bug率",props:"bugRate",sortable:!0},{label:"缺陷id",props:"key",sortable:!1},{label:"状态",props:"status",sortable:!1}]}},methods:{tableRowClassName:function(e){return"Bug"===e.type?"bug-row":""}},mounted:function(){}},g=b,v=(a("0ea0"),Object(d["a"])(g,m,h,!1,null,"ec7e2502",null)),y=v.exports,_={name:"VersionReport",components:{versionQualityReport:y,noData:f},data:function(){return{activePannel:"versionEstimateReport",optionProps:{value:"id",label:"name",children:"sprints"},spValues:[],columnsParent:[{label:"指派人",props:"bugOwner",sortable:!0},{label:"类型",props:"type",sortable:!1},{label:"任务id",props:"key",sortable:!1},{label:"所属story",props:"parentKey",sortable:!0},{label:"状态",props:"status",sortable:!0},{label:"工作量(天)",props:"day",sortable:!0}],columnsChild:[],versionsEstimate:[],versionsQuality:[]}},computed:{projectSprints:function(){return this.$store.state.jira.projects},sprintId:function(){var e=this;return 0===this.spValues.length&&i.a.getLatestSprint({}).then((function(t){e.spValues=[t.data.projId,t.data.id]})),this.spValues[1]}},watch:{sprintId:function(){this.getVersionsReport()}},methods:{cellStyle:function(){return"font: 13px Arial;font-weight: 500; color: #606266;"},getVersionsReport:function(){var e=this;i.a.getVersionDetailsBySprint({sprintId:this.sprintId,type:"noBug"}).then((function(t){e.versionsEstimate=t.data.datas.map((function(e){var t=e.details.map((function(e){return{bugOwner:e.bugOwner,id:e.bugOwner,type:"合计",status:"",day:e.day,tasks:e.tasks}}));return{version:e.version,details:t}}))})),i.a.getVersionDetailsBySprint({sprintId:this.sprintId,type:"Bug"}).then((function(t){e.versionsQuality=t.data.datas.map((function(e){var t=e.details.map((function(e){return{bugOwner:e.bugOwner,"bug数":e.tasks.length,"线下bug分":e.offlinePoint,"线上bug分":e.onlinePoint,"人天bug率":e.day?(e.tasks.length/e.day).toFixed(2):0}}));return{version:e.version,chartData:{rows:t,columns:["bugOwner","bug数","线下bug分","线上bug分","人天bug率"]}}}))}))},tableRowClassName:function(e){return"Bug"===e.row.type?"bug-row":"Sub-task"===e.row.type||"Task"===e.row.type?"task-row":"Story"===e.row.type?"story-row":""},typeIcon:function(e){return"Bug"===e?a("b94e"):"Sub-task"===e?a("2f6f"):"Task"===e?a("6599"):"Story"===e?a("8d7d"):""}},mounted:function(){}},S=_,T=(a("2f2c"),Object(d["a"])(S,n,r,!1,null,"5b420fb0",null));t["default"]=T.exports},7024:function(e,t,a){e.exports=a.p+"img/nodata2j.36236745.png"},7098:function(e,t,a){"use strict";a.r(t);var n=a("e42c"),r=a("d853");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);var i=a("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,"e33a41ac",null);t["default"]=s.exports},"70d6":function(e,t,a){"use strict";a.r(t);var n=a("1007"),r=a("3f02");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);var i=a("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,"a65c9dd8",null);t["default"]=s.exports},"70d9":function(e,t,a){"use strict";a.r(t);var n=a("35e5"),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=r.a},7222:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("el-header",[a("div",[a("el-row",{staticClass:"table-title"},[e._t("title",[e._v(e._s(e.title))])],2),a("el-row",[a("div",{staticClass:"operate-button"},[a("span",[a("el-select",{attrs:{filterable:"",placeholder:"请选择环境"},on:{change:e.changeSelectEnv},model:{value:e.envValueSelect,callback:function(t){e.envValueSelect=t},expression:"envValueSelect"}},e._l(e.envList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("span",[a("el-select",{attrs:{filterable:"",placeholder:"请选择项目"},on:{change:e.changeProj},model:{value:e.projValueSelect,callback:function(t){e.projValueSelect=t},expression:"projValueSelect"}},e._l(e.projectList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("span",[a("el-select",{staticStyle:{"margin-left":"20px"},attrs:{multiple:"","collapse-tags":"",placeholder:"请选择事件状态"},model:{value:e.statusValueSelect,callback:function(t){e.statusValueSelect=t},expression:"statusValueSelect"}},e._l(e.status,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("span",[a("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择事件起始版本"},model:{value:e.startValueSelect,callback:function(t){e.startValueSelect=t},expression:"startValueSelect"}},e._l(e.startVersion,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("span",[a("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择事件结束版本"},model:{value:e.endValueSelect,callback:function(t){e.endValueSelect=t},expression:"endValueSelect"}},e._l(e.endVersion,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("span",[a("el-input",{attrs:{placeholder:"请输入ID或名称查询",size:"mini",clearable:""},model:{value:e.searchValueText,callback:function(t){e.searchValueText=t},expression:"searchValueText"}})],1),a("el-button",{attrs:{plain:""},on:{click:function(t){return e.selectEvent(t)}}},[e._v("查询事件")])],1)])],1)])],1)},r=[]},7226:function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(a("1066")),o=n(a("b18c")),i=n(a("f44c"));t.default={name:"SmokeTestPlan",components:{PackagingTest:r.default,TestPlanEdit:o.default,TestPlanList:i.default},data:function(){return{condition:{}}},methods:{refresh:function(){this.$refs.testPlanList.initTableData()}}}},7234:function(e,t,a){"use strict";a.r(t);var n=a("63ec"),r=a("93f6");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);var i=a("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,"7330e58f",null);t["default"]=s.exports},7299:function(e,t,a){"use strict";a("fc45")},"72d6":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"project_menu"},[a("span",{staticClass:"menu-title"},[e._v(e._s("["+e.title+"]"))]),a("el-select",{attrs:{slot:"prepend",filterable:"",size:"small"},on:{change:e.changeData},slot:"prepend",model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.data,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)},r=[]},"730c":function(e,t,a){"use strict";a("ca82")},"731e":function(e,t,a){"use strict";a.r(t);var n=a("44ba"),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=r.a},7328:function(e,t,a){"use strict";a("56c0")},7368:function(e,t,a){"use strict";a.r(t);var n=a("84fc"),r=a("de28");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);a("db3d");var i=a("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,"904f08ee",null);t["default"]=s.exports},"73ae":function(e,t,a){"use strict";a.r(t);var n=a("2f26"),r=a("8780");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);a("222f");var i=a("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,"4b46cf6a",null);t["default"]=s.exports},7431:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{staticClass:"table-title"},[e._t("title",[e._v(e._s(e.title))])],2),a("el-row",[a("div",{staticClass:"operate-button"},[a("span",{staticClass:"operate-button"},[e.showCreate?a("el-button",{attrs:{icon:e.iconCreate,size:"mini"},on:{click:e.create}},[e._v(" "+e._s(e.createTip)+" ")]):e._e(),e.showRun?a("el-button",{attrs:{icon:e.iconRun,size:"mini"},on:{click:e.runTest}},[e._v(" "+e._s(e.runTip)+" ")]):e._e(),e.showThird?a("el-button",{attrs:{icon:e.iconThird,size:"mini"},on:{click:e.thirdClick}},[e._v(" "+e._s(e.thirdTip)+" ")]):e._e(),e._t("button")],2),e.showSearch?a("span",[a("table-search-input-bar",{attrs:{placeholder:e.placeholder},on:{search:e.handleSearch}}),e.isCombine?a("table-adv-search-bar",{attrs:{condition:e.condition},on:{search:e.handleSearch}}):e._e()],1):e._e()])])],1)},r=[]},"74e1":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-container",[a("el-header",{staticClass:"dashboard-header",attrs:{height:"40px"}},[a("el-row",[a("el-col",[a("el-date-picker",{attrs:{clearable:!1,placeholder:"选择月",type:"month","value-format":"yyyy-MM"},model:{value:e.month,callback:function(t){e.month=t},expression:"month"}})],1)],1)],1),a("el-container",{staticStyle:{height:"calc(100vh - 120px)"}},[a("el-main",{staticStyle:{"margin-top":"15px",padding:"0"}},[a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("div",{staticClass:"card-title",attrs:{slot:"header"},slot:"header"},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"bottom"}},[a("div",{staticStyle:{"line-height":"20px"},attrs:{slot:"content"},slot:"content"},[e._v(" bug指数 = 线下bug分 / 总人天数; "),a("br"),e._v(" 线下bug分 = S0_count * 20 + S1_count * 5 + S2_count * 3 + S3_count * 1; "),a("br")]),a("i",{staticClass:"el-icon-question"})]),a("span",[e._v("线下bug指数月度走势")])],1),a("month-trend-report",{attrs:{month:e.month}})],1),a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{"margin-top":"20px"}},[a("div",{staticClass:"card-title",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("缺陷总览")])]),a("el-table",{attrs:{data:e.tableData,"row-class-name":e.tableRowClassName,"cell-style":e.cellStyle,size:"medium","row-key":"id"}},[e._l(e.columns,(function(t){return[a("el-table-column",{key:t.props,attrs:{label:t.label,prop:t.props,sortable:t.sortable},scopedSlots:e._u([{key:"default",fn:function(n){return[e.levels.indexOf(t.props)>-1&&n.row[t.props]?a("div",[a("el-tag",{attrs:{type:e.tagType(t.props),effect:"dark"}},[e._v(" "+e._s(n.row[t.props])+" ")])],1):a("div",[a("span",[e._v(e._s(n.row[t.props]))])])]}}],null,!0)})]}))],2)],1),a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{"margin-top":"20px"}},[a("div",{staticClass:"card-title",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("缺陷总览/组织架构")])]),a("department-month-report",{attrs:{month:e.month}})],1)],1)],1)],1)],1)},r=[],o=(a("159b"),a("6e00")),i=a.n(o),s=a("7a93"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.tableData,"row-class-name":e.tableRowClassName,"cell-style":e.cellStyle,size:"medium","row-key":"id"}},[e._l(e.columns,(function(t){return[a("el-table-column",{key:t.props,attrs:{label:t.label,prop:t.props,sortable:t.sortable},scopedSlots:e._u([{key:"default",fn:function(n){return[e.levels.indexOf(t.props)>-1&&n.row[t.props]?a("div",[a("el-tag",{attrs:{type:e.tagType(t.props),effect:"dark"}},[e._v(" "+e._s(n.row[t.props])+" ")])],1):0!==n.row[t.props]?a("div",[a("span",[e._v(e._s(n.row[t.props]))])]):e._e()]}}],null,!0)})]}))],2)},c=[],u={name:"DepartmentMonthReport",data:function(){return{loading:!1,chartSettings:{roseType:"radius"},summaryData:{},levels:["P0","P1","P2","P3","S0","S1","S2","S3"],tableData:[],columns:[{label:"组织部门",props:"departName",sortable:!1},{label:"开发人数",props:"peopleCount"},{label:"开发人天",props:"day"},{label:"总bug数",props:"count"},{label:"线上P0",props:"P0"},{label:"线上P1",props:"P1"},{label:"线上P2",props:"P2"},{label:"线上P3",props:"P3"},{label:"线下S0",props:"S0"},{label:"线下S1",props:"S1"},{label:"线下S2",props:"S2"},{label:"线下S3",props:"S3"},{label:"线下bug指数",props:"offlineBugRate",sortable:!0},{label:"P0~S1 平均解决时长(小时)",props:"avgFixTime",sortable:!0},{label:"P0~S1 fix->close时间(小时)",props:"avgCloseTime",sortable:!0}]}},props:{month:{type:String}},watch:{month:function(){this.getDepartMonthReport()}},methods:{cellStyle:function(){return"font: 13px Arial;font-weight: 500; color: #606266;"},tagType:function(e){return["P0","P1","P2","P3"].indexOf(e)>-1?"danger":"warning"},margin:function(e){var t={padding:"10px 0 10px 10px"};return e%2===0&&(t["padding"]="10px 10px 10px 0"),t},tableRowClassName:function(e){return"线上"===e.row.bugLevel?"bug-row":"线下"===e.row.bugLevel?"task-row":""},getDepartMonthReport:function(){var e=this;this.tableData=[],this.loading=!0,i.a.getTestDepartmentMonthReport({month:this.month}).then((function(t){e.summaryData=t.data.summary,e.summaryData.departName="全部",t.data.summary.bugs.forEach((function(t){var a=t.subBugLevel;console.log("ppp",a),e.summaryData[a]=t.count})),e.tableData.push(e.summaryData),t.data.details.forEach((function(t){var a={departName:t.departName,peopleCount:null===t.peopleCount?0:t.peopleCount,count:null===t.count?0:t.count,day:t.day,point:null===t.point?0:t.point,onlinePoint:null===t.onlinePoint?0:t.onlinePoint,offlinePoint:null===t.offlinePoint?0:t.offlinePoint,offlineBugRate:t.offlineBugRate,avgFixTime:t.avgFixTime,avgCloseTime:t.avgCloseTime};null!=t.bugs&&t.bugs.forEach((function(e){var t=e.subBugLevel;a[t]=e.count})),e.tableData.push(a)})),e.loading=!1}))}}},d=u,p=(a("e225"),a("2877")),f=Object(p["a"])(d,l,c,!1,null,"f2964fd6",null),m=f.exports,h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ve-line",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.chartData,settings:e.chartSettings,extend:e.extend}})},b=[],g=(a("99af"),a("b64b"),{name:"MonthTrendReport",data:function(){return this.chartSettings={area:!0},{loading:!1,extend:{tooltip:{formatter:function(e){var t="";e.forEach((function(e,a){t+='\n                  <div style="display: block;height:20px;'.concat(a%2===0?"width: 50%;":"width: 38%;",'float:left;">\n                      <i style="width: 10px;height: 10px;display: inline-block;background: ').concat(e.color,';border-radius: 10px;"></i>\n                      <span>').concat(e.seriesName,": ").concat(e.data,"</span>\n                  </div>\n              ")}));var a='<div style="width: 500px;">'+t+"<div>";return a},position:function(e){return[e[1],0]}}},options:{title:{text:"bug率月度趋势"}},chartData:{columns:[],rows:[]}}},props:{month:{type:String}},watch:{month:function(){this.getMonthTrend()}},methods:{getMonthTrend:function(){var e=this;this.chartData.columns=[],this.chartData.rows=[],this.loading=!0,i.a.getMonthTrendReport({month:this.month}).then((function(t){e.chartData.columns.push("month"),t.data.forEach((function(t){var a={};a.month=Object.keys(t)[0],t[a.month].forEach((function(t){e.chartData.columns.indexOf(t["projName"])<0&&e.chartData.columns.push(t["projName"]),a[t["projName"]]=t["offlineBugRate"]?t["offlineBugRate"]:0})),e.chartData.rows.push(a)})),e.chartSettings.stack={"业务线":e.chartData.columns},e.loading=!1}))}}}),v=g,y=Object(p["a"])(v,h,b,!1,null,"c37c00a6",null),_=y.exports,S={name:"MonthReport",components:{MonthTrendReport:_,DepartmentMonthReport:m},data:function(){return{chartSettings:{roseType:"radius"},month:"",summaryData:{},levels:["P0","P1","P2","P3","S0","S1","S2","S3"],tableData:[],columns:[{label:"项目",props:"projName",sortable:!1},{label:"开发人数",props:"peopleCount"},{label:"开发人天",props:"day"},{label:"总bug数",props:"count"},{label:"线上P0",props:"P0"},{label:"线上P1",props:"P1"},{label:"线上P2",props:"P2"},{label:"线上P3",props:"P3"},{label:"线下S0",props:"S0"},{label:"线下S1",props:"S1"},{label:"线下S2",props:"S2"},{label:"线下S3",props:"S3"},{label:"线下bug指数",props:"offlineBugRate",sortable:!0},{label:"P0~S1 平均解决时长(小时)",props:"avgFixTime",sortable:!0},{label:"P0~S1 fix->close时间(小时)",props:"avgCloseTime",sortable:!0}]}},computed:{loading:function(){return this.$store.state.loading}},watch:{month:function(){this.$router.push({name:s["PathName"].MonthReport,query:{month:this.month}}),this.getMonthReport()}},methods:{cellStyle:function(){return"font: 13px Arial;font-weight: 500; color: #606266;"},tagType:function(e){return["P0","P1","P2","P3"].indexOf(e)>-1?"danger":"warning"},margin:function(e){var t={padding:"10px 0 10px 10px"};return e%2===0&&(t["padding"]="10px 10px 10px 0"),t},tableRowClassName:function(e){return"线上"===e.row.bugLevel?"bug-row":"线下"===e.row.bugLevel?"task-row":""},getMonthReport:function(){var e=this;this.tableData=[],i.a.getTestMonthReport({month:this.month}).then((function(t){e.summaryData=t.data.summary,e.summaryData.projName="全部",t.data.summary.bugs.forEach((function(t){var a=t.subBugLevel;console.log("ppp",a),e.summaryData[a]=t.count})),e.tableData.push(e.summaryData),t.data.details.forEach((function(t){var a={id:t.projId,projName:t.projName,count:null===t.count?0:t.count,peopleCount:null===t.peopleCount?0:t.peopleCount,day:t.day,point:null===t.point?0:t.point,onlinePoint:null===t.onlinePoint?0:t.onlinePoint,offlinePoint:null===t.offlinePoint?0:t.offlinePoint,offlineBugRate:t.offlineBugRate,avgFixTime:t.avgFixTime,avgCloseTime:t.avgCloseTime};null!=t.bugs&&t.bugs.forEach((function(e){var t=e.subBugLevel;a[t]=e.count})),e.tableData.push(a)}))}))}},mounted:function(){this.month=this.$route.query.month?this.$route.query.month:this.$store.state.jira.defaultMonth}},T=S,w=(a("7328"),Object(p["a"])(T,n,r,!1,null,"3edd113f",null));t["default"]=w.exports},"74e4":function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(a("7e31")),o=a("879c");t.default={name:"TableSearchDateTimePicker",components:{TableSearchComponent:r.default},props:["component"],methods:{change:function(e){e===o.OPERATORS.BETWEEN.value?Array.isArray(this.component.value)||(this.component.value=[]):Array.isArray(this.component.value)&&(this.component.value="")}},computed:{type:function(){return this.component.operator.value===o.OPERATORS.BETWEEN.value?"datetimerange":"datetime"}}}},"752f":function(e,t,a){"use strict";a("4549")},"753e":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",[a("div",[a("i",{staticClass:"q-icon fa fa-user"}),a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("用户管理")]),a("el-breadcrumb-item",[e._v("修改密码")])],1)],1),a("el-form",{ref:"addForm",staticClass:"addForm",attrs:{model:e.editData,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:" "}},[a("p",{staticStyle:{color:"#999"}},[e._v("（ 这里的修改只针对本平台有效！）")])]),a("el-form-item",{attrs:{label:"旧密码：",prop:"oldpassword"}},[a("el-input",{attrs:{type:"password"},model:{value:e.editData.oldpassword,callback:function(t){e.$set(e.editData,"oldpassword",t)},expression:"editData.oldpassword"}})],1),a("el-form-item",{attrs:{label:"新密码：",prop:"newpassword"}},[a("el-input",{attrs:{type:"password"},model:{value:e.editData.newpassword,callback:function(t){e.$set(e.editData,"newpassword",t)},expression:"editData.newpassword"}})],1),a("el-form-item",{attrs:{label:"确认密码：",prop:"newpassword2"}},[a("el-input",{attrs:{type:"password"},model:{value:e.editData.newpassword2,callback:function(t){e.$set(e.editData,"newpassword2",t)},expression:"editData.newpassword2"}})],1),a("el-form-item",[a("el-button",{on:{click:e.cancelFun}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.sureFun}},[e._v("确定")])],1)],1)],1)},r=[],o=a("ea9b"),i=a.n(o),s={data:function(){var e=this,t=function(t,a,n){""===a?n(new Error("请确认新密码")):a!==e.editData.newpassword?n(new Error("两次输入密码不一致!")):n()};return{editData:{oldpassword:"",newpassword:"",newpassword2:""},rules:{oldpassword:[{required:!0,message:"请填写旧密码",trigger:"blur"}],newpassword:[{required:!0,message:"请填写新密码",trigger:"blur"}],newpassword2:[{required:!0,validator:t,trigger:"blur"}]}}},computed:{userId:function(){return this.$store.state.login.userid},userName:function(){return this.$store.state.login.username}},created:function(){this.$store.commit("SET_ASIDEHIDDEN",!0)},methods:{cancelFun:function(){this.$store.commit("SET_ASIDEHIDDEN",!1),this.$router.go(-1)},sureFun:function(){var e=this;this.$refs.addForm.validate((function(t){if(t){var a={oldpassword:e.editData.oldpassword,newpassword:e.editData.newpassword};i.a.resetPassword(e.userId,a).then((function(t){e.$message.success({message:"密码修改成功！",type:"success"}),e.$store.commit("SET_ASIDEHIDDEN",!1),e.$router.go(-1)}))}}))}},mounted:function(){}},l=s,c=(a("bfd0"),a("2877")),u=Object(c["a"])(l,n,r,!1,null,"64e863da",null);t["default"]=u.exports},7564:function(e,t,a){},"762d":function(e,t,a){"use strict";a("a434"),Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"NodeBreadcrumb",data:function(){return{data:[]}},props:{nodes:{type:Array},title:{type:String,default:"全部用例"}},watch:{nodes:function(){this.filterData()}},created:function(){this.filterData()},methods:{showAll:function(){this.$emit("refresh")},filterData:function(){if(this.data=this.nodes,this.data.length>4){var e=this.data[this.data.length-1];this.data.splice(1,this.data.length),this.data.push({id:e.id+"1",name:"..."}),this.data.push(e)}}}}},7689:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticClass:"dialog-title",attrs:{"close-on-click-modal":!1,title:e.operation===e.operationEnum.EDIT?"编辑自动化配置":"创建自动化配置",visible:e.dialogFormVisible,width:"65%"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"autoConfigForm",attrs:{model:e.form,rules:e.rules}},[a("el-row",[a("el-col",{attrs:{offset:1,span:10}},[a("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入自动化名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"流水线",prop:"pipelineIds"}},[a("el-select",{attrs:{multiple:"",filterable:""},model:{value:e.form.pipelineIds,callback:function(t){e.$set(e.form,"pipelineIds",t)},expression:"form.pipelineIds"}},e._l(e.pipelineOptions,(function(e){return a("el-option",{key:e.id,attrs:{value:e.id,label:e.name}})})),1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{offset:1,span:10}},[a("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"定时器:",prop:"crontabSchedule"}},[a("el-input",{attrs:{placeholder:"请输入crontab表达式：分 小时 日 月 星期"},model:{value:e.form.crontabSchedule,callback:function(t){e.$set(e.form,"crontabSchedule",t)},expression:"form.crontabSchedule"}})],1)],1),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"开启定时:",prop:"enableAutoTrigger"}},[a("el-radio",{attrs:{label:!0},model:{value:e.form.enableAutoTrigger,callback:function(t){e.$set(e.form,"enableAutoTrigger",t)},expression:"form.enableAutoTrigger"}},[e._v("是")]),a("el-radio",{attrs:{label:!1},model:{value:e.form.enableAutoTrigger,callback:function(t){e.$set(e.form,"enableAutoTrigger",t)},expression:"form.enableAutoTrigger"}},[e._v("否")])],1)],1)],1),a("el-row",[a("el-col",{attrs:{offset:1,span:20}},[a("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"用例标签:",prop:"tags"}},[a("el-input",{attrs:{placeholder:"请输入执行用例的标签,方式有：mark1; not mark1; mark1 or mark2; mark1 and mark2等多种组合方式"},model:{value:e.form.tags,callback:function(t){e.$set(e.form,"tags",t)},expression:"form.tags"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{offset:1,span:20}},[a("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"指定用例:",prop:"cases"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",filterable:"","filter-method":e.selectFilterNodeMethod},on:{change:e.selectChange},model:{value:e.caseNames,callback:function(t){e.caseNames=t},expression:"caseNames"}},[a("el-option",{staticStyle:{height:"auto"},attrs:{value:e.caseNodes}},[a("el-tree",{ref:"caseTree",attrs:{data:e.caseTree,"show-checkbox":"",props:{children:"children",label:"name"},"filter-node-method":e.filterNode,"default-checked-keys":e.form.cases,"node-key":"id"},on:{"check-change":e.handleCheckChange}})],1)],1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{offset:1,span:20}},[a("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"通知群:",prop:"notifyChatIds"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",multiple:"",placeholder:"请选择需要通知的群"},model:{value:e.form.notifyChatIds,callback:function(t){e.$set(e.form,"notifyChatIds",t)},expression:"form.notifyChatIds"}},e._l(e.chatOptions,(function(e){return a("el-option",{key:e.chatId,attrs:{label:e.name,value:e.chatId}})})),1)],1)],1)],1)],1),a("template",{slot:"footer"},[a("dialog-footer",{on:{cancel:function(t){e.dialogFormVisible=!1},confirm:e.savePipeline}})],1)],2)},r=[],o=(a("d81d"),a("b0c0"),a("159b"),a("4de4"),a("365c")),i=a("e73b"),s=a.n(i),l=a("5ec0"),c=a("b889"),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-select",{model:{value:e.prefix,callback:function(t){e.prefix=t},expression:"prefix"}},e._l(e.prefixOptions,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1),a("el-select",{model:{value:e.tag,callback:function(t){e.tag=t},expression:"tag"}},e._l(e.tagOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.name}})})),1),a("el-select",{model:{value:e.suffix,callback:function(t){e.suffix=t},expression:"suffix"}},e._l(e.suffixOptions,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)},d=[],p={name:"tagsSelect",computed:{tagOptions:function(){return[{id:1,name:"smoke"},{id:2,name:"eshop"}]}},data:function(){return{prefixOptions:["","not"],suffixOptions:["","and","or"],tag:"",prefix:"",suffix:""}}},f=p,m=a("2877"),h=Object(m["a"])(f,u,d,!1,null,"26cb1e1a",null),b=h.exports,g={name:"AutoConfigEdit",components:{DialogFooter:l["default"],tagsSelect:b},computed:{owner:function(){return this.$store.getters.userName},formLabelWidth:function(){return s.a["formLabelWidth"]},chatOptions:function(){return this.$store.state.coverage.larkChats}},data:function(){var e=this,t=function(t,a,n){""===a&&0===e.form.cases.length?n(new Error("标签和用例必须填一项")):""!==a&&e.form.cases.length>0?n(new Error("标签和用例只能填一项")):n()},a=function(t,a,n){console.log("value",a),0===a.length&&""===e.form.tags?n(new Error("标签和用例必须填一项")):a.length>0&&""!==e.form.tags?n(new Error("标签和用例只能填一项")):n()};return{dialogFormVisible:!1,operationEnum:c["operationEnum"],tagOptions:[],caseTree:[],pipelineOptions:[],operation:"",caseNames:"",caseNodes:"",form:{name:"",tags:"",cases:[],crontabSchedule:"",enableAutoTrigger:!1,notifyChatIds:[],pipelineIds:[]},rules:{name:[{required:!0,message:"请输入自动化配置名称",trigger:"blur"}],tags:[{required:!1,validator:t,trigger:"blur"}],cases:[{required:!1,validator:a,trigger:"blur"}]}}},mounted:function(){this.getTags(),this.getCaseTree(),this.getPipelines()},methods:{getTags:function(){var e=this;o["autoApi"].getAutoTags().then((function(t){e.tagOptions=t.data}))},getCaseTree:function(){var e=this;o["autoApi"].getAutoCases().then((function(t){e.caseTree=t.data}))},getPipelines:function(){var e=this;o["coverageApi"].getPipelineList({offset:0,limit:1e3}).then((function(t){e.pipelineOptions=t.data.data.map((function(e){return{id:e.id,name:e.name}}))}))},open:function(e){var t=this;this.dialogFormVisible=!0,this.$nextTick((function(){t.$refs.autoConfigForm&&(t.$refs["autoConfigForm"].resetFields(),t.form.cases=[],t.caseNames=[],t.caseNodes=[],t.$refs.caseTree.setCheckedNodes(t.caseNodes)),t.operation=c["operationEnum"].ADD,e&&(t.operation=c["operationEnum"].EDIT,t.form.id=e.id,t.form.name=e.name,t.form.tags=e.tags,t.form.cases=e.cases,t.form.crontabSchedule=e.crontabSchedule,t.form.enableAutoTrigger=e.enableAutoTrigger,t.form.notifyChatIds=e.notifyChatIds,t.form.pipelineIds=e.pipelineIds)}))},savePipeline:function(){var e=this;this.$refs["autoConfigForm"].validate((function(t){if(!t)return!1;var a={name:e.form.name,tags:e.form.tags,cases:e.form.cases,crontabSchedule:e.form.crontabSchedule,enableAutoTrigger:e.form.enableAutoTrigger,pipelineIds:e.form.pipelineIds,notifyChatIds:e.form.notifyChatIds};e.operation===c["operationEnum"].ADD?a.owner=e.owner:e.operation===c["operationEnum"].EDIT&&(a.id=e.form.id),o["autoApi"].createOrEditAutoConfig(a).then((function(){e.$emit("fatherMethod")})).catch((function(){})),e.dialogFormVisible=!1}))},selectChange:function(e){var t=[],a=[];this.caseNodes.forEach((function(n){e.forEach((function(e){e==n.name&&(t.push(n),a.push(n.id))}))})),this.form.cases=a,this.$refs.caseTree.setCheckedNodes(t)},handleCheckChange:function(e,t,a){var n=this.$refs.caseTree.getCheckedNodes(!0,!0),r=[],o=[],i=[];n.forEach((function(e){r.push(e.id),o.push(e.name),i.push(e)})),this.form.cases=r,this.caseNames=o,this.caseNodes=i},filterNode:function(e,t){return!e||-1!==t.name.indexOf(e)},selectFilterNodeMethod:function(e){this.$refs.caseTree.filter(e)}}},v=g,y=Object(m["a"])(v,n,r,!1,null,"6ef38bad",null);t["default"]=y.exports},"768a":function(e,t,a){"use strict";a("f20d")},"76c8":function(e,t,a){"use strict";a("9ca3")},7749:function(e,t,a){"use strict";a.r(t);var n=a("d849"),r=a("d916");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);a("26a6");var i=a("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,"78efcc5c",null);t["default"]=s.exports},7754:function(e,t,a){},"779c":function(e,t,a){},"779e":function(e,t,a){},7828:function(e,t,a){"use strict";a.r(t);var n=a("8105"),r=a("59b7");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);var i=a("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,"8304346e",null);t["default"]=s.exports},7881:function(e,t,a){"use strict";a("b9cb")},"7a93":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PathName=void 0,function(e){e["Home"]="home",e["Dashboard"]="dashboard",e["TestTrack"]="test_track",e["TestTrackProject"]="test_track_project",e["TestTrackTestcaseProject"]="test_track_testcase_project",e["TestTrackTestcaseModule"]="test_track_testcase_module",e["TestTrackCaseReview"]="test_track_case_review",e["TestTrackCaseReviewView"]="test_track_case_review_view",e["TestTrackCasePlan"]="test_track_case_plan_smoke",e["TestTrackNotSmokePlan"]="test_track_case_plan_notsmoke",e["TestTrackCasePlanView"]="test_track_case_plan_view",e["TestTrackCasePlanReport"]="test_track_case_plan_report",e["TestTrackBuriedDataReview"]="test_track_buried_data",e["TestTrackProfileReview"]="test_track_buried_profile",e["QualityReport"]="quality_report",e["VersionReport"]="version_report",e["MonthReport"]="month_report",e["ProjectTolerance"]="project_tolerance",e["TestTool"]="test_tool",e["Flower"]="flower",e["PrMerged"]="prMerged",e["PrMergeJira"]="PrMergeJira",e["ApprovalNotify"]="approval_notify",e["ApolloNotify"]="apollo_notify",e["ApolloIntlNotify"]="apollo_intl_notify",e["Apollo"]="apollo",e["ApolloIntl"]="apolloIntl",e["UserConfig"]="userConfig",e["SpuConfig"]="SpuConfig",e["OrderConfig"]="OrderConfig",e["LessonConfig"]="LessonConfig",e["UserGantt"]="user_gantt",e["EfficiencyData"]="efficiency_data",e["MonthResourceReport"]="month_resource_report",e["SprintDetail"]="sprint_detail",e["SprintOverView"]="sprint_over_view",e["Pipeline"]="pipeline",e["PipelineFullCoverageTrend"]="pipeline_full_coverage_trend",e["PipelineBuildRecord"]="pipeline_build_record",e["PipelineBuildRecordByPipelineId"]="pipeline_build_record_by_pipelineId",e["PipelineBuildConsole"]="pipeline_build_console",e["PipelineServerBuildRecord"]="pipeline_server_build_record",e["PipelineServerBuildRecordByPipelineId"]="pipeline_server_build_record_by_pipelineId",e["FullSonar"]="full_sonar",e["GitLabProjects"]="git_lab_projects",e["GitLabProjectBranches"]="git_lab_project_branches",e["AutoConfig"]="auto_config",e["AutoCaseBuildRecord"]="auto_case_build_record",e["AutoCaseBuildRecordByConfigId"]="auto_case_build_by_configId",e["AutoCaseReport"]="auto_case_report",e["SelfPassword"]="self_password",e["Login"]="login",e["SslLogin"]="ssoLogin"}(t.PathName||(t.PathName={}))},"7b25":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{staticClass:"dialog-title",attrs:{"close-on-click-modal":!1,title:e.operationType[e.operation],visible:e.dialogFormVisible,width:"65%"},on:{"update:visible":function(t){e.dialogFormVisible=t},close:e.close}},[a("test-case-form",{ref:"testCaseForm",attrs:{condition:e.condition,"read-only":e.readOnly}}),a("template",{slot:"footer"},[e.operation===e.operationEnum.ADD?a("el-switch",{attrs:{"active-text":"保存并继续创建"},model:{value:e.isCreateContinue,callback:function(t){e.isCreateContinue=t},expression:"isCreateContinue"}}):e._e(),e.readOnly?e._e():a("dialog-footer",{on:{cancel:function(t){e.dialogFormVisible=!1},confirm:e.saveCase}})],1)],2)],1)},r=[]},"7b49":function(e,t,a){"use strict";a.r(t);var n=a("b7e5"),r=a("6c5c");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);var i=a("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,"47e9ef76",null);t["default"]=s.exports},"7bb5":function(e,t,a){"use strict";a.r(t);var n=a("0c70"),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=r.a},"7c2e":function(e,t,a){"use strict";a.r(t);var n=a("e4b0"),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=r.a},"7c3c":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{staticStyle:{"margin-top":"20px"}},[a("div",{staticClass:"title",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("月度资源报告")]),a("el-date-picker",{staticStyle:{width:"200px",float:"right",padding:"3px 0",border:"0"},attrs:{clearable:!1,placeholder:"选择月",type:"month","value-format":"yyyy-MM"},model:{value:e.month,callback:function(t){e.month=t},expression:"month"}})],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{"margin-top":"-10px"},attrs:{data:e.tableData,"row-key":"id",size:"medium"}},[e._l(e.columns,(function(t){return[a("el-table-column",{key:t.prop,attrs:{prop:t.prop,label:t.label,width:t.width},scopedSlots:e._u([{key:"default",fn:function(n){return[t.editable?a("el-input",{staticStyle:{width:"60%"},on:{change:function(t){return e.changeMark(n.row)}},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.target.blur(t)}},model:{value:n.row[t.prop],callback:function(a){e.$set(n.row,t.prop,a)},expression:"scope.row[col.prop]"}}):a("span",[e._v(e._s(n.row[t.prop]))])]}}],null,!0)})]}))],2)],1)],1)},r=[],o=(a("d81d"),a("365c")),i={name:"MonthResourceReport",data:function(){return{loading:!1,month:"",tableData:[],columns:[{label:"部门",prop:"departName",editable:!1},{label:"负责人",prop:"leader",editable:!1},{label:"人数",prop:"peopleCount",editable:!1},{label:"工作日",prop:"workDays",editable:!1},{label:"总工时",prop:"totalWorkingDays",editable:!1},{label:"上月开始,本月完成",prop:"preDepartmentDays",editable:!1},{label:"本月开始,本月完成",prop:"currentDepartmentDays",editable:!1},{label:"本月开始,下月完成",prop:"nextDepartmentDays",editable:!1},{label:"工时差值",prop:"targetDaysDiff",editable:!1},{label:"饱和度",prop:"productivity",editable:!1},{label:"备注",prop:"mark",editable:!0}]}},mounted:function(){this.getdatatime()},watch:{month:function(){this.getMonthReport()}},methods:{getdatatime:function(){this.month=(new Date).format("yyyy-MM")},getMonthReport:function(){var e=this;this.loading=!0,o["jiraApi"].getMonthResourceReport({month:this.month}).then((function(t){e.tableData=t.data.map((function(e){return{id:e.id,departName:e.departName,leader:e.leader,peopleCount:e.peopleCount,workDays:e.workDays,totalWorkingDays:e.totalWorkingDays,preDepartmentDays:e.preDepartmentDays,currentDepartmentDays:e.currentDepartmentDays,nextDepartmentDays:e.nextDepartmentDays,targetDaysDiff:e.targetDaysDiff,productivity:e.productivity,mark:e.mark,editable:e.editable}})),e.loading=!1}))},changeMark:function(e){var t=this;o["jiraApi"].editMonthResourceReport(e.id,e).then((function(e){t.getMonthReport()}))}}},s=i,l=(a("7fb8"),a("2877")),c=Object(l["a"])(s,n,r,!1,null,"4a480077",null);t["default"]=c.exports},"7d04":function(e,t,a){"use strict";a.r(t);var n=a("f0b0"),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=r.a},"7d3b":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.approvalNotifyRules=t.approvalNotifyForm=t.prMergedNotifyRules=t.prMergedPRForm=t.prMergedNotifyForm=void 0,t.prMergedNotifyForm={project:void 0,sourceBranch:void 0,targetBranch:void 0,chatId:[]},t.prMergedPRForm={project:void 0,isJiraActive:void 0},t.prMergedNotifyRules={project:[{required:!0,message:"请输入项目路径",trigger:"blur"}],targetBranch:[{required:!0,message:"请输入合并目标分支",trigger:"blur"}],chatId:[{required:!0,message:"请选择结果通知群",trigger:"blur"}],isJiraActive:[{required:!0,message:"请选择是否激活jira联动PR",trigger:"blur"}]},t.approvalNotifyForm={project:void 0,chatId:[]},t.approvalNotifyRules={project:[{required:!0,message:"请输入项目名称",trigger:"blur"}],chatId:[{required:!0,message:"请选择结果通知群",trigger:"blur"}]}},"7dbe":function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(a("365c")),o=n(a("4328"));t.default={createTestCasePlan:function(e){return r.default({method:"post",url:"v1/test/plan",data:e})},updateTestCasePlan:function(e,t){return r.default({method:"patch",url:"v1/test/plan/".concat(e),data:t})},deleteTestCasePlan:function(e){return r.default({method:"delete",url:"v1/test/plan/".concat(e)})},getTestCasePlanList:function(e){return r.default({method:"get",url:"v1/test/plan",params:e,paramsSerializer:function(e){return o.default.stringify(e,{arrayFormat:"repeat"})}})},getTestCasePlanDetail:function(e){return r.default({method:"get",url:"v1/test/plan/".concat(e)})},getTestCasePlanReport:function(e){return r.default({method:"get",url:"v1/test/plan/".concat(e,"/report")})},updateTestCasePlanCaseList:function(e,t){return r.default({method:"post",url:"v1/test/plan/".concat(e,"/case/relate"),data:t})},getTestCasePlanCaseList:function(e,t){return r.default({method:"get",url:"v1/test/plan/".concat(e,"/case"),params:t,paramsSerializer:function(e){return o.default.stringify(e,{arrayFormat:"repeat"})}})},getTestCasePlanUnRelateCaseList:function(e,t){return r.default({method:"get",url:"/v1/test/plan/".concat(e,"/case/no_relate"),params:t,paramsSerializer:function(e){return o.default.stringify(e,{arrayFormat:"repeat"})}})},getTestCasePlanCaseTree:function(e){return r.default({method:"get",url:"v1/test/plan/".concat(e,"/tree")})},getTestPlanSmokePassRate:function(e){return r.default({method:"get",url:"v1/test/plan/".concat(e,"/smoke/pass_rate")})},getPackagingTestApproval:function(e,t){return r.default({method:"get",url:"v1/test/plan/".concat(e,"/smoke/packaging_test"),params:t})},createPackagingTestApproval:function(e,t){return r.default({method:"post",url:"v1/test/plan/".concat(e,"/smoke/packaging_test"),data:t})},updateApprovalStatus:function(e,t){return r.default({method:"post",url:"v1/test/plan/".concat(e,"/smoke/packaging_test/approval_status"),data:t})},sendReportEmail:function(e,t){return r.default({method:"post",url:"v1/test/plan/".concat(e,"/send_report"),data:t})},getSonarResult:function(e){return r.default({method:"get",url:"v1/sonar",params:e,paramsSerializer:function(e){return o.default.stringify(e,{arrayFormat:"repeat"})}})}}},"7dc1":function(e,t,a){"use strict";a.r(t);var n=a("58e1"),r=a("7c2e");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);a("405d");var i=a("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,"efaea8f2",null);t["default"]=s.exports},"7de2":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{staticClass:"card-content"},[a("template",{slot:"header"},[a("table-header",{attrs:{condition:e.condition,"create-tip":"创建jira联动PR配置",placeholder:"根据项目名称搜索"},on:{create:e.handleAddOrEdit,search:e.handleSearch}},[a("template",{slot:"title"},[a("div",[e._v("jira联动PR配置")])])],2)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"table",attrs:{data:e.tableData},on:{"filter-change":e.filter}},[a("el-table-column",{attrs:{label:"项目名称",prop:"project","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"激活状态",prop:"status"}}),a("el-table-column",{attrs:{width:e.table2BtnWidth,label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("table-operator",{attrs:{"show-delete":"","show-edit":""},on:{deleteClick:function(a){return e.handleDelete(t.row)},editClick:function(a){return e.handleAddOrEdit(t.row)}}})]}}])})],1),a("table-pagination",{attrs:{change:e.initTableData,"current-page":e.currentPage,"page-size":e.pageSize,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t}}})],2),a("el-dialog",{staticClass:"dialog-title",attrs:{"close-on-click-modal":!1,title:e.operation===e.operationEnum.EDIT?"编辑jira联动PR配置":"创建jira联动PR配置",visible:e.dialogFormVisible,width:"65%"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"prMergedPRForm",attrs:{model:e.form,rules:e.rules}},[a("el-row",[a("el-col",{attrs:{offset:1,span:10}},[a("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"项目",prop:"project"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择项目"},model:{value:e.form.project,callback:function(t){e.$set(e.form,"project",t)},expression:"form.project"}},e._l(e.projectPathOptions,(function(e){return a("el-option",{key:e.path,attrs:{label:e.project,value:e.path}})})),1)],1)],1),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"开通",prop:"isJiraActive"}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-value":"1","inactive-value":"0"},model:{value:e.form.isJiraActive,callback:function(t){e.$set(e.form,"isJiraActive",t)},expression:"form.isJiraActive"}})],1)],1)],1)],1),a("template",{slot:"footer"},[a("dialog-footer",{on:{cancel:function(t){e.dialogFormVisible=!1},confirm:e.saveConfig}})],1)],2)],1)},r=[]},"7e04":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{height:"100%"}},[a("iframe",{attrs:{src:"http://qaflower.jlgltech.com",scrolling:"auto",width:"100%",height:"100%",frameborder:"0"}})])}],o={name:"flower",mounted:function(){}},i=o,s=a("2877"),l=Object(s["a"])(i,n,r,!1,null,"9bc2a43e",null);t["default"]=l.exports},"7e31":function(e,t,a){"use strict";a.r(t);var n=a("1369"),r=a("250f");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);a("58d8");var i=a("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,"12d1c0fc",null);t["default"]=s.exports},"7ea8":function(e,t,a){"use strict";a("159b"),a("a434");var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(a("e73b")),o=n(a("ba07")),i=a("b889"),s=a("9ddf");t.default={name:"TestCaseForm",components:{TableOperator:o.default},data:function(){return{executionEnum:i.executionEnum,moduleOptions:[],maintainerOptions:[],priorityOptions:[],executionOptions:[],caseTypeOptions:[],form:{},testOptions:[],rules:this.readOnly?{}:s.caseFormRules,isStepTableAlive:!0}},props:{readOnly:{type:Boolean,default:!0},condition:Object},computed:{formLabelWidth:function(){return r.default["formLabelWidth"]},table3BtnWidth:function(){return r.default["table3BtnWidth"]},loading:function(){return this.$store.state.loading}},methods:{initSelectOptions:function(){this.moduleOptions=this.condition.moduleOptions,this.maintainerOptions=this.condition.maintainerOptions,this.priorityOptions=this.condition.priorityOptions,this.executionOptions=this.condition.executionOptions,this.caseTypeOptions=this.condition.caseTypeOptions},initForm:function(e){this.initSelectOptions(),this.form=e},handleAddStep:function(e,t){var a={stepNumber:t.stepNumber+1,actions:"",expectedresults:""};this.form.steps.forEach((function(e){e.stepNumber>t.stepNumber&&e.stepNumber++})),this.form.steps.splice(e+1,0,a)},handleCopyStep:function(e,t){var a={stepNumber:t.stepNumber+1,actions:t.actions,expectedresults:t.expectedresults};this.form.steps.forEach((function(e){e.stepNumber>t.stepNumber&&e.stepNumber++})),this.form.steps.splice(e+1,0,a)},handleDeleteStep:function(e,t){this.form.steps.splice(e,1),this.form.steps.forEach((function(e){e.stepNumber>t.stepNumber&&e.stepNumber--}))},typeChange:function(){this.form.testId="",this.getTestOptions()},getTestOptions:function(){var e=this;this.testOptions=[],this.currentProject&&""!=this.form.type&&"functional"!=this.form.type?this.expectedresults=this.$get("/"+this.form.type+"/list/"+this.currentProject.id,(function(t){e.testOptions=t.data,e.testOptions.unshift({id:"other",name:e.$t("test_track.case.other")})})):"functional"===this.form.type&&(this.testOptions=[{id:"other",name:this.$t("test_track.case.other")}],this.form.testId="other")}}}},"7eac":function(e,t,a){},"7ef4":function(e,t,a){"use strict";a("779c")},"7f0f":function(e,t,a){"use strict";a("4a35")},"7f54":function(e,t,a){"use strict";a.r(t);var n=a("0dde"),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=r.a},"7f55":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{staticClass:"card-content"},[a("template",{slot:"header"},[a("table-header",{attrs:{condition:e.condition,"create-tip":e.allCase?"我的用例":"全部用例","icon-create":e.allCase?"el-icon-s-custom":"el-icon-files","icon-run":"el-icon-connection","icon-third":"el-icon-document-remove","run-tip":"关联测试用例","show-run":"","show-third":"","third-tip":"取消全部关联"},on:{create:e.handleSwitch,runTest:e.handleRelateCase,search:e.handleSearch,thirdClick:e.handleDelete}},[a("template",{slot:"title"},[a("node-breadcrumb",{attrs:{nodes:e.selectParentNodes},on:{refresh:e.refreshTable}})],1),a("template",{slot:"button"},[e.planStage===e.planStageEnum.SMOKE?a("el-button",{attrs:{icon:e.isQa?"el-icon-s-check":"el-icon-cpu"},on:{click:function(t){e.isQa=!e.isQa}}},[e._v(" "+e._s(e.isQa?"测试验证":"开发执行")+" ")]):e._e()],1)],2)],1),a("el-table",{ref:"table",attrs:{data:e.tableData,"row-key":"id"},on:{select:e.handleSelectionChange,"select-all":e.handleSelectAll,"row-click":e.handleRunTest,"filter-change":e.filter}},[a("el-table-column",{attrs:{type:"selection"}}),a("el-table-column",{attrs:{resizable:!1,align:"center",width:"40"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("show-more-btn",{attrs:{buttons:e.buttons,"is-disabled":t.row.isDisabled,size:e.selectRows.size}})]}}])}),a("el-table-column",{attrs:{label:"名称",prop:"caseDetail.name","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{filters:e.priorityOptions,"column-key":"importance",label:"用例等级",prop:"caseDetail.importance","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(e){return[a("priority-table-item",{attrs:{value:e.row.caseDetail.importance}})]}}])}),a("el-table-column",{attrs:{"column-key":"caseDetail.caseType",label:"类型",prop:"caseDetail.caseType","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(e){return[a("case-type-table-item",{attrs:{value:e.row.caseDetail.caseType}})]}}])}),a("el-table-column",{attrs:{"column-key":"method",label:"测试方式",prop:"caseDetail.executionType","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(e){return[a("execution-type-table-item",{attrs:{value:e.row.caseDetail.executionType}})]}}])}),a("el-table-column",{attrs:{label:"所属模块",prop:"treePath","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{filters:e.projects,"column-key":"projId",label:"所属项目",prop:"projName"}}),a("el-table-column",{attrs:{label:"缺陷",prop:"issues","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{filters:e.users,"column-key":"executor",label:"执行人",prop:"executor","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{filters:e.planResultOptions,"column-key":"status",label:"执行结果"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("plan-case-status-table-item",{attrs:{value:e.row.status}})]}}])}),e.planStage===e.planStageEnum.SMOKE?a("el-table-column",{attrs:{filters:e.planResultOptions,"column-key":"smokeCheck",label:"确认结果"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("plan-case-status-table-item",{attrs:{value:e.row.smokeCheck}})]}}],null,!1,2577425347)}):e._e(),a("el-table-column",{attrs:{width:e.tableTimeWidth,label:"更新时间",prop:"updatedAt","show-overflow-tooltip":"",sortable:""}}),a("el-table-column",{attrs:{width:e.table2BtnWidth,label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("table-operator",{attrs:{"delete-icon":"el-icon-link","delete-tip":"取消关联","show-delete":"","show-run":""},on:{deleteClick:function(a){return e.handleDelete(t.row)},runClick:function(a){return e.handleRunTest(t.row)}}})]}}])})],1),a("table-pagination",{attrs:{change:e.initTableData,"current-page":e.currentPage,"page-size":e.pageSize,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t}}})],2),a("test-case-plan-run",{ref:"testPlanTestCaseRun",attrs:{"plan-id":e.planId},on:{refresh:e.refreshTable}}),a("test-case-relevance",{ref:"testCaseRelevance",attrs:{"plan-id":e.planId},on:{refreshTable:e.refreshTable}}),a("batch-edit",{ref:"batchEdit",attrs:{"type-arr":e.caseBatchEditOptions,"value-arr":e.batchEditValueArr,"dialog-title":"批量编辑用例"},on:{batchEdit:e.batchEdit}})],1)},r=[]},"7f61":function(e,t,a){"use strict";var n=a("c973").default,r=a("278c").default;a("96cf"),a("d81d"),a("4fad"),a("4de4");var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a("365c"),s=a("b889"),l=a("e551"),c=o(a("072e")),u=Object.entries(s.stepStatusType).map((function(e){var t=r(e,2),a=t[0],n=t[1];return{text:n,value:a}}));t.default={name:"TestReviewTestCaseEdit",components:{TestReviewCaseStepStatus:c.default},data:function(){return{reviewCaseStatusEnum:l.reviewCaseStatusEnum,caseTypeEnum:s.caseTypeEnum,executionEnum:s.executionEnum,priorityType:s.priorityType,executionType:s.executionType,caseTypeType:s.caseTypeType,stepStatusOptions:u,showDialog:!1,testCase:{},index:0,total:0,parent:"",tableData:[],testStatus:"",activeTab:"detail",isFailure:!0}},props:{readOnly:{type:Boolean,default:!1}},computed:{loading:function(){return this.$store.state.loading},reviewId:function(){return this.$route.params.reviewId},offset:function(){return this.parent.pageSize*(this.parent.currentPage-1)}},inject:["projects"],mounted:function(){var e=this;this.$eventBus.$on("testReviewCaseRun",(function(t,a,n){e.parent=n,e.open(t,a)}))},methods:{cancel:function(){this.showDialog=!1},saveCase:function(e){var t=this;this.testStatus=e;var a={type:s.caseUpdateTypeEnum.UPDATE_REVIEW_STATUS,status:e,reviewId:this.reviewId};i.testCaseApi.updateTestCase(this.testCase.id,a).then((function(){t.testCase.status=e,t.handleNext()}))},handleNext:function(){var e=this;return n(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.index+e.offset+1!==e.total){t.next=2;break}return t.abrupt("return");case 2:if(e.index+1===e.tableData.length){t.next=7;break}e.index++,e.getTestCase(e.index),t.next=21;break;case 7:return t.prev=7,e.parent.currentPage++,e.index=-1,t.next=12,e.parent.getData();case 12:return e.tableData=e.parent.tableData,t.next=15,e.handleNext();case 15:t.next=21;break;case 17:t.prev=17,t.t0=t["catch"](7),e.index=e.parent.pageSize-1,e.parent.currentPage--;case 21:case"end":return t.stop()}}),t,null,[[7,17]])})))()},handlePre:function(){var e=this;return n(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0===e.index){t.next=5;break}e.index--,e.getTestCase(e.index),t.next=19;break;case 5:return t.prev=5,e.parent.currentPage--,e.index=e.parent.pageSize,t.next=10,e.parent.getData();case 10:return e.tableData=e.parent.tableData,t.next=13,e.handlePre();case 13:t.next=19;break;case 15:t.prev=15,t.t0=t["catch"](5),e.index=e.parent.pageSize+1,e.parent.currentPage++;case 19:case"end":return t.stop()}}),t,null,[[5,15]])})))()},getTestCase:function(e){this.testCase=this.tableData[e]},open:function(e,t){this.activeTab="detail",this.total=this.parent.total,this.testCase=e,this.tableData=t,this.index=this.tableData.indexOf(e),this.showDialog=!0},stepResultChange:function(){this.testCase.method===s.executionEnum.MANUAL&&(this.isFailure=this.testCase.caseDetail.steps.filter((function(e){return e.actualStatus===s.stepStatusEnum.FAIL||e.actualStatus===s.stepStatusEnum.BLOCK})).length>0)}}}},"7fb8":function(e,t,a){"use strict";a("30f2")},8011:function(e,t,a){"use strict";a("2c75")},8023:function(e,t,a){"use strict";a("56e2")},"802e":function(e,t,a){},"808f":function(e,t,a){},8105:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",[a("template",{slot:"header"},[a("table-header",{attrs:{condition:e.condition,placeholder:"根据配置名称搜索",showCreate:!1,showSearch:""===e.configId},on:{search:e.handleGetBuildRecord}},[a("template",{slot:"title"},[a("div",[e._v("接口自动化执行记录")])])],2)],1),a("el-table",{attrs:{data:e.tableData,size:"medium"}},[a("el-table-column",{attrs:{prop:"id",label:"构建id"}}),a("el-table-column",{attrs:{prop:"autoConfigName",label:"配置名称"}}),a("el-table-column",{attrs:{prop:"username",label:"触发者"}}),a("el-table-column",{attrs:{prop:"createdAt",label:"构建时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(new Date(t.row.createdAt).format("yyyy-MM-dd hh:mm:ss")))])]}}])}),a("el-table-column",{attrs:{prop:"status",label:"构建状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:e.tagType(t.row),effect:"dark"}},[e._v(e._s(t.row.statusChinese))])]}}])}),a("el-table-column",{attrs:{prop:"mark",label:"备注"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("table-operator",{attrs:{"report-tip":"查看报告","show-report":""},on:{reportClick:function(a){return e.handleToAllureReport(t.row)}}})]}}])})],1),a("table-pagination",{attrs:{change:e.getBuildRecord,"current-page":e.currentPage,"page-size":e.pageSize,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t}}})],2)},r=[]},8118:function(e,t,a){"use strict";a("aae1")},"816f":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("sprint-estimate")],1)},r=[],o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("div",{staticClass:"title_big",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("项目资源报告")]),a("i",{staticClass:"el-icon-refresh",staticStyle:{"font-size":"16px",color:"#909399",cursor:"pointer",float:"right"},on:{click:function(t){return e.synReport()}}},[e._v("刷新")])]),a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{shadow:"never"}},[a("div",{staticClass:"title",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("迭代时间："+e._s(e.sprintTime))]),a("el-cascader",{staticStyle:{width:"400px",float:"right",padding:"3px 0",border:"0"},attrs:{options:e.projectSprints,props:e.optionProps,placeholder:"请选择项目->迭代",size:"mini"},model:{value:e.spValues,callback:function(t){e.spValues=t},expression:"spValues"}}),a("span",{staticClass:"title-right"},[e._v("技改需求数："+e._s(e.techStoryCount))]),a("span",{staticClass:"title-right"},[e._v(" 业务需求数："+e._s(e.businessStoryCount))]),a("el-input",{staticStyle:{"margin-top":"10px","font-size":"13px"},attrs:{type:"textarea",rows:5,disabled:!0},model:{value:e.textarea,callback:function(t){e.textarea=t},expression:"textarea"}})],1),a("el-table",{attrs:{data:e.tableData,"row-key":"id",size:"medium"}},[e._l(e.tableColumns,(function(t){return[a("el-table-column",{key:t.prop,attrs:{prop:t.prop,label:t.label,width:t.width},scopedSlots:e._u([{key:"default",fn:function(n){return[a("el-tooltip",{staticClass:"item",attrs:{disabled:"mark"!==t.prop,effect:"dark",content:n.row[t.prop],placement:"top"}},[t.editable?a("el-input",{staticStyle:{width:"80%"},on:{change:function(a){return e.changeSprintEstimate(t.prop,n.row)}},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.target.blur(t)}},model:{value:n.row[t.prop],callback:function(a){e.$set(n.row,t.prop,a)},expression:"scope.row[col.prop]"}}):t.isClick?a("span",{on:{click:function(t){return e.goto(n.row)}}},[e._v(e._s(n.row[t.prop]))]):"saturation"===t.prop?a("span",[e._v(e._s(n.row[t.prop])+"%")]):a("span",[e._v(e._s(n.row[t.prop]))])],1)]}}],null,!0)})]}))],2)],1),a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{"margin-top":"15px"},attrs:{shadow:"never"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("span",{staticClass:"title_top"},[e._v("研发测试投入及BUG数")]),0===e.resourceData.rows.length?a("div",{staticStyle:{margin:"50px"}},[a("span",{staticStyle:{"font-size":"16px",color:"#909390"}},[e._v("暂无数据")])]):a("ve-histogram",{staticStyle:{"margin-top":"20px"},attrs:{data:e.resourceData,extend:e.resourceExtend}})],1),a("el-col",{attrs:{span:12}},[a("span",{staticClass:"title_top"},[e._v("占用研发+测试资源Top10需求(人天)")]),0===e.rankData.rows.length?a("div",{staticStyle:{"margin-top":"50px"}},[a("span",{staticStyle:{"font-size":"16px",color:"#909390"}},[e._v("暂无数据")])]):a("ve-bar",{attrs:{data:e.rankData,extend:e.extend,tyle:"margin-top: 20px"}})],1)],1)],1),a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{"margin-top":"15px"},attrs:{shadow:"never"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("span",{staticClass:"title_top"},[e._v("Bug质量分")]),0===e.bugPointData.rows.length?a("div",{staticStyle:{margin:"50px"}},[a("span",{staticStyle:{"font-size":"16px",color:"#909390"}},[e._v("暂无数据")])]):e._e(),a("ve-line",{attrs:{data:e.bugPointData,extend:e.pointExtend,tyle:"margin-top: 20px"}})],1),a("el-col",{attrs:{span:12}},[a("el-select",{staticStyle:{width:"200px",padding:"3px 0",border:"0","z-index":"99",float:"right"},model:{value:e.fix_type,callback:function(t){e.fix_type=t},expression:"fix_type"}},e._l(e.fixTypes,(function(e){return a("el-option",{key:e.label,attrs:{label:e.label,value:e.label}})})),1),a("span",{staticClass:"title_top"},[e._v("Bug修复时长/h")]),0===e.bugFixTimeData.rows.length?a("div",{staticStyle:{margin:"50px"}},[a("span",{staticStyle:{"font-size":"16px",color:"#909390"}},[e._v("暂无数据")])]):e._e(),a("ve-line",{attrs:{data:e.bugFixTimeData,extend:e.fixExtend,tyle:"margin-top: 20px"}})],1),a("download-excel",{attrs:{data:e.json_data,fields:e.json_fields,type:"xls",name:"Bug详情.xls"}},[a("i",{staticClass:"el-icon-download",staticStyle:{"font-size":"16px",color:"#909399",cursor:"pointer"}},[e._v("下载详情")])])],1)],1),a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{"margin-top":"15px"},attrs:{shadow:"never"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("span",{staticClass:"title_top"},[e._v("研发测试投入占比")]),0===e.rankData.rows.length?a("div",{staticStyle:{margin:"50px"}},[a("span",{staticStyle:{"font-size":"16px",color:"#909390"}},[e._v("暂无数据")])]):a("ve-pie",{staticStyle:{"margin-left":"-50px","margin-top":"-20px"},attrs:{data:e.developResourceData,settings:e.chartSettings,extend:e.pieExtend}})],1),a("el-col",{attrs:{span:12}},[a("span",{staticClass:"title_top"},[e._v("饱和度")]),0===e.saturationData.rows.length?a("div",{staticStyle:{margin:"50px"}},[a("span",{staticStyle:{"font-size":"16px",color:"#909390"}},[e._v("暂无数据")])]):e._e(),a("ve-line",{attrs:{data:e.saturationData,extend:e.satExtend,tyle:"margin-top: 20px"}})],1)],1)],1)],1)],1)},i=[],s=(a("159b"),a("b64b"),a("b0c0"),a("d81d"),a("b680"),a("6e00")),l=a.n(s),c=a("2ef0"),u=a("f2d9"),d=a("7a93"),p={name:"SprintEstimate",components:{downloadExcel:u["a"]},data:function(){return{textarea:"",json_fields:{"关键字":"key","概要":"summary",Sprint:"sprintName","创建日期":"created","报告人":"creator","平台":"platform","Bug Owner":"bugOwner","Server环境":"env","Bug Level":"subBugLevel","修复时长":"fixHour","关闭时长":"closeHour"},json_data:[],json_meta:[[{key:"charset",value:"utf-8"}]],extend:{legend:{bottom:"20px"}},pointExtend:{legend:{show:!1},series:{smooth:!1}},satExtend:{legend:{show:!1},series:{smooth:!1},yAxis:{axisLabel:{show:!0,interval:"auto",formatter:"{value}%"}},tooltip:{formatter:"{c}%"}},fixExtend:{legend:{bottom:"20px"},series:{smooth:!1}},resourceExtend:{label:{show:!0,position:"top",color:"inherit",fontStyle:"oblique",fontWeight:"bold"},legend:{bottom:"20px"}},pieExtend:{legend:{show:!1}},chartSettings:{label:{position:"inner",formatter:"{b}:{d}%"}},subTask:"",version:"",url:"",sprintTime:"",sprId:"",businessStoryCount:0,techStoryCount:0,spValues:[],tableData:[],cloneTable:[],saturationData:{columns:[],rows:[]},bugFixTimeData:{columns:[],rows:[]},fixTypes:[{label:"Open -> Closed"},{label:"Fixed -> Closed"},{label:"Open -> Fixed"}],fix_type:"",type_fix:"",optionProps:{value:"id",label:"name",children:"sprints"},resourceData:{columns:[],rows:[]},rankData:{columns:[],rows:[]},developResourceData:{columns:[],rows:[]},bugPointData:{columns:[],rows:[]},tableColumns:[{label:"组别",prop:"terminal",editable:!1,isClick:!1},{label:"团队人数",prop:"teamPeople",editable:!0,number:!0,isClick:!1},{label:"Jira人数",prop:"peopleCount",editable:!1,number:!0,isClick:!0},{label:"实际人数",prop:"realPeople",editable:!0,number:!0,isClick:!1},{label:"迭代工作日",prop:"sprintDays",editable:!1,isClick:!1},{label:"业务需求",prop:"businessStoryDays",editable:!1,isClick:!1},{label:"技改需求",prop:"techStoryDays",editable:!1,isClick:!1},{label:"需求变更/增加",prop:"changeStoryDays",editable:!1,isClick:!1},{label:"跟测/回归",prop:"regressionStoryDays",editable:!1,isClick:!1},{label:"资源损耗",prop:"resourceDepletionDays",editable:!1,isClick:!1},{label:"饱和度",prop:"saturation",editable:!1,isClick:!1},{label:"备注",prop:"mark",editable:!0,isClick:!1}]}},computed:{loading:function(){return this.$store.state.loading},projectSprints:function(){return this.$store.state.jira.projects},sprintId:function(){var e=this;return 0===this.spValues.length&&l.a.getSprintSpecific({}).then((function(t){e.spValues=[t.data.projId,t.data.id],e.$route.query.sprintId&&(e.spValues=[e.$route.query.projId,e.$route.query.sprintId])})),this.spValues[1]}},watch:{sprintId:function(){this.$router.push({name:d["PathName"].EfficiencyData,query:{projId:this.spValues[0],sprintId:this.sprintId}}),this.getSprintEstimate(),this.getRankData(),this.getDevQaAndBug(),this.getBugPoint(),this.getBugFixTime(),this.downloadBugDetaild()},spValues:function(){this.$emit("getChildValue",{projId:this.spValues[0]})},fix_type:function(){this.getBugFixTime()}},mounted:function(){this.fix_type=this.fixTypes[0].label},methods:{downloadBugDetaild:function(){var e=this;this.json_data=[],l.a.downloadBugDetails({sprintId:this.sprintId}).then((function(t){t.data.forEach((function(t){e.json_data.push({key:t.key,summary:t.summary,sprintName:t.sprintName,created:t.created,creator:t.creator,platform:t.platform,bugOwner:t.bugOwner,env:t.env,subBugLevel:t.subBugLevel,fixHour:t.fixHour,closeHour:t.closeHour})}))}))},getBugFixTime:function(){var e=this;"Open -> Fixed"===this.fix_type?this.type_fix="OpenToFixed":"Fixed -> Closed"===this.fix_type?this.type_fix="FixedToClosed":this.type_fix="OpenToClosed",this.bugFixTimeData.columns=[],this.bugFixTimeData.rows=[],l.a.getBugFixTime({sprintId:this.sprintId,type:this.type_fix}).then((function(t){t.data.forEach((function(t){e.bugFixTimeData.rows.push(t),e.bugFixTimeData.columns=Object.keys(e.bugFixTimeData.rows[0])}))}))},getBugPoint:function(){var e=this;this.bugPointData.columns=[],this.bugPointData.rows=[],l.a.getBugPoint({sprintId:this.sprintId}).then((function(t){t.data.forEach((function(t){e.bugPointData.rows.push({platform:t.platform,BugPoint:t.pointRate}),e.bugPointData.columns=Object.keys(e.bugPointData.rows[0])}))}))},getDevQaAndBug:function(){var e=this;this.resourceData.columns=[],this.resourceData.rows=[],l.a.getDevQaAndBug({sprintId:this.sprintId}).then((function(t){t.data.forEach((function(t){e.resourceData.rows.push({platform:t.platform,"人天":t.peopleCount,"BUG数":t.bugs}),e.resourceData.columns=Object.keys(e.resourceData.rows[0])}))}))},getRankData:function(){var e=this;this.rankData.columns=[],this.rankData.rows=[],l.a.getStoryResourceRank({sprintId:this.sprintId}).then((function(t){t.data.forEach((function(t){e.rankData.rows.push({"需求":t.name,"人天":t.estimate}),e.rankData.columns=Object.keys(e.rankData.rows[0])}))}))},goto:function(e){var t=this;l.a.getSubTask({sprintId:this.sprintId,terminal:e["terminal"]}).then((function(a){t.subTask=a.data.key,t.version=a.data.version,t.url="https://jira.jiliguala.com/browse/"+t.subTask+"?jql=issuetype = Sub-task AND Sprint = "+e["sprintId"]+" AND assignee in "+e["people"]+"AND fixVersion in "+t.version,console.log(t.url),window.open(t.url)}))},getSprintEstimate:function(){var e=this;this.developResourceData.columns=[],this.developResourceData.rows=[],this.saturationData.columns=[],this.saturationData.rows=[],l.a.getSprintEstimateReport({sprintId:this.sprintId}).then((function(t){e.businessStoryCount=0,e.techStoryCount=0,e.sprintTime="",e.textarea="",t.data.forEach((function(t){"total"!==t.terminal&&(e.developResourceData.rows.push({terminal:t.terminal,"人天":t.businessStoryDays+t.techStoryDays+t.changeStoryDays+t.regressionStoryDays+t.resourceDepletionDays}),e.developResourceData.columns=Object.keys(e.developResourceData.rows[0]))})),e.tableData=t.data.map((function(t){"total"===t.terminal&&(e.sprId=t.sprintId,e.textarea=t.mark),"total"!==t.terminal&&(e.sprintTime=t.sprintTime,e.businessStoryCount=t.businessStoryCount),e.techStoryCount=t.techStoryCount;var a=0;return"0.0"!==t.realPeople&&null!==t.sprintDays&&0!==t.sprintDays&&(a=(t.regressionStoryDays+t.techStoryDays+t.businessStoryDays+t.changeStoryDays+t.resourceDepletionDays)/(t.sprintDays*t.realPeople)*100,a=parseFloat(a).toFixed(2)),0!==a&&(e.saturationData.rows.push({terminal:t.terminal,saturation:a}),e.saturationData.columns=Object.keys(e.saturationData.rows[0])),{id:t.id,sprintId:t.sprintId,terminal:t.terminal,peopleCount:t.peopleCount,teamPeople:t.teamPeople,realPeople:parseFloat(t.realPeople).toFixed(1),sprintDays:t.sprintDays,techStoryDays:t.techStoryDays,changeStoryDays:t.changeStoryDays,businessStoryDays:t.businessStoryDays,regressionStoryDays:t.regressionStoryDays,resourceDepletionDays:t.resourceDepletionDays,saturation:a,mark:t.mark,editable:t.editable,people:t.people}})),e.tableData.pop(),e.cloneTable=Object(c["cloneDeep"])(e.tableData)}))},changeSprintEstimate:function(e,t){var a=this;"realPeople"===e&&(t.realPeople=parseFloat(t.realPeople).toFixed(1)),null===t.sprintDays&&(t.sprintDays=0),t.teamPeople=parseFloat(t.teamPeople).toFixed(1),l.a.editSprintEstimateReport(t.id,t).then((function(e){a.getSprintEstimate()}))},synReport:function(){var e=this;l.a.synReport({sprintId:this.sprintId}).then((function(t){e.getSprintEstimate(),e.getBugPoint(),e.getDevQaAndBug()}))}}},f=p,m=(a("c32a"),a("2877")),h=Object(m["a"])(f,o,i,!1,null,"70b339be",null),b=h.exports,g={name:"efficiency",components:{SprintEstimate:b}},v=g,y=Object(m["a"])(v,n,r,!1,null,"277678b5",null);t["default"]=y.exports},8199:function(e,t,a){},"826d":function(e,t,a){"use strict";a.r(t);var n=a("1db6"),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=r.a},8284:function(e,t,a){"use strict";a("dbf7")},"828e":function(e,t,a){"use strict";a("6cc9")},"82a0":function(e,t,a){"use strict";a("965a")},8309:function(e,t,a){},8379:function(e,t,a){"use strict";a("f138")},"83f3":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},8468:function(e,t,a){"use strict";a.r(t);var n=a("40ab"),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=r.a},8482:function(e,t,a){"use strict";a("c93e")},"84b3":function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=a("365c"),o=n(a("6d22")),i=n(a("df34")),s=n(a("ba07")),l=a("93f3"),c=a("7a93"),u=n(a("7689"));t.default={name:"AutoConfigList",components:{TableHeader:i.default,TablePagination:o.default,TableOperator:s.default,AutoConfigEdit:u.default},data:function(){return{noPolling:!0,createVisible:!1,condition:{},total:0,pageSize:l.PAGINATION_SIZE.LARGE,currentPage:1,tableData:[]}},computed:{loading:function(){return this.$store.state.loading}},mounted:function(){this.pollingDataList()},destroyed:function(){clearInterval(this.myInterval)},methods:{getAutoConfigList:function(e){var t=this,a={limit:this.pageSize,offset:this.pageSize*(this.currentPage-1),name:e};r.autoApi.getAutoCaseConfigList(a).then((function(e){t.tableData=e.data.data,t.total=e.data.total,t.noPolling=!0}))},pollingDataList:function(e){var t=this;this.getAutoConfigList(e),clearInterval(this.myInterval),this.myInterval=window.setInterval((function(){setTimeout((function(){t.noPolling=!1,t.getAutoConfigList(e)}),1)}),3e3)},handlePollingDataList:function(e){this.currentPage=1,this.pollingDataList(e)},handleAddOrEdit:function(e){this.$nextTick((function(){this.$refs.edit.open(e)}))},handleDelete:function(e){var t=this;this.$alert("确认删除自动化配置?","",{confirmButtonText:"确定",showCancelButton:!0,cancelButtonText:"取消",callback:function(a){"confirm"===a&&r.autoApi.deleteAutoConfig(e.id).then((function(){t.getAutoConfigList()}))}})},handleToBuildRecord:function(e){this.$router.push({name:c.PathName.AutoCaseBuildRecordByConfigId,params:{configId:e.id}})},handleRun:function(e){this.$alert("确定执行该自动化用例集?","",{confirmButtonText:"确定",showCancelButton:!0,cancelButtonText:"取消",callback:function(t){"confirm"===t&&r.autoApi.runAutoConfig(e.id).then()}})}}}},"84d0":function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=a("7a93"),o=n(a("a6e6"));t.default=[{path:"project",name:r.PathName.TestTrackProject,component:o.default,meta:{isUsingSocketInfo:!0}}]},"84fc":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"adv-search-bar"},[a("el-button",{attrs:{type:"text"},on:{click:e.open}},[e._v("高级搜索")]),a("el-dialog",{attrs:{"append-to-body":!0,visible:e.visible,"custom-class":"adv-dialog",title:"组合查询"},on:{close:function(t){e.visible=!1}}},[a("div",{staticClass:"search-items"},e._l(e.config.components,(function(e,t){return a(e.name,{key:t,tag:"component",staticClass:"search-item",attrs:{component:e}})})),1),a("template",{slot:"footer"},[a("div",{staticClass:"dialog-footer"},[a("el-button",{on:{click:e.reset}},[e._v("重置")]),a("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("查询")])],1)])],2)],1)},r=[]},8507:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("table-search-component",{attrs:{component:e.component},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-date-picker",e._b({key:e.type,attrs:{type:e.type,"end-placeholder":"结束日期",placeholder:"选择日期","range-separator":"至",size:"small","start-placeholder":"开始日期","value-format":"timestamp"},model:{value:t.component.value,callback:function(a){e.$set(t.component,"value",a)},expression:"scope.component.value"}},"el-date-picker",t.component.props,!1))]}}]),model:{value:e.component.operator.value,callback:function(t){e.$set(e.component.operator,"value",t)},expression:"component.operator.value"}})},r=[]},"854d":function(e,t,a){"use strict";a.r(t);var n=a("3b1d"),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=r.a},"854f":function(e,t,a){"use strict";a("e27b")},"864f":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",[a("div",{staticClass:"table-page"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pageSize,"page-sizes":e.pageSizes,total:e.total,layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])},r=[]},8681:function(e,t,a){"use strict";a("3fde")},"86eb":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{staticClass:"card-content"},[a("template",{slot:"header"},[a("table-header",{attrs:{condition:e.condition,"create-tip":"创建PR合并通知群配置",placeholder:"根据项目名称搜索"},on:{create:e.handleAddOrEdit,search:e.handleSearch}},[a("template",{slot:"title"},[a("div",[e._v("PR合并通知配置")])])],2)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"table",attrs:{data:e.tableData},on:{"filter-change":e.filter}},[a("el-table-column",{attrs:{label:"项目名称",prop:"project","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"源分支",prop:"sourceBranch"}}),a("el-table-column",{attrs:{label:"目标分支",prop:"targetBranch"}}),a("el-table-column",{attrs:{filters:e.larkChatOptions,"column-key":"chatId",label:"群聊",prop:"chatName"}}),a("el-table-column",{attrs:{width:e.table2BtnWidth,label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("table-operator",{attrs:{"show-delete":"","show-edit":""},on:{deleteClick:function(a){return e.handleDelete(t.row)},editClick:function(a){return e.handleAddOrEdit(t.row)}}})]}}])})],1),a("table-pagination",{attrs:{change:e.initTableData,"current-page":e.currentPage,"page-size":e.pageSize,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t}}})],2),a("el-dialog",{staticClass:"dialog-title",attrs:{"close-on-click-modal":!1,title:e.operation===e.operationEnum.EDIT?"编辑PR合并群聊配置":"创建PR合并群聊配置",visible:e.dialogFormVisible,width:"65%"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"prMergedNotifyForm",attrs:{model:e.form,rules:e.rules}},[a("el-row",[a("el-col",{attrs:{offset:1,span:10}},[a("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"项目",prop:"project"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择项目"},model:{value:e.form.project,callback:function(t){e.$set(e.form,"project",t)},expression:"form.project"}},e._l(e.projectPathOptions,(function(e){return a("el-option",{key:e.path,attrs:{label:e.project,value:e.path}})})),1)],1)],1),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"源分支",prop:"sourceBranch"}},[a("el-input",{attrs:{placeholder:"请输入源分支名称"},model:{value:e.form.sourceBranch,callback:function(t){e.$set(e.form,"sourceBranch",t)},expression:"form.sourceBranch"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{offset:1,span:10}},[a("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"目标分支",prop:"targetBranch"}},[a("el-input",{attrs:{placeholder:"请输入目标分支名称"},model:{value:e.form.targetBranch,callback:function(t){e.$set(e.form,"targetBranch",t)},expression:"form.targetBranch"}})],1)],1),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"推送群聊",prop:"chatId"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"请选择需要通知的群"},model:{value:e.form.chatId,callback:function(t){e.$set(e.form,"chatId",t)},expression:"form.chatId"}},e._l(e.larkChatOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.text,value:e.value}})})),1)],1)],1)],1)],1),a("template",{slot:"footer"},[a("dialog-footer",{on:{cancel:function(t){e.dialogFormVisible=!1},confirm:e.saveConfig}})],1)],2)],1)},r=[]},8780:function(e,t,a){"use strict";a.r(t);var n=a("c1ed"),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=r.a},"879c":function(e,t,a){"use strict";var n=a("278c").default;a("d81d"),a("4fad");var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TEST_PLAN_CONFIGS=t.TEST_CASE_CONFIGS=t.REPORT_CONFIGS=t.TEST_CONFIGS=t.TEST_PLAN_STATUS=t.STAGE=t.PRINCIPAL=t.MODULE=t.METHOD=t.TYPE=t.PRIORITY=t.TRIGGER_MODE=t.EXECUTOR=t.CREATOR=t.STATUS=t.CREATE_TIME=t.TEST_NAME=t.PROJECT_NAME=t.UPDATE_TIME=t.NAME=t.OPERATORS=void 0;var o=r(a("08f2")),i=r(a("cbc2")),s=r(a("7098")),l=r(a("67be")),c=a("b889");t.default={TableSearchInput:s.default,TableSearchDatePicker:o.default,TableSearchDateTimePicker:i.default,TableSearchSelect:l.default},t.OPERATORS={LIKE:{label:"包含",value:"like"},NOT_LIKE:{label:"不包含",value:"not like"},IN:{label:"属于",value:"in"},NOT_IN:{label:"不属于",value:"not in"},GT:{label:"大于",value:"gt"},GE:{label:"大于等于",value:"ge"},LT:{label:"小于",value:"lt"},LE:{label:"小于等于",value:"le"},EQ:{label:"等于",value:"eq"},BETWEEN:{label:"之间",value:"between"},CURRENT_USER:{label:"是当前用户",value:"current user"}},t.NAME={key:"name",name:"TableSearchInput",label:"名称",operator:{value:t.OPERATORS.LIKE.value,options:[t.OPERATORS.LIKE,t.OPERATORS.NOT_LIKE]}},t.UPDATE_TIME={key:"updateTime",name:"TableSearchDateTimePicker",label:"更新时间",operator:{options:[t.OPERATORS.BETWEEN,t.OPERATORS.GT,t.OPERATORS.GE,t.OPERATORS.LT,t.OPERATORS.LE,t.OPERATORS.EQ]}},t.PROJECT_NAME={key:"projectName",name:"TableSearchInput",label:"所属项目",operator:{options:[t.OPERATORS.LIKE,t.OPERATORS.NOT_LIKE]}},t.TEST_NAME={key:"testName",name:"TableSearchInput",label:"所属测试",operator:{options:[t.OPERATORS.LIKE,t.OPERATORS.NOT_LIKE]}},t.CREATE_TIME={key:"createTime",name:"TableSearchDateTimePicker",label:"创建时间",operator:{options:[t.OPERATORS.BETWEEN,t.OPERATORS.GT,t.OPERATORS.GE,t.OPERATORS.LT,t.OPERATORS.LE,t.OPERATORS.EQ]}},t.STATUS={key:"status",name:"TableSearchSelect",label:"状态",operator:{options:[t.OPERATORS.IN,t.OPERATORS.NOT_IN]},options:[{label:"Saved",value:"Saved"},{label:"Starting",value:"Starting"},{label:"Running",value:"Running"},{label:"Reporting",value:"Reporting"},{label:"Completed",value:"Completed"},{label:"Error",value:"Error"},{label:"Success",value:"Success"}],props:{multiple:!0}},t.CREATOR={key:"creator",name:"TableSearchSelect",label:"创建人",operator:{options:[t.OPERATORS.IN,t.OPERATORS.NOT_IN,t.OPERATORS.CURRENT_USER],change:function(e,a){a===t.OPERATORS.CURRENT_USER.value&&(e.value=a)}},options:{url:"/user/list",labelKey:"name",valueKey:"id",showLabel:function(e){return e.label+"("+e.value+")"}},props:{multiple:!0},isShow:function(e){return e!==t.OPERATORS.CURRENT_USER.value}},t.EXECUTOR={key:"executor",name:"TableSearchSelect",label:"执行人",operator:{options:[t.OPERATORS.IN,t.OPERATORS.NOT_IN,t.OPERATORS.CURRENT_USER],change:function(e,a){a===t.OPERATORS.CURRENT_USER.value&&(e.value=a)}},options:{url:"/user/list",labelKey:"name",valueKey:"id",showLabel:function(e){return e.label+"("+e.value+")"}},props:{multiple:!0},isShow:function(e){return e!==t.OPERATORS.CURRENT_USER.value}},t.TRIGGER_MODE={key:"triggerMode",name:"TableSearchSelect",label:"commons.trigger_mode.name",operator:{options:[t.OPERATORS.IN,t.OPERATORS.NOT_IN]},options:[{label:"commons.trigger_mode.manual",value:"MANUAL"},{label:"commons.trigger_mode.schedule",value:"SCHEDULE"},{label:"commons.trigger_mode.api",value:"API"}],props:{multiple:!0}},t.PRIORITY={key:"priority",name:"TableSearchSelect",label:"用例等级",operator:{options:[t.OPERATORS.IN,t.OPERATORS.NOT_IN]},options:Object.entries(c.priorityType).map((function(e){var t=n(e,2),a=t[0],r=t[1];return{label:r,value:a}})),props:{multiple:!0}},t.TYPE={key:"type",name:"TableSearchSelect",label:"test_track.case.type",operator:{options:[t.OPERATORS.IN,t.OPERATORS.NOT_IN]},options:[{label:"commons.functional",value:"functional"},{label:"commons.performance",value:"performance"},{label:"commons.api",value:"api"}],props:{multiple:!0}},t.METHOD={key:"method",name:"TableSearchSelect",label:"test_track.case.method",operator:{options:[t.OPERATORS.IN,t.OPERATORS.NOT_IN]},options:[{label:"test_track.case.manual",value:"manual"},{label:"test_track.case.auto",value:"auto"}],props:{multiple:!0}},t.MODULE={key:"module",name:"TableSearchInput",label:"所属模块",operator:{value:t.OPERATORS.LIKE.value,options:[t.OPERATORS.LIKE,t.OPERATORS.NOT_LIKE]}},t.PRINCIPAL={key:"principal",name:"TableSearchSelect",label:"test_track.plan.plan_principal",operator:{options:[t.OPERATORS.IN,t.OPERATORS.NOT_IN,t.OPERATORS.CURRENT_USER],change:function(e,a){a===t.OPERATORS.CURRENT_USER.value&&(e.value=a)}},options:{url:"/user/list",labelKey:"name",valueKey:"id",showLabel:function(e){return e.label+"("+e.value+")"}},props:{multiple:!0},isShow:function(e){return e!==t.OPERATORS.CURRENT_USER.value}},t.STAGE={key:"stage",name:"TableSearchSelect",label:"test_track.plan.plan_stage",operator:{options:[t.OPERATORS.IN,t.OPERATORS.NOT_IN]},options:[{label:"test_track.plan.smoke_test",value:"smoke"},{label:"test_track.plan.regression_test",value:"regression"},{label:"test_track.plan.system_test",value:"system"}],props:{multiple:!0}},t.TEST_PLAN_STATUS={key:"status",name:"TableSearchSelect",label:"test_track.plan.plan_status",operator:{options:[t.OPERATORS.IN,t.OPERATORS.NOT_IN]},options:[{label:"test_track.plan.plan_status_prepare",value:"Prepare"},{label:"test_track.plan.plan_status_running",value:"Underway"},{label:"test_track.plan.plan_status_completed",value:"Completed"}],props:{multiple:!0}},t.TEST_CONFIGS=[t.NAME,t.UPDATE_TIME,t.PROJECT_NAME,t.CREATE_TIME,t.STATUS,t.CREATOR],t.REPORT_CONFIGS=[t.NAME,t.TEST_NAME,t.PROJECT_NAME,t.CREATE_TIME,t.STATUS,t.CREATOR,t.TRIGGER_MODE],t.TEST_CASE_CONFIGS=[t.NAME,t.MODULE,t.PRIORITY,t.CREATE_TIME],t.TEST_PLAN_CONFIGS=[t.NAME,t.UPDATE_TIME,t.PROJECT_NAME,t.CREATE_TIME,t.PRINCIPAL,t.TEST_PLAN_STATUS,t.STAGE]},"886a":function(e,t,a){"use strict";a("6335")},"88c8":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"TestTrack",computed:{projects:function(){return this.$store.state.jira.projects},users:function(){return this.$store.state.users.users}},provide:function(){return{projects:this.projects,users:this.users}}}},"88e5":function(e,t,a){},"88f3":function(e,t,a){"use strict";a("5245")},8963:function(e,t,a){},"896b":function(e,t,a){"use strict";a.r(t);var n=a("fd2b"),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=r.a},8988:function(e,t,a){"use strict";a.r(t);var n=a("5639"),r=a("9b0e");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);var i=a("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,"514e7ae6",null);t["default"]=s.exports},"89c4":function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(a("7e31")),o=a("879c");t.default={name:"TableSearchDatePicker",components:{TableSearchComponent:r.default},props:["component"],methods:{change:function(e){e===o.OPERATORS.BETWEEN.value?Array.isArray(this.component.value)||(this.component.value=[]):Array.isArray(this.component.value)&&(this.component.value="")}},computed:{type:function(){return this.component.operator.value===o.OPERATORS.BETWEEN.value?"daterange":"date"}}}},"8a06":function(e,t,a){"use strict";a("159b");var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=a("365c"),o=n(a("e73b")),i=n(a("5ec0")),s=n(a("6d22")),l=n(a("df34")),c=n(a("ba07")),u=a("b74e"),d=a("93f3"),p=a("4314"),f=a("00e0"),m=a("7d3b"),h=a("2ef0");t.default={name:"prMergeConfig",components:{TableOperator:c.default,TableHeader:l.default,TablePagination:s.default,DialogFooter:i.default},data:function(){return{condition:{},operationEnum:p.operationEnum,planStageEnum:f.planStageEnum,tableData:[],currentPage:1,pageSize:d.PAGINATION_SIZE.LARGE,total:0,form:m.prMergedPRForm,rules:m.prMergedNotifyRules,dialogFormVisible:!1,operation:"",projectPathOptions:[],isJiraActive:1,status:""}},computed:{formLabelWidth:function(){return"80px"},loading:function(){return this.$store.state.loading},table2BtnWidth:function(){return o.default["table2BtnWidth"]}},mounted:function(){this.initTableData()},methods:{initTableData:function(){this.setProjectPathOptions(),this.getData()},setProjectPathOptions:function(){var e=this;r.gitlabChatApi.getAllGitlabProjects().then((function(t){var a=t.data;e.projectPathOptions=a.data}))},buildParams:function(){var e={project:this.form.project,isJiraActive:this.form.isJiraActive};return e},getData:function(e){var t=this,a={offset:this.pageSize*(this.currentPage-1),limit:this.pageSize,project:e};this.configFilter=sessionStorage.getItem(this.$route.path),this.configFilter=this.configFilter?JSON.parse(this.configFilter):{},"{}"!==JSON.stringify(this.configFilter)&&(Object.assign(a,this.configFilter),this.$refs.table.columns.forEach((function(e){e.filteredValue=t.configFilter[e.columnKey]}))),r.gitlabChatApi.getGitlabPRConfigList(a).then((function(e){var a=e.data;t.total=a.total,t.tableData=a.data,t.tableData.forEach((function(e){1===e.isJiraActive?e.status="已激活":e.status="未激活"}))}))},saveConfig:function(){var e=this;this.$refs.prMergedPRForm.validate((function(t){if(!t)return!1;if(e.operation===p.operationEnum.ADD){var a=e.buildParams();r.gitlabChatApi.createGitlabPRConfig(a).then((function(){e.refresh()}))}else if(e.operation===p.operationEnum.EDIT){var n=e.buildParams();r.gitlabChatApi.updateGitlabPRConfig(e.form.id,n).then((function(){e.refresh()}))}e.dialogFormVisible=!1}))},handleAddOrEdit:function(e){var t=this;console.log(e),this.dialogFormVisible=!0,this.$nextTick((function(){t.$refs.prMergedPRForm&&t.$refs.prMergedPRForm.resetFields(),t.operation=p.operationEnum.ADD,e?(t.operation=p.operationEnum.EDIT,t.form=h.cloneDeep(e),t.form.isJiraActive=String(t.form.isJiraActive)):t.form=m.prMergedPRForm,t.setProjectPathOptions()}))},handleDelete:function(e){var t=this;this.$alert("确认删除该配置?","",{confirmButtonText:"确定",showCancelButton:!0,cancelButtonText:"取消",callback:function(a){"confirm"===a&&r.gitlabChatApi.deleteGitlabPRConfig(e.id).then((function(){t.refresh()}))}})},handleSearch:function(e){this.currentPage=1,this.getData(e)},refresh:function(){this.initTableData()},filter:function(e){this.currentPage=1,u._filter(e,this.configFilter,this.$route.path),this.initTableData()}}}},"8b06":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-select",{staticStyle:{width:"100%","padding-right":"5px"},attrs:{filterable:""},on:{change:e.getAppItems},model:{value:e.appId,callback:function(t){e.appId=t},expression:"appId"}},e._l(e.appOptions,(function(e){return a("el-option",{key:e.id,attrs:{value:e.appId,label:e.appId}})})),1)],1),a("el-col",{attrs:{span:3}},[a("el-button",{staticStyle:{float:"left"},attrs:{type:"primary",icon:"el-icon-refresh",round:""},on:{click:e.getAppItems}},[e._v("刷新配置项")])],1)],1)],1),e._l(e.tableData,(function(t,n){return a("div",{key:n,staticStyle:{"margin-top":"15px"},attrs:{index:n,space:t}},[a("el-card",[a("div",{staticClass:"title",attrs:{slot:"header"},slot:"header"},[a("span",[e._v(e._s(t.namespace))]),t.items.length>0&&t.editable?a("el-button",{staticStyle:{float:"right",padding:"3px"},attrs:{icon:"el-icon-s-promotion",type:"success"},on:{click:function(a){return e.openRelease(t.namespace)}}},[e._v("发布")]):e._e()],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.items,border:""}},[a("el-table-column",{attrs:{label:"发布状态",prop:"isModified",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:t.row.isModified?"warning":"info",effect:"dark"}},[e._v(e._s(t.row.isModified?"未发布":"已发布"))])]}}],null,!0)}),a("el-table-column",{attrs:{label:"key",prop:"key",width:"180"}}),a("el-table-column",{attrs:{label:"value",prop:"value"}}),a("el-table-column",{attrs:{label:"备注",prop:"comment",width:"180"}}),a("el-table-column",{attrs:{label:"最后修改人",prop:"dataChangeLastModifiedBy",width:"180"}}),a("el-table-column",{attrs:{label:"最后修改时间",prop:"dataChangeLastModifiedTime",width:"180"}}),a("el-table-column",{attrs:{label:"操作",width:e.table1BtnWidth},scopedSlots:e._u([{key:"default",fn:function(n){return[a("table-operator",{attrs:{"show-edit":"","edit-disable":!t.editable},on:{editClick:function(a){return e.openEdit(n.row,t.namespace)}}})]}}],null,!0)})],1)],1)],1)})),a("el-dialog",{attrs:{"close-on-click-modal":!1,visible:e.editDialog},on:{"update:visible":function(t){e.editDialog=t}}},[a("template",{slot:"title"},[a("div",{staticStyle:{"text-align":"left"}},[a("span",{staticClass:"dialog-title"},[e._v("编辑配置项")])]),a("el-divider",{staticStyle:{width:"100%"}})],1),a("el-form",{ref:"editForm",attrs:{model:e.editForm,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"Key:",prop:"key"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{disabled:""},model:{value:e.editForm.key,callback:function(t){e.$set(e.editForm,"key",t)},expression:"editForm.key"}})],1),a("el-form-item",{attrs:{label:"Value:",prop:"value"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{type:"textarea",rows:8},model:{value:e.editForm.value,callback:function(t){e.$set(e.editForm,"value",t)},expression:"editForm.value"}})],1),a("el-form-item",{attrs:{label:"Comment:",prop:"comment"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{type:"textarea"},model:{value:e.editForm.comment,callback:function(t){e.$set(e.editForm,"comment",t)},expression:"editForm.comment"}})],1)],1),a("template",{slot:"footer"},[a("dialog-footer",{on:{cancel:function(t){e.editDialog=!1},confirm:e.editAppItem}})],1)],2),a("el-dialog",{attrs:{"close-on-click-modal":!1,visible:e.releaseDialog},on:{"update:visible":function(t){e.releaseDialog=t}}},[a("template",{slot:"title"},[a("div",{staticStyle:{"text-align":"left"}},[a("span",{staticClass:"dialog-title"},[e._v("发布")]),a("span",{staticStyle:{"font-size":"14px"}},[e._v(" (只有发布过的配置才会被客户端获取到，此次发布只会作用于当前环境:FAT)")])]),a("el-divider",{staticStyle:{width:"100%"}})],1),a("el-form",{ref:"releaseForm",attrs:{model:e.releaseForm,rules:e.releaseRules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"Changes:"}},[e.changes.length>0?a("div",[a("el-table",{attrs:{data:e.changes,border:"",height:"200px"}},[a("el-table-column",{attrs:{label:"Key",prop:"key"}}),a("el-table-column",{attrs:{label:"已发布的值",prop:"oldValue"}}),a("el-table-column",{attrs:{label:"未发布的值",prop:"newValue"}}),a("el-table-column",{attrs:{label:"修改人",prop:"dataChangeLastModifiedBy"}})],1)],1):a("div",[e._v("配置没有变化")])]),a("el-form-item",{attrs:{label:"Release Name:",prop:"key"}},[a("el-input",{staticStyle:{width:"50%"},model:{value:e.releaseForm.title,callback:function(t){e.$set(e.releaseForm,"title",t)},expression:"releaseForm.title"}})],1),a("el-form-item",{attrs:{label:"Comment:",prop:"comment"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{type:"textarea"},model:{value:e.releaseForm.comment,callback:function(t){e.$set(e.releaseForm,"comment",t)},expression:"releaseForm.comment"}})],1)],1),a("template",{slot:"footer"},[a("dialog-footer",{on:{cancel:function(t){e.releaseDialog=!1},confirm:e.releaseAppConfig}})],1)],2)],2)},r=[],o=(a("d3b7"),a("159b"),a("365c")),i=a("2ef0"),s=a("ba07"),l=a("5ec0"),c=a("e73b"),u=a.n(c),d={name:"apollo",components:{TableOperator:s["default"],DialogFooter:l["default"]},data:function(){return{editDialog:!1,releaseDialog:!1,appId:"",changes:[],tableData:[],releaseForm:{comment:"",title:""},editForm:{key:"",value:"",comment:""},releaseRules:{title:[{required:!0,message:"请输入发布标题",trigger:"blur"}]},appOptions:[]}},computed:{table1BtnWidth:function(){return u.a["table1BtnWidth"]},loading:function(){return this.$store.state.loading}},mounted:function(){this.getAllApps()},methods:{getAllApps:function(){var e=this;o["dataToolApi"].getApolloApps().then((function(t){e.appOptions=t.data,e.appId=e.appOptions[0].appId,e.getAppItems()}))},getAppItems:function(){var e=this;o["dataToolApi"].getApolloAppItems(this.appId).then((function(t){e.tableData=t.data}))},openEdit:function(e,t){this.editForm=Object(i["cloneDeep"])(e),this.editForm["namespace"]=t,this.editDialog=!0},editAppItem:function(){var e=this;o["dataToolApi"].updateApolloAppItem(this.editForm,this.appId).then((function(){return e.getAppItems()})).finally((function(){return e.editDialog=!1}))},openRelease:function(e){var t=this;this.changes=[];var a=(new Date).format("yyyyMMddhhmmss");this.releaseForm.title=a+"_release",this.releaseForm["namespace"]=e,this.tableData.forEach((function(a){a["namespace"]===e&&a["items"].forEach((function(e){e.isModified&&t.changes.push({key:e.key,oldValue:e.oldValue,newValue:e.newValue,dataChangeLastModifiedBy:e.dataChangeLastModifiedBy})}))})),this.releaseDialog=!0},releaseAppConfig:function(){var e=this,t=this.releaseForm;t["changes"]=this.changes,o["dataToolApi"].releaseApolloAppItem(t,this.appId).finally((function(){return e.releaseDialog=!1}))}}},p=d,f=(a("8bbc2"),a("2877")),m=Object(f["a"])(p,n,r,!1,null,"ca7e7c76",null);t["default"]=m.exports},"8bbc2":function(e,t,a){"use strict";a("2280")},"8c36":function(e,t,a){"use strict";a.r(t);var n=a("74e4"),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=r.a},"8c6d":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-button",{attrs:{disabled:e.cancelDisable,size:"medium"},on:{click:e.cancel}},[e._v("取消")]),a("el-button",{attrs:{disabled:e.confirmDisable,size:"medium",type:"primary"},on:{click:e.confirm},nativeOn:{keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault()}}},[e._v(" 确认 ")])],1)},r=[]},"8d7d":function(e,t,a){e.exports=a.p+"img/jira_story.fdfaf11a.svg"},"8d93":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"TableOperator",props:{readOnly:{type:Boolean,default:!1},sonarTip:{type:String,default:"sonar"},editTip:{type:String,default:"编辑"},copyTip:{type:String,default:"复制"},deleteTip:{type:String,default:"删除"},runTip:{type:String,default:"执行"},reportTip:{type:String,default:"Allure报告"},sonarDisable:{type:Boolean,default:!1},editDisable:{type:Boolean,default:!1},copyDisable:{type:Boolean,default:!1},deleteDisable:{type:Boolean,default:!1},runDisable:{type:Boolean,default:!1},reportDisable:{type:Boolean,default:!1},sonarIcon:{type:String,default:"el-icon-finished"},editIcon:{type:String,default:"el-icon-edit"},copyIcon:{type:String,default:"el-icon-document-copy"},deleteIcon:{type:String,default:"el-icon-delete"},runIcon:{type:String,default:"el-icon-video-play"},reportIcon:{type:String,default:"el-icon-document-copy"},showSonar:{type:Boolean,default:!1},showEdit:{type:Boolean,default:!1},showCopy:{type:Boolean,default:!1},showDelete:{type:Boolean,default:!1},showRun:{type:Boolean,default:!1},showReport:{type:Boolean,default:!1}},methods:{sonarClick:function(){this.$emit("sonarClick")},editClick:function(){this.$emit("editClick")},copyClick:function(){this.$emit("copyClick")},deleteClick:function(){this.$emit("deleteClick")},runClick:function(){this.$emit("runClick")},reportClick:function(){this.$emit("reportClick")}}}},"8deb":function(e,t,a){},"8e46":function(e,t,a){},"8e88":function(e,t,a){"use strict";var n,r,o,i,s,l,c,u,d,p,f,m,h=a("9523").default;Object.defineProperty(t,"__esModule",{value:!0}),t.FanType=t.FanEnum=t.SubType=t.SubEnum=t.ChannelType=t.ChannelEnum=t.DataType=t.DataEnum=t.AccountType=t.Account=t.SubjectType=t.ClassType=t.SpuClass=void 0,function(e){e["ENGLISH_ESHOP"]="eshop_3696",e["MATC_ESHOP"]="eshop_3697",e["ENGLISH_SAMPLE"]="mars_2819",e["MATC_SAMPLE"]="mars_2821",e["EMGLISH_MATC"]="mars_3388",e["ENGLISH_MONTH"]="eshop_3698"}(c=t.SpuClass||(t.SpuClass={})),t.ClassType=(n={},h(n,c.ENGLISH_ESHOP,"英语正价课"),h(n,c.MATC_ESHOP,"思维正价课"),h(n,c.ENGLISH_SAMPLE,"英语体验课"),h(n,c.MATC_SAMPLE,"思维体验课"),h(n,c.EMGLISH_MATC,"联报体验课"),h(n,c.ENGLISH_MONTH,"英语双月课"),n),t.SubjectType=(r={},h(r,c.ENGLISH_SAMPLE,"英语"),h(r,c.MATC_SAMPLE,"思维"),h(r,c.EMGLISH_MATC,"英语+思维"),r),function(e){e["NEW_TURN"]="newTurn",e["PROMOTER"]="promoter",e["APP_NEW_USER"]="appNewUser",e["GETC_NEW"]="getcNew",e["MATC_NEW"]="matcNew",e["OLD_TURN"]="oldTurn",e["ENGLISH_128_AGE"]="1001004",e["BABY_USER"]="bd_mobile_user",e["BABY_GUEST"]="bd_guest_user"}(u=t.Account||(t.Account={})),t.AccountType=(o={},h(o,u.NEW_TURN,"新机转"),h(o,u.PROMOTER,"推广人"),h(o,u.APP_NEW_USER,"App全新用户"),h(o,u.GETC_NEW,"可购买9.9英语"),h(o,u.MATC_NEW,"可购买9.9思维"),h(o,u.OLD_TURN,"支持导流到老机转"),h(o,u.ENGLISH_128_AGE,"128英语(3岁)"),h(o,u.BABY_USER,"bd手机号用户"),h(o,u.BABY_GUEST,"bd游客用户"),o),function(e){e["RE_PURCHASE"]="rePurchase"}(d=t.DataEnum||(t.DataEnum={})),t.DataType=h({},d.RE_PURCHASE,"复购"),function(e){e["TGR"]="0",e["SATURN"]="1",e["NOSTANDARD_GROUND"]="2"}(p=t.ChannelEnum||(t.ChannelEnum={})),t.ChannelType=(i={},h(i,p.TGR,"转推"),h(i,p.SATURN,"下沉"),h(i,p.NOSTANDARD_GROUND,"地推"),i),function(e){e[e["ENGLISH"]=0]="ENGLISH",e[e["MATC"]=1]="MATC",e[e["ENG_MATC"]=2]="ENG_MATC"}(f=t.SubEnum||(t.SubEnum={})),t.SubType=(s={},h(s,f.ENGLISH,"英语"),h(s,f.MATC,"思维"),h(s,f.ENG_MATC,"英语+思维"),s),function(e){e["VALID_FAN"]="0",e["INVALID_FAN"]="-1"}(m=t.FanEnum||(t.FanEnum={})),t.FanType=(l={},h(l,m.VALID_FAN,"有效锁粉"),h(l,m.INVALID_FAN,"无效锁粉"),l)},"8edc":function(e,t,a){},"90a6":function(e,t,a){"use strict";a("23b8")},"92cd":function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(a("5ec0")),o=n(a("dbc4"));t.default={name:"BatchMove",components:{NodeTree:o.default,DialogFooter:r.default},data:function(){return{treeNodes:[],dialogVisible:!1,currentKey:""}},methods:{open:function(e){this.dialogVisible=!0,this.treeNodes=e},save:function(){this.currentKey?(this.$emit("batchMove",this.currentKey),this.dialogVisible=!1):this.$message.warning("请选择模块")},nodeClick:function(e){this.currentKey=e.id}}}},"93ab":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.caseStatusEnum=void 0,function(e){e["PASSED"]="passed",e["FAILED"]="failed",e["SKIPPED"]="skipped",e["BROKEN"]="broken",e["UNKNOWN"]="unknown"}(t.caseStatusEnum||(t.caseStatusEnum={}))},"93f3":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UPLOAD_IMAGE_LIMIT=t.PAGINATION_SIZE=void 0,t.PAGINATION_SIZE={SMALL:5,NORMAL:10,LARGE:20,XLARGE:50,MAXIMUM:100},t.UPLOAD_IMAGE_LIMIT={NINE:9,THREE:3,ONE:1}},"93f6":function(e,t,a){"use strict";a.r(t);var n=a("a991"),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=r.a},"94ef":function(e,t,a){"use strict";a.r(t);var n=a("0cc0"),r=a("f6bf");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);a("1f3c");var i=a("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,"b1f3b840",null);t["default"]=s.exports},"950d":function(e,t,a){"use strict";a.r(t);var n=a("6d99"),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=r.a},9531:function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(a("7368")),o=n(a("1388"));t.default={name:"TableHeader",components:{TableAdvSearchBar:r.default,TableSearchInputBar:o.default},props:{title:String,showCreate:{type:Boolean,default:!0},showRun:{type:Boolean,default:!1},showThird:{type:Boolean,default:!1},showSearch:{type:Boolean,default:!0},createTip:{type:String,default:"新建"},runTip:{type:String},thirdTip:{type:String},iconCreate:{type:String,default:"el-icon-circle-plus-outline"},iconRun:{type:String,default:"el-icon-video-play"},iconThird:{type:String},isTesterPermission:{type:Boolean,default:!1},placeholder:{String:String,default:"根据名称搜索"},condition:Object},methods:{handleSearch:function(e){this.$emit("search",e)},create:function(){this.$emit("create")},runTest:function(){this.$emit("runTest")},thirdClick:function(){this.$emit("thirdClick")}},computed:{isCombine:function(){return void 0!==this.condition.components&&this.condition.components.length>0}}}},"958d":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.value===e.stepStatusEnum.PASS?a("span",{staticStyle:{color:"#7ebf50"}},[e._v(" "+e._s(e.stepStatusType[e.value])+" ")]):e.value===e.stepStatusEnum.FAIL?a("span",{staticStyle:{color:"#e57471"}},[e._v(" "+e._s(e.stepStatusType[e.value])+" ")]):e.value===e.stepStatusEnum.BLOCK?a("span",{staticStyle:{color:"#dda451"}},[e._v(" "+e._s(e.stepStatusType[e.value])+" ")]):e.value===e.stepStatusEnum.SKIP?a("span",{staticStyle:{color:"#919399"}},[e._v(" "+e._s(e.stepStatusType[e.value])+" ")]):e._e()},r=[]},"965a":function(e,t,a){},"966e":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{staticClass:"batch-edit-dialog",attrs:{"destroy-on-close":!0,title:e.dialogTitle,visible:e.dialogVisible,width:"25%"},on:{"update:visible":function(t){e.dialogVisible=t},close:e.handleClose}},[a("el-form",{ref:"editForm",attrs:{model:e.form,rules:e.rules,"label-position":"right","label-width":"160px",size:"medium"}},[a("el-form-item",{attrs:{label:"更新"+e.size+"个用例的属性",prop:"type"}},[a("el-select",{staticStyle:{width:"80%"},attrs:{filterable:""},on:{change:e.changeType},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},e._l(e.typeArr,(function(e,t){return a("el-option",{key:t,attrs:{label:e.text,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"更新后属性值为",prop:"value"}},[a("el-select",{staticStyle:{width:"80%"},attrs:{filterable:""},model:{value:e.form.value,callback:function(t){e.$set(e.form,"value",t)},expression:"form.value"}},e._l(e.options,(function(e,t){return a("el-option",{key:t,attrs:{label:e.text,value:e.value}})})),1)],1)],1),a("template",{slot:"footer"},[a("dialog-footer",{on:{cancel:function(t){e.dialogVisible=!1},confirm:e.submit}})],1)],2)],1)},r=[]},"97e0":function(e,t,a){},"981e":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("365c"),r=a("7a93");t.default={name:"HomeHeader",data:function(){return{PathName:r.PathName,logo:"https://spa.jiliguala.com/mirage/static/media/logo.661199a5.svg"}},computed:{username:function(){return this.$store.getters.userName},uid:function(){return this.$store.getters.uid},picture:function(){return this.$store.state.login.picture}},methods:{loginOutFun:function(){var e=this;console.log("uuuuuu",this.uid),n.userApi.ssoLogout({uid:this.uid}).then((function(t){0===t.code&&(e.$store.commit("CLEAR_TOKEN"),e.$router.push({name:r.PathName.SslLogin}))}))},changePassword:function(){this.$store.commit("UNVISIBLE_SIDE",!1),this.$router.push({name:r.PathName.SelfPassword})}}}},"9a71":function(e,t,a){"use strict";var n=a("6374").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"TableHeader",components:{},data:function(){return{projValueSelect:this.projDefaultSelect,envValueSelect:this.envSelect,statusValueSelect:this.statusSelect,startValueSelect:this.startVersionSelect,endValueSelect:this.endVersionSelect,inputValueText:this.inputText,searchValueText:this.search_text}},props:{envList:Array,envSelect:String,projDefaultSelect:String,projectList:Array,statusSelect:String,status:Array,startVersionSelect:String,startVersion:Array,endVersionSelect:String,endVersion:Array,getProjectList:{type:Function,default:null},getEnumVersionList:{type:Function,default:null},checkEvent:{type:Function,default:null},title:String,showSearch:{type:Boolean,default:!0},inputText:String,search_text:String,placeholder:{String:String,default:""},condition:Object},methods:{getSelectProjname:function(){var e,t=n(this.projectList);try{for(t.s();!(e=t.n()).done;){var a=e.value;if(a.value==this.projDefaultSelect)return a.label}}catch(r){t.e(r)}finally{t.f()}},changeSelectEnv:function(e){console.log(e),this.getProjectList(e)},changeProj:function(e){this.$emit("updateSelectProjValue",e)},selectEvent:function(){this.$emit("getEventListValue",[this.envValueSelect,this.statusValueSelect,this.startValueSelect,this.endValueSelect,this.searchValueText])}},computed:{}}},"9aa6":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{staticClass:"card-content"},[a("template",{slot:"header"},[a("template",{slot:"title"},[a("div",[e._v("sonar扫描结果")])])],2),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"sonarTable",attrs:{data:e.tableDatas,size:"medium"}},[a("el-table-column",{attrs:{label:"应用名称",prop:"appName"}}),a("el-table-column",{attrs:{label:"负责人",prop:"owner"}}),a("el-table-column",{attrs:{label:"blocker级别问题",prop:"blocker"}}),a("el-table-column",{attrs:{label:"critical级别问题",prop:"critical"}}),a("el-table-column",{attrs:{label:"sonar问题详情"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("a",{attrs:{href:"http://sonar.jlgltech.com/dashboard?id="+t.row.appName,target:"_blank"}},[e._v(" "+e._s(t.row.appName))])])]}}])}),a("el-table-column",{attrs:{label:"语言类型",prop:"lang"}})],1),a("table-pagination",{attrs:{change:e.getFullSonarList,"current-page":e.currentPage,"page-size":e.pageSize,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t}}})],2)},r=[],o=a("6d22"),i=a("93f3"),s=a("365c"),l={name:"FullSonar",components:{TablePagination:o["default"]},props:{},data:function(){return{condition:{},total:0,pageSize:i["PAGINATION_SIZE"].XLARGE,currentPage:1,searchName:"",tableDatas:[]}},mounted:function(){this.getFullSonarList()},computed:{loading:function(){return this.$store.state.loading}},methods:{getFullSonarList:function(){var e=this,t={limit:this.pageSize,offset:this.currentPage};s["sonarApi"].getAllSonarInfos(t).then((function(t){e.tableDatas=t.data.data,e.total=51}))},handlePollingDataList:function(){this.currentPage=1,this.getFullSonarList()}}},c=l,u=a("2877"),d=Object(u["a"])(c,n,r,!1,null,"66c39f22",null);t["default"]=d.exports},"9b0e":function(e,t,a){"use strict";a.r(t);var n=a("c042"),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=r.a},"9be7":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"9ca3":function(e,t,a){},"9cea":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.menuPermissionEnum=void 0,function(e){e["SprintOverView"]="normal.performanceData.sprintOverview",e["SprintDetail"]="normal.performanceData.sprintDetail",e["ProjectReport"]="normal.performanceData.projectReport",e["GanttResource"]="normal.performanceData.ganttResource",e["MonthResourceReport"]="normal.performanceData.monthResourceReport",e["MonthQualityReport"]="normal.performanceData.monthQualityReport",e["ProjectTrendReport"]="normal.performanceData.projectTrendReport",e["AutoTest"]="normal.autoTest",e["AutoTestConfig"]="normal.autoTest.config",e["AutoTestHistory"]="normal.autoTest.history",e["FatCd"]="normal.fatCd",e["FatCdPipeline"]="normal.fatCd.pipeline",e["FatCdFullCoverageTrend"]="normal.fatCd.fullCoverageTrend",e["FatCdBranch"]="normal.fatCd.branchManage",e["FatCdDeployRecord"]="normal.fatCd.deployRecord",e["FatCdCoverageRecord"]="normal.fatCd.coverageRecord",e["TestTrack"]="normal.testTrack",e["TestTrackCase"]="normal.testTrack.manualCase",e["TestTrackReview"]="normal.testTrack.caseReview",e["TestTrackSmoke"]="normal.testTrack.smokePlan",e["TestTrackFunc"]="normal.testTrack.funcPlan",e["TestTrackBuriedDataOperate"]="normal.testTrack.buriedData",e["TestTrackBuriedProfileOperate"]="normal.testTrack.buriedProfile",e["Tool"]="normal.tool",e["ToolMock"]="normal.tool.mock",e["ToolFlower"]="normal.tool.flower",e["ToolPrMerge"]="normal.tool.prMerge",e["ToolJiraPrConfig"]="normal.tool.jiraPrConfig",e["ToolApprovalNotify"]="normal.tool.approvalNotify",e["DataTool"]="normal.datatool",e["Apollo"]="normal.datatool.apollo",e["ApolloIntl"]="normal.datatool.apolloIntl"}(t.menuPermissionEnum||(t.menuPermissionEnum={}))},"9ddf":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.caseFormRules=t.caseForm=t.caseStep=void 0;var n=a("b889");t.caseStep={stepNumber:1,actions:"",expectedresults:""},t.caseForm={name:"",module:"",maintainer:"",priority:n.priorityEnum.P3,caseType:n.caseTypeEnum.FUNCTIONAL,method:n.executionEnum.MANUAL,prerequisite:"",testId:"",otherTestName:"",steps:[t.caseStep],description:""},t.caseFormRules={name:[{required:!0,message:"请输入名称",trigger:"blur"}],module:[{required:!0,message:"请选择模块",trigger:"change"}],maintainer:[{required:!0,message:"请选择维护人",trigger:"change"}],priority:[{required:!0,message:"请选择用例等级",trigger:"change"}],caseType:[{required:!0,message:"请选择用例类型",trigger:"change"}],testId:[{required:!0,message:"请选择",trigger:"change"}],method:[{required:!0,message:"请选择测试方式",trigger:"change"}],prerequisite:[{max:500,message:"长度必须小于500",trigger:"blur"}],description:[{max:500,message:"长度必须小于500",trigger:"blur"}]}},"9f14":function(e,t,a){},"9f26":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-drawer",{ref:"drawer",attrs:{"modal-append-to-body":!1,visible:e.showDialog,"with-header":!1,"close-on-press-escape":"",size:"100%"},on:{"update:visible":function(t){e.showDialog=t}}},[e.parent.isQa?a("el-alert",{attrs:{closable:!1,center:"",effect:"dark",title:"当前处于测试验证模式",type:"success"}}):e._e(),a("el-card",{staticClass:"container"},[a("el-row",{staticClass:"cast-row"},[a("el-col",{attrs:{span:1}},[a("el-button",{attrs:{icon:"el-icon-back",plain:"",size:"mini"},on:{click:e.cancel}},[e._v("返回")])],1),a("el-col",{staticClass:"head-right",attrs:{span:22}},[a("span",[e._v("上一条用例：")]),a("el-button",{attrs:{disabled:e.index+e.offset+1<=1,loading:e.loading,icon:"el-icon-arrow-up",plain:"",size:"mini"},on:{click:e.handlePre}}),a("span",[e._v(e._s(e.index+e.offset+1+"/"+e.total))]),a("el-button",{attrs:{disabled:e.index+e.offset+1>=e.total,loading:e.loading,icon:"el-icon-arrow-down",plain:"",size:"mini"},on:{click:e.handleNext}})],1)],1),a("el-row",[a("el-col",[a("el-divider",{attrs:{"content-position":"left"}},[e._v(e._s(e.testCase.caseDetail.name))])],1)],1),a("el-row",{staticClass:"cast-row"},[a("el-col",{attrs:{offset:1,span:4}},[a("span",{staticClass:"cast-label"},[e._v("用例等级：")]),a("priority-table-item",{attrs:{value:e.testCase.caseDetail.importance,text:""}})],1),a("el-col",{attrs:{span:5}},[a("span",{staticClass:"cast-label"},[e._v("用例类型：")]),a("case-type-table-item",{attrs:{value:e.testCase.caseDetail.caseType}})],1),a("el-col",{attrs:{span:10}},[e.parent.isQa?a("test-plan-case-status-button",{attrs:{status:e.testCase.smokeCheck},on:{statusChange:e.saveCase}}):a("test-plan-case-status-button",{attrs:{status:e.testCase.status},on:{statusChange:e.saveCase}})],1)],1),a("el-row",{staticClass:"cast-row"},[a("el-col",{attrs:{offset:1,span:4}},[a("span",{staticClass:"cast-label"},[e._v("测试方式：")]),a("execution-type-table-item",{attrs:{value:e.testCase.caseDetail.executionType}})],1),a("el-col",{attrs:{span:5}},[a("span",{staticClass:"cast-label"},[e._v("所属模块：")]),a("span",[e._v(e._s(e.testCase.treePath))])]),a("el-col",{attrs:{span:4}},[a("span",{staticClass:"cast-label"},[e._v("所属项目：")]),a("span",[e._v(e._s(e.testCase.projName))])])],1),a("el-row",{staticClass:"cast-row"},[a("el-col",{attrs:{offset:1}},[a("span",{staticClass:"cast-label"},[e._v("前置条件：")]),a("span",[e._v(e._s(e.testCase.caseDetail.preconditions))])])],1),e.testCase.method===e.executionEnum.AUTO&&e.testCase.testId?a("el-row",{staticClass:"cast-row"},[a("el-col",{staticClass:"test-detail",attrs:{offset:1,span:20}},[a("el-tabs",{attrs:{type:"border-card"},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[a("el-tab-pane",{attrs:{label:"测试详情",name:"detail"}},[e.testCase.caseType===e.caseTypeEnum.API?a("api-test-detail",{ref:"apiTestDetail",attrs:{id:e.testCase.testId,"is-read-only":!0}}):e.testCase.caseType===e.caseTypeEnum.PERFORMANCE?a("performance-test-detail",{ref:"performanceTestDetail",attrs:{id:e.testCase.testId,"is-read-only":!0}}):e._e()],1)],1)],1)],1):e._e(),e.testCase.executionType!==e.executionEnum.AUTO?a("el-row",{staticClass:"cast-row"},[a("el-col",{attrs:{offset:1,span:21}},[a("div",{staticClass:"cast-label"},[e._v("执行步骤：")]),a("el-table",{staticClass:"tb-edit",attrs:{border:!0,data:e.testCase.caseDetail.steps,"default-sort":{prop:"num",order:"ascending"},"highlight-current-row":"",size:"mini"}},[a("el-table-column",{attrs:{label:"编号","min-width":"5%",prop:"stepNumber"}}),a("el-table-column",{attrs:{label:"步骤描述","min-width":"21%",prop:"actions"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{staticClass:"border-hidden",attrs:{autosize:{minRows:1,maxRows:4},disabled:!0,size:"mini",type:"textarea"},model:{value:t.row.actions,callback:function(a){e.$set(t.row,"actions",a)},expression:"scope.row.actions"}})]}}],null,!1,2911540122)}),a("el-table-column",{attrs:{label:"预期结果","min-width":"21%",prop:"expectedresults"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{staticClass:"border-hidden",attrs:{autosize:{minRows:1,maxRows:4},disabled:"",size:"mini",type:"textarea"},model:{value:t.row.expectedresults,callback:function(a){e.$set(t.row,"expectedresults",a)},expression:"scope.row.expectedresults"}})]}}],null,!1,2268276357)}),a("el-table-column",{attrs:{label:"实际结果","min-width":"21%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{staticClass:"table-edit-input",attrs:{autosize:{minRows:2,maxRows:4},rows:2,clearable:"",placeholder:"请输入内容",size:"mini",type:"textarea"},model:{value:t.row.actualResult,callback:function(a){e.$set(t.row,"actualResult",a)},expression:"scope.row.actualResult"}})]}}],null,!1,3589700140)}),a("el-table-column",{attrs:{label:"步骤执行结果","min-width":"12%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{size:"mini"},on:{change:function(t){return e.stepResultChange()}},model:{value:t.row.actualStatus,callback:function(a){e.$set(t.row,"actualStatus",a)},expression:"scope.row.actualStatus"}},e._l(e.stepStatusOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.text,value:e.value}},[a("test-review-case-step-status",{attrs:{value:e.value}})],1)})),1)]}}],null,!1,2957114524)})],1)],1)],1):e._e(),a("el-row",{staticClass:"cast-row"},[a("el-col",{attrs:{offset:1,span:15}},[a("div",[a("span",{staticClass:"cast-label"},[e._v("备注：")]),e.testCase.description?e._e():a("span",{staticStyle:{color:"darkgrey"}},[e._v("未填写")])]),a("div",[e.testCase.description?a("el-input",{attrs:{rows:3,disabled:"",type:"textarea"},model:{value:e.testCase.description,callback:function(t){e.$set(e.testCase,"description",t)},expression:"testCase.description"}}):e._e()],1)])],1)],1)],1)},r=[]},"9f86":function(e,t,a){"use strict";a("0603")},"9fda":function(e,t,a){},"9fde":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("table-search-component",{attrs:{component:e.component},on:{change:e.change},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-date-picker",e._b({key:e.type,attrs:{type:e.type,"end-placeholder":"结束日期时间",placeholder:"选择日期时间","range-separator":"至",size:"small","start-placeholder":"开始日期时间","value-format":"timestamp"},model:{value:t.component.value,callback:function(a){e.$set(t.component,"value",a)},expression:"scope.component.value"}},"el-date-picker",t.component.props,!1))]}}]),model:{value:e.component.operator.value,callback:function(t){e.$set(e.component.operator,"value",t)},expression:"component.operator.value"}})},r=[]},a0d7:function(e,t,a){},a0db:function(e,t,a){"use strict";a("8e46")},a18c:function(e,t,a){"use strict";a.r(t);var n=a("2909"),r=(a("ac1f"),a("5319"),a("99af"),a("2b0e")),o=a("8c4f"),i=a("4360"),s=a("7a93"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("el-header",[a("home-header")],1),e.isShow?a("el-container",{staticStyle:{height:"calc(100vh - 50px)"}},[a("home-side"),a("el-main",[a("router-view")],1)],1):e._e()],1)},c=[],u=a("f661"),d=a("ade0"),p={name:"index",data:function(){return{width:"",isShow:!0}},components:{HomeHeader:u["default"],HomeSide:d["default"]}},f=p,m=(a("d141"),a("b457"),a("2877")),h=Object(m["a"])(f,l,c,!1,null,"3287053c",null),b=h.exports,g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-page"},[a("div",{staticClass:"login_box",style:{"min-height":e.winHeight+"px"}},[a("div",{attrs:{id:"particles"}}),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"login"},[e._m(0),a("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}})],1)])])},v=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login_name"},[a("img",{staticClass:"login-logo",attrs:{alt:"",src:"https://dev-crm.jiliguala.com/static/img/login_logo.b63d90e7.png"}}),a("p",[e._v("测试平台")])])}],y=(a("b0c0"),a("ea9b")),_=a.n(y),S={data:function(){return{remeber:!1,loading:!1,activeName:"first",winHeight:window.innerHeight,loginForm:{name:"",password:""},rules:{name:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},methods:{initParticlesJS:function(){particlesJS("particles",{particles:{number:{value:80,density:{enable:!0,value_area:800}},color:{value:"#ffffff"},shape:{type:"circle",stroke:{width:0,color:"#ffffff"},polygon:{nb_sides:5},image:{src:"img/github.svg",width:100,height:100}},opacity:{value:.24837156385953366,random:!1,anim:{enable:!1,speed:1,opacity_min:.1,sync:!1}},size:{value:3,random:!0,anim:{enable:!1,speed:40,size_min:.1,sync:!1}},line_linked:{enable:!0,distance:100,color:"#373737",opacity:.745114691578601,width:.6409588744762158},move:{enable:!0,speed:6.409588744762158,direction:"none",random:!1,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:600,rotateY:1200}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!0,mode:"repulse"},onclick:{enable:!0,mode:"push"},resize:!0},modes:{grab:{distance:400,line_linked:{opacity:1}},bubble:{distance:400,size:40,duration:2,opacity:8,speed:3},repulse:{distance:200,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!1})},loginFun:function(){var e=this;this.$refs.userForm.validate((function(t){t?(e.loading=!0,_.a.doLogin({username:e.loginForm.name,password:e.loginForm.password}).then((function(t){e.$store.commit("SET_TOKEN",t.token),console.log("permissions",t.permissions),e.$store.commit("SET_ROLE",t.permissions),e.$router.push({name:s["PathName"].Home}),e.loading=!1}),(function(){e.loading=!1}))):e.$message.error("请提填写用户名和密码！")}))},authToken:function(){var e=this;_.a.authToken({sso_auth_code:this.$route.query.sso_auth_code}).then((function(t){e.$store.commit("SET_TOKEN",t.token),e.$store.commit("SET_ROLE",t.permissions),e.$router.push({name:s["PathName"].Home}),e.loading=!1}),(function(){e.loading=!1}))}},mounted:function(){console.log("ssossosso"),this.authToken()}},T=S,w=(a("daae"),Object(m["a"])(T,g,v,!1,null,"2cdea210",null)),x=w.exports,E=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v(" sso登录 ")])},C=[],P={name:"sso_login"},k=P,O=Object(m["a"])(k,E,C,!1,null,"60914d3e",null),I=O.exports,D=a("e877"),j=a.n(D),A=a("5b8f"),R=a.n(A),N=a("6ed0"),F=a.n(N),$=a("18fb"),M=a.n($),B=a("c2d5"),L=a.n(B),z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"error-page"},[e._m(0),a("div",{staticClass:"error-desc"},[e._v("啊哦~ 你没有权限访问该页面哦")]),a("div",{staticClass:"error-handle"},[a("router-link",{attrs:{to:"/"}},[a("el-button",{attrs:{type:"primary",size:"large"},on:{click:e.goBack}},[e._v("返回首页")])],1)],1)])},V=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"error-code"},[e._v(" 4 "),a("span",[e._v("0")]),e._v("3 ")])}],U={name:"Permission",methods:{goBack:function(){this.$store.commit("UNVISIBLE_SIDE",!0)}}},G=U,W=(a("0d36"),Object(m["a"])(G,z,V,!1,null,"1c12b1ca",null)),K=W.exports,H=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{attrs:{id:"planReport"}},[a("el-row",{staticClass:"head-bar"},[a("div",{staticClass:"title"},[a("el-tooltip",{attrs:{effect:"dark",content:"点击标题发送测试报告",placement:"top-start"}},[a("span",{on:{click:e.getReportImg}},[e._v(e._s(e.baseInfo.name)+"测试报告")])])],1)]),a("div",{ref:"resume",staticClass:"container",attrs:{id:"app"}},[a("base-info",{attrs:{"base-info":e.baseInfo,"plan-id":e.planId},on:{fatherMethod:e.getReport}}),e.baseInfo.stage!==e.planStageEnum.SMOKE?a("ticket-list",{attrs:{data:e.ticketList}}):e._e(),e.smokePassRate.length>0?a("smoke-pass-rate",{attrs:{data:e.smokePassRate}}):e._e(),a("execute-result",{attrs:{data:e.executeResult}}),a("module-execute-result",{attrs:{data:e.moduleExecuteResult}}),e.baseInfo.stage!==e.planStageEnum.SMOKE?a("bug-owner-chart",{attrs:{"bug-owner-data":e.bugOwnerCharts,"bug-level-data":e.bugLevelCharts}}):e._e(),e.baseInfo.stage!==e.planStageEnum.SMOKE?a("bug-list",{attrs:{data:e.bugList}}):e._e(),e.baseInfo.stage===e.planStageEnum.SMOKE?a("sonar-result",{attrs:{pipelineIds:e.baseInfo.pipelineIds}}):e._e(),e.baseInfo.stage!==e.planStageEnum.SMOKE?a("allure-report",{staticClass:"allure",attrs:{"history-id":e.baseInfo.historyId,"show-test-suites":!1}}):e._e()],1)],1),a("el-dialog",{staticClass:"dialog-title",attrs:{visible:e.reportDialog,title:"发送报告",id:"receiverSelect"},on:{"update:visible":function(t){e.reportDialog=t}}},[a("el-select",{staticStyle:{width:"80%"},attrs:{multiple:"",filterable:"",placeholder:"请选择收件人"},model:{value:e.receivers,callback:function(t){e.receivers=t},expression:"receivers"}},e._l(e.userOptions,(function(e){return a("el-option",{key:e.value,attrs:{value:e.email,label:e.email}})})),1),a("template",{slot:"footer"},[a("dialog-footer",{on:{cancel:e.cancleEdit,confirm:e.sendReport}})],1)],2)],1)},q=[],J=(a("d3b7"),a("25f0"),a("159b"),a("365c")),Y=a("5ec0"),X=a("00e0"),Q=a("3a00"),Z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("common-component",{attrs:{title:"基础信息"}},[[a("el-row",{attrs:{justify:"space-between",type:"flex"}},[a("el-col",{staticStyle:{"text-align":"left"},attrs:{span:12}},[a("span",[e._v("所属项目：")]),e._l(e.baseInfo.projNames,(function(t){return a("span",{key:t,staticClass:"item-value"},[e._v(e._s(t))])}))],2),a("el-col",{staticStyle:{"text-align":"left"},attrs:{span:12}},[a("span",[e._v("负责人：")]),a("span",{staticClass:"item-value"},[e._v(e._s(e.baseInfo.owner))])])],1),a("el-row",{staticClass:"select-time",attrs:{justify:"space-between",type:"flex"}},[a("el-col",{staticStyle:{"text-align":"left"},attrs:{span:12}},[a("span",[e._v("开始时间：")]),a("el-date-picker",{attrs:{format:"yyyy 年 MM 月 dd 日",placeholder:"请选择开始时间",type:"date","value-format":"yyyy-MM-dd"},on:{change:e.startTimeChange},model:{value:e.baseInfo.start,callback:function(t){e.$set(e.baseInfo,"start",t)},expression:"baseInfo.start"}})],1),a("el-col",{staticStyle:{"text-align":"left"},attrs:{span:12}},[a("span",[e._v("结束时间：")]),a("el-date-picker",{attrs:{format:"yyyy 年 MM 月 dd 日",placeholder:"请选择结束时间",type:"date","value-format":"yyyy-MM-dd"},on:{change:e.endTimeChange},model:{value:e.baseInfo.end,callback:function(t){e.$set(e.baseInfo,"end",t)},expression:"baseInfo.end"}})],1)],1),a("el-row",{staticClass:"baseInfo",attrs:{justify:"space-between",type:"flex"}},[a("el-col",{staticStyle:{"text-align":"left"},attrs:{span:12}},[a("span",[e._v("执行人：")]),e._l(e.baseInfo.executors,(function(t){return a("span",{key:t},[e._v(e._s(t))])}))],2),e.baseInfo.stage!==e.planStageEnum.SMOKE?a("el-col",{staticStyle:{"text-align":"left"},attrs:{span:12}},[a("span",[e._v("自动化构建号：")]),a("el-input",{staticStyle:{width:"180px"},on:{change:e.editHistoryId},model:{value:e.cloneBaseInfo.historyId,callback:function(t){e.$set(e.cloneBaseInfo,"historyId",t)},expression:"cloneBaseInfo.historyId"}},[a("i",{staticClass:"el-icon-edit el-input__icon",attrs:{slot:"suffix"},slot:"suffix"})])],1):e._e()],1),e.baseInfo.stage!==e.planStageEnum.SMOKE?a("el-row",{attrs:{justify:"space-between",type:"flex"}},[a("el-col",{staticStyle:{"text-align":"left"},attrs:{span:12}},[a("span",[e._v("缺陷筛选器：")]),a("el-button",{attrs:{type:"text"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("点击此处查看/更新jql")])],1)],1):e._e(),a("el-row",{attrs:{justify:"space-between",type:"flex"}},[a("el-col",{staticStyle:{"text-align":"left"},attrs:{span:12}},[a("span",{staticStyle:{color:"red"}},[e._v("备注：")]),a("span",[e._v(" "+e._s(e.cloneBaseInfo.description)+" ")]),e.ifEdit?e._e():a("el-button",{staticClass:"el-icon-edit",attrs:{type:"text"},on:{click:function(t){e.ifEdit=!0}}})],1)],1),a("el-dialog",{staticClass:"dialog-title",attrs:{visible:e.dialogVisible,title:"缺陷筛选jql"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-input",{attrs:{placeholder:"请输入jql"},model:{value:e.cloneBaseInfo.jql,callback:function(t){e.$set(e.cloneBaseInfo,"jql",t)},expression:"cloneBaseInfo.jql"}}),a("template",{slot:"footer"},[a("dialog-footer",{on:{cancel:e.cancleEdit,confirm:e.submit}})],1)],2),a("el-dialog",{staticClass:"dialog-title",attrs:{visible:e.ifEdit,title:"备注"},on:{"update:visible":function(t){e.ifEdit=t}}},[a("el-input",{attrs:{placeholder:"请输入备注说明"},model:{value:e.cloneBaseInfo.description,callback:function(t){e.$set(e.cloneBaseInfo,"description",t)},expression:"cloneBaseInfo.description"}}),a("template",{slot:"footer"},[a("dialog-footer",{on:{cancel:e.cancleEdit,confirm:e.editPlanDescription}})],1)],2)]],2)},ee=[],te=(a("a4d3"),a("e01a"),a("2ef0")),ae=a("1f14"),ne={name:"BaseInfoComponent",components:{CommonComponent:ae["a"],DialogFooter:Y["default"]},props:{baseInfo:{type:Object},planId:{type:String}},data:function(){return{planStageEnum:X["planStageEnum"],dialogVisible:!1,ifEdit:!1,cloneBaseInfo:Object(te["cloneDeep"])(this.baseInfo)}},watch:{baseInfo:function(){this.cloneBaseInfo=Object(te["cloneDeep"])(this.baseInfo)}},methods:{startTimeChange:function(){this.baseInfo.end&&this.baseInfo.end-this.baseInfo.start<0?(this.baseInfo.start=void 0,this.$message.warning("开始日期不能大于结束日期")):J["testPlanApi"].updateTestCasePlan(this.planId,{actualStart:this.baseInfo.start})},endTimeChange:function(){this.baseInfo.start&&this.baseInfo.end-this.baseInfo.start<0?(this.baseInfo.end=void 0,this.$message.warning("开始日期不能大于结束日期")):J["testPlanApi"].updateTestCasePlan(this.planId,{actualEnd:this.baseInfo.end})},submit:function(){var e=this;J["testPlanApi"].updateTestCasePlan(this.planId,{issueJql:this.cloneBaseInfo.jql}).then((function(t){e.dialogVisible=!1,e.$emit("fatherMethod")}))},editHistoryId:function(){var e=this;J["testPlanApi"].updateTestCasePlan(this.planId,{historyId:this.cloneBaseInfo.historyId}).then((function(){e.$emit("fatherMethod")}))},editPlanDescription:function(){var e=this;J["testPlanApi"].updateTestCasePlan(this.planId,{description:this.cloneBaseInfo.description}).then((function(t){e.ifEdit=!1,e.$emit("fatherMethod")}))},cancleEdit:function(){this.ifEdit=!1,this.dialogVisible=!1,this.cloneBaseInfo=Object(te["cloneDeep"])(this.baseInfo)}}},re=ne,oe=(a("886a"),a("4871"),Object(m["a"])(re,Z,ee,!1,null,"092f78da",null)),ie=oe.exports,se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("common-component",{attrs:{title:"缺陷列表"}},[[a("el-table",{staticClass:"adjust-table",staticStyle:{width:"100%"},attrs:{data:e.data,stripe:"",size:"medium","cell-style":e.cellStyle}},[a("el-table-column",{attrs:{prop:"key",label:"关键字"}}),a("el-table-column",{attrs:{prop:"summary",label:"主题","show-overflow-tooltip":"",width:"400"}}),a("el-table-column",{attrs:{label:"bug子等级",prop:"subBugLevel"}}),a("el-table-column",{attrs:{prop:"statusChinese",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:e.tagType(t.row),effect:"dark"}},[e._v(e._s(t.row.statusChinese))])]}}])}),a("el-table-column",{attrs:{prop:"assignee",label:"经办人"}}),a("el-table-column",{attrs:{prop:"creator",label:"报告人"}})],1)]],2)},le=[],ce={name:"BugList",components:{CommonComponent:ae["a"]},props:{data:{type:Array}},methods:{cellStyle:function(){return"font: 13px Arial;font-weight: 500; color: #606266;"},tagType:function(e){return"Done"===e.status?"success":"ToDo"===e.status?"info":"Fixed"===e.status?"":"Closed"===e.status?"success":"Reopened"===e.status?"danger":"warning"}}},ue=ce,de=Object(m["a"])(ue,se,le,!1,null,"6410fd71",null),pe=de.exports,fe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("common-component",{attrs:{title:"Bug分布图"}},[[0===e.bugOwnerData.length?a("div",{staticStyle:{"font-size":"14px",color:"#909399","text-align":"center"}},[a("span",[e._v("暂无数据")])]):a("div",[e.isShow?a("div",[a("chart",{staticStyle:{width:"100%",height:"400px"},attrs:{options:e.options,autoresize:!0}})],1):e._e()])]],2)},me=[],he={name:"BugOwnerChart",components:{CommonComponent:ae["a"]},data:function(){return{isShow:!0,radius:["40%","70%"],options:{tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},color:["#c4d29b","#9dbadb","#dfa39b","#f8dea7","#aba1b9","#f5c6d4","#c7c7c7","#a79b91","#edbb92","#e7a7af","#aacfe9"],series:[{name:"Bug等级",type:"pie",selectedMode:"single",radius:[0,"30%"],label:{formatter:"{b}:{c}",position:"inner",fontSize:12},labelLine:{show:!1},data:this.bugLevelData},{name:"BugOwner",type:"pie",radius:["45%","60%"],labelLine:{length:30},label:{formatter:"{a|{a}}{abg|}\n{hr|}\n  {b|{b}：}{c}  {per|{d}%}  ",backgroundColor:"#F6F8FC",borderColor:"#8C8D8E",borderWidth:1,borderRadius:4,rich:{a:{color:"#6E7079",lineHeight:22,align:"center"},hr:{borderColor:"#8C8D8E",width:"100%",borderWidth:1,height:0},b:{color:"#4C5058",fontSize:14,fontWeight:"bold",lineHeight:33},per:{color:"#fff",backgroundColor:"#4C5058",padding:[3,4],borderRadius:4}}},data:this.bugOwnerData}]}}},props:{bugOwnerData:{type:Array},bugLevelData:{type:Array}},watch:{bugOwnerData:function(){this.reload()}},mounted:function(){this.reload()},methods:{reload:function(){this.isShow=!1,this.$nextTick((function(){this.isShow=!0}))}}},be=he,ge=Object(m["a"])(be,fe,me,!1,null,"3bc0ae1e",null),ve=ge.exports,ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("common-component",{attrs:{title:"测试结果统计"}},[[e.isShow?a("my-pie-chart",{attrs:{text:" ",name:"测试结果",data:e.chartData,radius:e.radius,height:"400px",width:"500px"}}):e._e()]],2)},_e=[],Se=(a("4ec9"),a("3ca3"),a("ddb0"),a("b64b"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[0===e.data.length?a("div",{staticStyle:{"font-size":"14px",color:"#909399","text-align":"center"}},[a("span",[e._v("暂无数据")])]):e._e(),e.data.length>0?a("div",[a("chart",{style:{width:e.width,height:e.height,margin:"0 auto"},attrs:{autoresize:!0,options:e.options,theme:"default"}})],1):e._e()])}),Te=[],we={name:"myPieChart",mounted:function(){this.getDataNamesByData()},computed:{options:function(){return{color:this.color,title:{text:this.text,subtext:this.subtext,left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b}:{c}({d}%)"},series:[{name:this.name,type:"pie",radius:this.radius,itemStyle:{borderColor:"#fff",borderWidth:2},data:this.data,animation:!1,label:{normal:{show:!0,position:"outside",formatter:"{b}:{c}"}},emphasis:{label:{show:!0,fontSize:"18",fontWeight:"bold"}}}]}}},watch:{data:function(){this.getDataNamesByData()}},data:function(){return{dataNames:["示例1","示例2","示例3"]}},props:{width:{type:String,default:"400px"},height:{type:String,default:"300px"},radius:{type:Array,default:function(){return["30%","60%"]}},color:{type:Array,default:function(){return["#171e6d","#1E3388","#27539B","#3073AE","#3993C2","#42B3D5","#75C6D1","#A9DACC","#D2EDC8"]}},text:{type:String,default:"图表名称"},name:{type:String,default:"数据名称"},subtext:{type:String,default:""},data:{type:Array,default:function(){return[{value:235,name:"示例1",itemStyle:{color:"#6e7074"}},{value:274,name:"示例2",itemStyle:{color:"#ca8622"}},{value:274,name:"示例3",itemStyle:{color:"#bda29a"}}]}}},methods:{getDataNamesByData:function(){var e=[];this.data.forEach((function(t){e.push(t.name)})),this.dataNames=e}}},xe=we,Ee=(a("39bc"),Object(m["a"])(xe,Se,Te,!1,null,"79cdc116",null)),Ce=Ee.exports,Pe={name:"TestResultChartComponent",components:{myPieChart:Ce,CommonComponent:ae["a"]},data:function(){return{dataMap:new Map([["pass",{name:"通过",itemStyle:{color:"#67C23A"}}],["fail",{name:"失败",itemStyle:{color:"#F56C6C"}}],["block",{name:"阻塞",itemStyle:{color:"#E6A23C"}}],["skip",{name:"跳过",itemStyle:{color:"#909399"}}],["init",{name:"未执行",itemStyle:{color:"#DEDE10"}}]]),isShow:!0,radius:["40%","70%"]}},props:{data:{type:Object}},computed:{chartData:function(){return this.getChartData()}},methods:{getChartData:function(){var e=this,t=[];return Object.keys(this.data).forEach((function(a){var n=e.dataMap.get(a);n.value=e.data[a],t.push(n)})),this.reload(),t},reload:function(){this.isShow=!1,this.$nextTick((function(){this.isShow=!0}))}}},ke=Pe,Oe=Object(m["a"])(ke,ye,_e,!1,null,"219458ca",null),Ie=Oe.exports,De=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("common-component",{attrs:{title:"模块测试结果"}},[[a("el-table",{staticClass:"adjust-table",staticStyle:{width:"100%"},attrs:{"highlight-current-row":"",data:e.tableData,stripe:"",size:"large","cell-style":e.cellStyle}},[a("el-table-column",{attrs:{prop:"module",label:"模块"}}),a("el-table-column",{attrs:{prop:"project",label:"所属项目","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"caseCount",label:"用例数"}}),a("el-table-column",{attrs:{prop:"pass",label:"通过"}}),a("el-table-column",{attrs:{prop:"fail",label:"失败"}}),a("el-table-column",{attrs:{prop:"block",label:"阻塞"}}),a("el-table-column",{attrs:{prop:"skip",label:"跳过"}}),a("el-table-column",{attrs:{prop:"init",label:"未执行"}}),a("el-table-column",{attrs:{prop:"passRate",label:"通过率"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.passRate)+"% ")]}}])})],1)]],2)},je=[],Ae=(a("d81d"),{name:"ModuleExecuteResult",components:{CommonComponent:ae["a"]},props:{data:{type:Array}},data:function(){return{tableData:[]}},watch:{data:function(){this.getTableData()}},methods:{getTableData:function(){this.tableData=this.data.map((function(e){return{module:e.module,project:e.project,caseCount:e.caseCount,init:e.init,pass:e.pass,fail:e.fail,skip:e.skip,block:e.block,passRate:e.passRate}}))},cellStyle:function(){return"font: 13px Arial;font-weight: 500; color: #606266;"}},mounted:function(){this.getTableData()}}),Re=Ae,Ne=(a("e1d9"),Object(m["a"])(Re,De,je,!1,null,null,null)),Fe=Ne.exports,$e=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("common-component",{attrs:{title:"开发冒烟结果"}},[[a("el-table",{staticClass:"adjust-table",staticStyle:{width:"100%"},attrs:{data:e.data,stripe:"",size:"large"}},[a("el-table-column",{attrs:{prop:"name",label:"冒烟计划"}}),a("el-table-column",{attrs:{prop:"story",label:"提测需求"}}),a("el-table-column",{attrs:{prop:"caseCount",label:"用例数"}}),a("el-table-column",{attrs:{prop:"pass",label:"通过"}}),a("el-table-column",{attrs:{prop:"fail",label:"失败"}}),a("el-table-column",{attrs:{prop:"block",label:"阻塞"}}),a("el-table-column",{attrs:{prop:"skip",label:"跳过"}}),a("el-table-column",{attrs:{prop:"init",label:"未执行"}}),a("el-table-column",{attrs:{prop:"approvalCount",label:"提测次数"}}),a("el-table-column",{attrs:{prop:"rejectCount",label:"打回次数"}})],1)]],2)},Me=[],Be={name:"SmokePassRate",components:{CommonComponent:ae["a"]},data:function(){return{}},props:{data:{type:Array}}},Le=Be,ze=(a("88f3"),Object(m["a"])(Le,$e,Me,!1,null,"755afecc",null)),Ve=ze.exports,Ue=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("common-component",{attrs:{title:"sonar结果"}},[[a("el-table",{attrs:{size:"large",data:e.tableData,"cell-style":e.cellStyle}},[a("el-table-column",{attrs:{prop:"appName",label:"应用"}}),a("el-table-column",{attrs:{prop:"lang",label:"语言"}}),a("el-table-column",{attrs:{prop:"checkResult",label:"扫描结论"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:e.tagType(t.row.checkResult),effect:"dark"}},[e._v(e._s(t.row.checkResult))])]}}])}),a("el-table-column",{attrs:{prop:"blocker",label:"Blocker问题数"}}),a("el-table-column",{attrs:{prop:"critical",label:"Critical问题数"}}),a("el-table-column",{attrs:{prop:"sonarUrl",label:"问题详情"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{attrs:{href:t.row.sonarUrl,target:"_blank"}},[e._v(" "+e._s(t.row.appName))])]}}])})],1)]],2)},Ge=[],We={name:"SonarResult",components:{CommonComponent:ae["a"]},props:{pipelineIds:{type:Array,default:function(){return[]}}},data:function(){return{tableData:[]}},mounted:function(){this.getTableData()},methods:{tagType:function(e){return"通过"===e?"success":"不通过"===e?"danger":void 0},cellStyle:function(){return"font: 13px Arial;font-weight: 500; color: #606266;"},getTableData:function(){var e=this;console.log("pipelineids",this.pipelineIds),this.pipelineIds.length>0&&J["testPlanApi"].getSonarResult({pipelineIds:this.pipelineIds}).then((function(t){e.tableData=t.data.data}))}}},Ke=We,He=Object(m["a"])(Ke,Ue,Ge,!1,null,"074d006c",null),qe=He.exports,Je=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("common-component",{attrs:{title:"需求列表"}},[[a("el-table",{staticClass:"adjust-table",staticStyle:{width:"100%"},attrs:{data:e.data,size:"large","cell-style":e.cellStyle}},[a("el-table-column",{attrs:{prop:"key",label:"关键字",width:"180"}}),a("el-table-column",{attrs:{prop:"summary",label:"需求描述"}}),a("el-table-column",{attrs:{prop:"statusChinese",label:"状态",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:e.tagType(t.row),effect:"dark"}},[e._v(e._s(t.row.statusChinese))])]}}])}),a("el-table-column",{attrs:{prop:"assignee",label:"经办人",width:"180"}})],1)]],2)},Ye=[],Xe={name:"TicketList",components:{CommonComponent:ae["a"]},data:function(){return{}},props:{data:{type:Array}},methods:{cellStyle:function(){return"font: 13px Arial;font-weight: 500; color: #606266;"},tagType:function(e){return"Done"===e.status?"success":"ToDo"===e.status?"info":"Fixed"===e.status?"":"Closed"===e.status?"success":"Reopened"===e.status?"danger":"warning"}}},Qe=Xe,Ze=(a("90a6"),Object(m["a"])(Qe,Je,Ye,!1,null,"0e2746cc",null)),et=Ze.exports,tt=a("5c96"),at=a("c0e9"),nt=a.n(at),rt={name:"TestReportView",components:{SonarResult:qe,AllureReport:Q["default"],BaseInfo:ie,ExecuteResult:Ie,ModuleExecuteResult:Fe,TicketList:et,BugList:pe,BugOwnerChart:ve,SmokePassRate:Ve,DialogFooter:Y["default"]},data:function(){return{reportDialog:!1,imgBase64:"",receivers:[],userOptions:[],planStageEnum:X["planStageEnum"],baseInfo:{},executeResult:{},moduleExecuteResult:[],ticketList:[],bugList:[],bugOwnerCharts:[],bugLevelCharts:[],smokePassRate:[]}},computed:{planId:function(){return this.$route.params.planId.toString()}},mounted:function(){this.userOptions=this.$store.state.users.users,this.getReport()},methods:{getReport:function(){var e=this;J["testPlanApi"].getTestCasePlanReport(this.planId).then((function(t){e.baseInfo=t.data.baseInfo,e.moduleExecuteResult=t.data.moduleExecuteResult,e.executeResult=t.data.executeResult,t.data.bugLevelCharts.forEach((function(t){e.bugLevelCharts.push({name:t[0],value:t[1]})})),t.data.bugOwnerCharts.forEach((function(t){e.bugOwnerCharts.push({name:t[0],value:t[1]})})),console.log("buglevel",e.bugLevelCharts),e.ticketList=t.data.ticketList,e.bugList=t.data.bugList})),J["testPlanApi"].getTestPlanSmokePassRate(this.planId).then((function(t){e.smokePassRate=t.data}))},getReportImg:function(){var e=this;tt["Message"].info("正在生成报告截图，请稍等！");var t=document.getElementById("planReport");nt()(t,{scrollY:0,useCORS:!0,height:t.clientHeight,allowTaint:!0}).then((function(t){var a=new Image;a.src=t.toDataURL("image/jpeg"),e.imgBase64=a.src,e.reportDialog=!0}))},cancleEdit:function(){this.reportDialog=!1,this.receivers=[]},sendReport:function(){""!==this.imgBase64?""!==this.receivers&&this.receivers.length>0?J["testPlanApi"].sendReportEmail(this.planId,{img:this.imgBase64,receivers:this.receivers}).finally(this.reportDialog=!1,this.receivers=[],this.imgBase64=""):tt["Message"].error("您还未选择收件人"):Object(tt["Message"])({message:"未保存报告截图，请将报错信息报告给开发者",type:"warning",duration:5e3,showClose:!0})}}},ot=rt,it=(a("b9a4"),a("38c5"),Object(m["a"])(ot,H,q,!1,null,"5115b09f",null)),st=it.exports,lt=a("b119"),ct=a.n(lt),ut=a("2a3b"),dt=a.n(ut),pt=a("b31f"),ft=a.n(pt),mt=o["a"].prototype.push,ht=o["a"].prototype.replace;o["a"].prototype.push=function(e){return mt.call(this,e).catch((function(e){return e}))},o["a"].prototype.replace=function(e){return ht.call(this,e).catch((function(e){return e}))},r["default"].use(o["a"]);var bt=[{path:"/login",name:s["PathName"].Login,component:x},{path:"/ssoLogin",name:s["PathName"].SslLogin,component:I,beforeEnter:function(){window.location.replace("http://sso.jiliguala.com/login?redirect=http%3A%2F%2Fqa.jiliguala.com%2Flogin")}},{path:"/403",name:"Permission",component:K},{path:"/testTrack/testCasePlan/:planId/report",name:s["PathName"].TestTrackCasePlanReport,component:st,meta:{isUsingSocketInfo:!0}},{path:"/",name:s["PathName"].Home,component:b,redirect:s["PathName"].Dashboard,children:[].concat(Object(n["a"])(j.a),Object(n["a"])(F.a),Object(n["a"])(R.a),Object(n["a"])(M.a),Object(n["a"])(L.a),Object(n["a"])(ct.a),Object(n["a"])(dt.a),Object(n["a"])(ft.a))}];r["default"].use(o["a"]);var gt=new o["a"]({mode:"history",routes:bt});gt.beforeEach(i["default"].commit("FLASH_TOKEN"));t["default"]=gt},a2ba:function(e,t,a){"use strict";a.r(t);var n=a("9a71"),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=r.a},a38d:function(e,t,a){"use strict";var n=a("6374").default;a("b0c0"),a("4de4"),a("d3b7"),a("25f0"),a("ac1f"),a("1276");var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(a("297c")),i=r(a("6d22")),s=a("93f3"),l=r(a("b322"));t.default={name:"TestBuried",components:{TablePagination:i.default,TableHeader:l.default},data:function(){return{inputText:"",search_text:"",diaglogVisibel:!1,multipleSelection:[],checkData:[],envList:[{value:"prod",label:"prod"}],envSelect:"prod",condition:{},projectList:[],project_id:1,projDefaultSelect:"",total:0,pageSize:s.PAGINATION_SIZE.LARGE,currentPage:1,tableData:[],userPipelineId:!0,endVersion:[],startVersion:[],endVersionSelect:"",startVersionSelect:"",statusSelect:"",status:[{value:"online",label:"已上线"},{value:"offline",label:"已下线"},{value:"init",label:"创建中"},{value:"test",label:"测试中"},{value:"dev",label:"开发中"},{value:"pre",label:"待上线"}]}},computed:{configId:function(){return this.$route.params.configId?this.$route.params.configId:""}},mounted:function(){this.initPageParams()},methods:{checkEvent:function(e){var t=this,a=e[0],n=e[1],r=e[2];if(console.log(this.multipleSelection),0===this.multipleSelection.length)this.$message({message:"请至少选择一项",type:"warning"});else{var i={env:a,uid:r,project_id:n,event_keys:this.multipleSelection};o.default.getTestBuriedCheckList(i).then((function(e){console.log(e.data),t.diaglogVisibel=!0,t.checkData=e.data}))}},handleSelectionChange:function(e){this.multipleSelection=e},dateFormat:function(e){var t=function(e){var t=function(e){return e<10?"0"+e:e},a=new Date(e),n=a.getFullYear(),r=a.getMonth()+1,o=a.getDate(),i=a.getHours(),s=a.getMinutes(),l=a.getSeconds();return n+"-"+t(r)+"-"+t(o)+" "+t(i)+":"+t(s)+":"+t(l)};return t(e.createTime)},statusFormat:function(e){var t,a=n(this.status);try{for(a.s();!(t=a.n()).done;){var r=t.value;if(r.value==e.status)return r.label}}catch(o){a.e(o)}finally{a.f()}},initPageParams:function(){this.getProjectList(this.envSelect)},getProjectList:function(e){var t=this;console.log(e);var a={env:e};this.projectList=[],o.default.getTestBuriedProjList(a).then((function(e){var a,r=e.data.data,o=n(r);try{for(o.s();!(a=o.n()).done;){var i=a.value;t.projectList.push({value:i.id,label:i.name,apiKey:i.apiKey,platform:i.platform})}}catch(s){o.e(s)}finally{o.f()}}))},getPageEventListValue:function(){var e=this.$refs.headerTable.projValueSelect;console.log("getPageEventListValue",e),this.getEventListValue([this.envSelect,this.$refs.headerTable.statusValueSelect,this.startVersionSelect,this.endVersionSelect])},getEventListValue:function(e){var t=this,a=e[0],n=e[1],r=e[2],i=e[3],s=e[4],l={status:n,filter:null,start_version:null,end_version:null,version:{start_version:null,end_version:null}};s&&(l["filter"]=s),r.length>0&&(l["start_version"]=r,l["version"]["start_version"]=r),i.toString().length>0&&(l["end_version"]=i,l["version"]["end_version"]=i);var c={page_size:this.pageSize,project_id:this.mappingProjDevProd(this.projDefaultSelect),filter:null,current_page:this.currentPage,tag_filter:l,env:a};o.default.getTestBuriedEventList(c).then((function(e){t.tableData=e.data.data.list,t.total=e.data.data.totalCounts,console.log("this.projDefaultSelect",t.projDefaultSelect)}))},mappingProjDevProd:function(e){var t="^_^";console.log(e,t);var a,r=n(this.projectList);try{for(r.s();!(a=r.n()).done;){var o=a.value;if(e==o["value"]){var i,s=o["label"].split(t)[0],l=n(this.projectList);try{for(l.s();!(i=l.n()).done;){var c=i.value;if(s==c["label"])return console.log("映射后的项目ID",c["value"],c["platform"]),c["value"]}}catch(u){l.e(u)}finally{l.f()}}console.log(o,"Web^_^dev".split(t),"Web".split(t))}}catch(u){r.e(u)}finally{r.f()}},updateSelectProjValue:function(e){this.projDefaultSelect=e.toString(),console.log("updateSelectProjValue",e,this.projDefaultSelect),this.getEnumVersionList(),this.getEventListValue([this.envSelect,this.$refs.headerTable.statusValueSelect,this.startVersionSelect,this.endVersionSelect])},getEnumVersionList:function(){var e=this,t={env:this.envSelect,project_id:this.mappingProjDevProd(this.projDefaultSelect),columns:["startVersion","endVersion","status"]};this.startVersion=[],this.endVersion=[],this.$refs.headerTable.startValueSelect="",this.$refs.headerTable.endValueSelect="",o.default.getTestBuriedEnumList(t).then((function(t){var a=[],r=[],o=t.data.data;Object.prototype.hasOwnProperty.call(o,"endVersion")&&(a=o.endVersion),Object.prototype.hasOwnProperty.call(o,"startVersion")&&(r=o.startVersion);var i,s=n(a);try{for(s.s();!(i=s.n()).done;){var l=i.value;e.endVersion.push({value:l,label:l})}}catch(p){s.e(p)}finally{s.f()}var c,u=n(r);try{for(u.s();!(c=u.n()).done;){var d=c.value;e.startVersion.push({value:d,label:d})}}catch(p){u.e(p)}finally{u.f()}}))},getSelectProjApiKey:function(){console.log("getSelectProjId",this.projDefaultSelect);var e,t=n(this.projectList);try{for(t.s();!(e=t.n()).done;){var a=e.value;if(a.value==this.projDefaultSelect)return a.apiKey}}catch(r){t.e(r)}finally{t.f()}},operateEvent:function(){this.checkEvent([this.$refs.headerTable.envValueSelect,this.getSelectProjApiKey(this.$refs.headerTable.projValueSelect),this.inputText])},filterTag:function(e,t){return t.eventProperResult===e}}}},a3d4:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("test-review-case-list",{ref:"testReviewCaseList",attrs:{currentReview:e.currentReview,projects:e.projects},on:{refresh:e.refresh}}),a("test-review-case-edit",{ref:"testCaseEditDialog",attrs:{"read-only":e.readOnly},on:{refresh:e.refresh}})],1)},r=[]},a41a:function(e,t,a){"use strict";a("3fba")},a48c:function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=a("7a93"),o=n(a("48ba"));t.default=[{path:"testCaseProject/:projectId?/",name:r.PathName.TestTrackTestcaseProject,component:o.default,meta:{isUsingSocketInfo:!0,keepAlive:!0},children:[{path:"module/:moduleId?/caseList",name:r.PathName.TestTrackTestcaseModule,component:o.default,meta:{isUsingSocketInfo:!0,keepAlive:!0}}]}]},a4a3:function(e,t,a){},a522:function(e,t,a){"use strict";var n=a("278c").default;a("159b"),a("7db0"),a("b0c0"),a("d81d"),a("4fad");var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=a("365c"),i=r(a("e73b")),s=r(a("5ec0")),l=r(a("6d22")),c=r(a("df34")),u=r(a("ba07")),d=a("b74e"),p=a("93f3"),f=a("4314"),m=a("00e0"),h=a("7d3b"),b=a("2ef0");t.default={name:"prMergedNotify",data:function(){return{operationEnum:f.operationEnum,planStageEnum:m.planStageEnum,larkChatOptions:[],tableData:[],currentPage:1,pageSize:p.PAGINATION_SIZE.LARGE,total:0,form:h.prMergedNotifyForm,rules:h.prMergedNotifyRules,dialogFormVisible:!1,operation:"",projectPathOptions:[],condition:{}}},components:{TableOperator:u.default,TableHeader:c.default,TablePagination:l.default,DialogFooter:s.default},computed:{formLabelWidth:function(){return"80px"},chatOptions:function(){return this.$store.state.coverage.larkChats},loading:function(){return this.$store.state.loading},table2BtnWidth:function(){return i.default["table2BtnWidth"]}},mounted:function(){this.initTableData()},methods:{initOptions:function(){this.setProjectPathOptions(),this.setLarkChatOptions()},initTableData:function(){this.initOptions(),this.getData()},saveConfig:function(){var e=this;this.$refs.prMergedNotifyForm.validate((function(t){if(!t)return!1;if(e.operation===f.operationEnum.ADD){var a=e.buildParams();o.gitlabChatApi.createGitlabChatConfig(a).then((function(){e.refresh()}))}else if(e.operation===f.operationEnum.EDIT){var n=e.buildParams();o.gitlabChatApi.updateGitlabChatConfig(e.form.id,n).then((function(){e.refresh()}))}e.dialogFormVisible=!1}))},buildParams:function(){var e={project:this.form.project,sourceBranch:this.form.sourceBranch,targetBranch:this.form.targetBranch,chatId:this.form.chatId};return e},setProjectPathOptions:function(){var e=this;o.gitlabChatApi.getAllGitlabProjects().then((function(t){var a=t.data;e.projectPathOptions=a.data}))},getData:function(e){var t=this,a={offset:this.pageSize*(this.currentPage-1),limit:this.pageSize,project:e};this.configFilter=sessionStorage.getItem(this.$route.path),this.configFilter=this.configFilter?JSON.parse(this.configFilter):{},"{}"!==JSON.stringify(this.configFilter)&&(Object.assign(a,this.configFilter),this.$refs.table.columns.forEach((function(e){e.filteredValue=t.configFilter[e.columnKey]}))),o.gitlabChatApi.getGitlabChatConfigList(a).then((function(e){var a=e.data;t.total=a.total,t.tableData=a.data,t.tableData.forEach((function(e){var a=t.chatOptions.find((function(t){return String(t.id)===e.chatId}));e.chatName=a.name,e.chatLarkId=a.chatId}))}))},handleAddOrEdit:function(e){var t=this;console.log(e),this.dialogFormVisible=!0,this.$nextTick((function(){t.$refs.prMergedNotifyForm&&t.$refs.prMergedNotifyForm.resetFields(),t.operation=f.operationEnum.ADD,e?(t.operation=f.operationEnum.EDIT,t.form=b.cloneDeep(e)):t.form=h.prMergedNotifyForm,t.initOptions()}))},handleDelete:function(e){var t=this;this.$alert("确认删除该配置?","",{confirmButtonText:"确定",showCancelButton:!0,cancelButtonText:"取消",callback:function(a){"confirm"===a&&o.gitlabChatApi.deleteGitlabChatConfig(e.id).then((function(){t.refresh()}))}})},handleSearch:function(e){this.currentPage=1,this.getData(e)},refresh:function(){this.initTableData()},filter:function(e){this.currentPage=1,d._filter(e,this.configFilter,this.$route.path),this.initTableData()},setLarkChatOptions:function(){this.larkChatOptions=Object.entries(this.chatOptions).map((function(e){var t=n(e,2),a=t[0],r=t[1];return{text:r.name,value:String(r.id),key:a}})),console.log(this.larkChatOptions,this.chatOptions)}}}},a58f:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{staticClass:"dialog-title",attrs:{"close-on-click-modal":!1,visible:e.dialogFormVisible,title:"编辑用例评审",width:"65%"},on:{"update:visible":function(t){e.dialogFormVisible=t},close:e.close}},[a("el-form",{ref:"reviewForm",attrs:{model:e.form,rules:e.rules}},[a("el-row",[a("el-col",{attrs:{offset:1,span:10}},[a("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"评审名称",placeholder:"请输入评审名称",prop:"name"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"所属项目",prop:"projKey"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{disabled:!0,filterable:"",placeholder:"请选择所属项目"},model:{value:e.form.projKey,callback:function(t){e.$set(e.form,"projKey",t)},expression:"form.projKey"}},e._l(e.projects,(function(e){return a("el-option",{key:e.key,attrs:{label:e.name,value:e.key}})})),1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{offset:1,span:10}},[a("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"评审人",prop:"reviewer"}},[a("el-select",{attrs:{filterable:"",multiple:"",placeholder:"请选择评审人"},model:{value:e.form.reviewerList,callback:function(t){e.$set(e.form,"reviewerList",t)},expression:"form.reviewerList"}},e._l(e.reviewerOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.text,value:e.value}})})),1)],1)],1),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"截止时间",prop:"targetEnd"}},[a("el-date-picker",{attrs:{"picker-options":e.pickerOptionsStart,placeholder:"选择日期",type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.form.targetEnd,callback:function(t){e.$set(e.form,"targetEnd",t)},expression:"form.targetEnd"}})],1)],1)],1),a("el-row",{staticClass:"row-content"},[a("el-col",{attrs:{offset:1,span:20}},[a("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"描述",prop:"description"}},[a("el-input",{attrs:{autosize:{minRows:2,maxRows:4},rows:2,placeholder:"请输入内容",type:"textarea"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1)],1)],1),e.operation===e.operationEnum.EDIT?a("el-row",{staticClass:"row-content"},[a("el-col",{attrs:{offset:1,span:20}},[a("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"当前状态",prop:"status"}},[a("test-review-status-button",{attrs:{status:e.form.status},on:{statusChange:e.statusChange}})],1)],1)],1):e._e()],1),a("template",{slot:"footer"},[a("dialog-footer",{on:{cancel:function(t){e.dialogFormVisible=!1},confirm:e.saveReview}})],1)],2)],1)},r=[]},a5bb:function(e,t,a){"use strict";a("09cb")},a5f2:function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=a("365c"),o=n(a("3a00"));t.default={name:"AutoReport",components:{AllureReport:o.default},data:function(){return{detail:{}}},computed:{historyId:function(){return this.$route.params.historyId?this.$route.params.historyId:""}},mounted:function(){},methods:{getCaseRunDetail:function(e){var t=this;r.autoApi.getAllureDetail(e).then((function(e){t.detail=e.data.detail}))}}}},a63e:function(e,t,a){"use strict";a.r(t);var n=a("b935"),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=r.a},a6e6:function(e,t,a){"use strict";a.r(t);var n=a("d2b9"),r=a("3987");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);a("8482");var i=a("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,"0fdd1a50",null);t["default"]=s.exports},a6f3:function(e,t,a){"use strict";a("6308")},a74d:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[a("span",{staticClass:"el-breadcrumb__item",on:{click:e.showAll}},[a("i",{staticClass:"el-icon-s-home",staticStyle:{"margin-right":"5px"}}),e._v(" "+e._s(e.title)+" ")])]),e._l(e.data,(function(t){return a("el-breadcrumb-item",{key:t.id},[e._v(e._s(t.name))])}))],2)},r=[]},a7eb:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("e551");t.default={name:"ReviewStatusTableItem",props:{value:{type:String}},data:function(){return{reviewStatusEnum:n.reviewStatusEnum,reviewStatusType:n.reviewStatusType}}}},a80c:function(e,t,a){"use strict";a.r(t);var n=a("2ce7"),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=r.a},a922:function(e,t,a){"use strict";a.r(t);var n=a("b041"),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=r.a},a92c:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{staticClass:"card-content"},[a("template",{slot:"header"},[a("table-header",{attrs:{condition:e.condition,"create-tip":"创建测试计划","show-third":e.stage===e.planStageEnum.SMOKE,"third-tip":e.isReject?"返回全部计划":"筛选驳回计划","icon-third":"el-icon-sugar"},on:{create:e.handleAddOrEdit,search:e.handleSearch,thirdClick:function(t){return e.handleSearch("",!0)}}},[a("template",{slot:"title"},[a("div",[e._v(e._s(e.stage===e.planStageEnum.SMOKE?"冒烟测试计划":"功能测试计划"))])])],2)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"table",attrs:{data:e.tableData},on:{"row-click":e.handleRowClick,"filter-change":e.filter}},[a("el-table-column",{attrs:{label:"计划名称","min-width":"130",prop:"name","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{filters:e.users,"column-key":"owner",label:"负责人",prop:"owner","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{filters:e.planStatusOptions,"column-key":"status",label:"计划状态",prop:"status","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(e){return[a("plan-status",{attrs:{value:e.row.status}})]}}])}),a("el-table-column",{attrs:{filters:e.planStageOptions,"column-key":"stage",label:"测试阶段",prop:"stage","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(e){return[a("plan-stage-table-item",{attrs:{value:e.row.stage}})]}}])}),a("el-table-column",{attrs:{label:"执行成功率",prop:"percentage","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(e){return[a("el-progress",{attrs:{percentage:e.row.percentage}})]}}])}),e.stage===e.planStageEnum.SMOKE?a("el-table-column",{attrs:{label:"确认成功率",prop:"percentage","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(e){return[a("el-progress",{attrs:{percentage:e.row.checkPercentage}})]}}],null,!1,3234447638)}):e._e(),a("el-table-column",{attrs:{filters:e.projects,"column-key":"projId",label:"所属项目","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(t.row.projNames.join()))])]}}])}),e.stage===e.planStageEnum.SMOKE?a("el-table-column",{attrs:{label:"提测审批状态",prop:"packagingTest","show-overflow-tooltip":"",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("plan-test-table-item",{attrs:{value:t.row.instanceStatus,"is-dot-hidden":t.row.rejectCount>0},on:{approvalStatus:e.approvalStatus,handleChange:function(a){return e.handleChange(t.row)}}})]}}],null,!1,2460282514)}):e._e(),a("el-table-column",{attrs:{width:e.table4BtnWidth,label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("table-operator",{attrs:{"copy-tip":"查看测试报告","show-copy":"","show-delete":"","show-edit":""},on:{copyClick:function(a){return e.handleToReport(t.row)},deleteClick:function(a){return e.handleDelete(t.row)},editClick:function(a){return e.handleAddOrEdit(t.row)}}},[e.stage===e.planStageEnum.SMOKE?a("template",{slot:"latest"},[t.row.stage===e.planStageEnum.SMOKE?a("el-tooltip",{attrs:{content:"提测",placement:"top"}},[a("el-button",{attrs:{disabled:t.row.percentage<=90,circle:"",icon:"el-icon-s-promotion",size:"mini",type:"warning"},nativeOn:{click:function(a){return a.stopPropagation(),e.handleSubmit(t.row)}}})],1):e._e()],1):e._e()],2)]}}])})],1),a("table-pagination",{attrs:{change:e.initTableData,"current-page":e.currentPage,"page-size":e.pageSize,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t}}})],2)],1)},r=[]},a991:function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(a("625a")),o=n(a("5665"));t.default={name:"TestCaseReview",components:{TestCaseReviewList:o.default,TestCaseReviewEdit:r.default},data:function(){return{condition:{}}},methods:{editCaseReview:function(e,t){this.$refs.caseReviewEditDialog.open(e,t)},refresh:function(){var e=this;this.$nextTick((function(){e.$refs.caseReviewList.initTableData()}))}}}},aa90:function(e,t,a){},aa9d:function(e,t,a){"use strict";a("a9e3"),Object.defineProperty(t,"__esModule",{value:!0});var n=a("b889");t.default={name:"PriorityTableItem",props:{value:Number,text:{type:Boolean,default:!1}},data:function(){return{priorityEnum:n.priorityEnum,priorityType:n.priorityType}}}},aace:function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=a("7a93"),o=n(a("6ec9")),i=n(a("5d52")),s=n(a("4aa4"));t.default=[{path:"testCasePlan/smoke/list",name:r.PathName.TestTrackCasePlan,component:o.default,meta:{isUsingSocketInfo:!0}},{path:"testCasePlan/notSmoke/list",name:r.PathName.TestTrackNotSmokePlan,component:i.default,meta:{isUsingSocketInfo:!0}},{path:"testCasePlan/:planId",name:r.PathName.TestTrackCasePlanView,component:s.default,meta:{isUsingSocketInfo:!0}}]},aae1:function(e,t,a){},ab1a:function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(a("365c")),o="v1/auto/case";t.default={getAutoTags:function(e){return r.default({method:"get",url:"".concat(o,"/tag"),params:e})},getAutoCases:function(e){return r.default({method:"get",url:"".concat(o,"/tree"),params:e})},getAutoCaseConfigList:function(e){return r.default({method:"get",url:"".concat(o,"/config"),params:e})},createOrEditAutoConfig:function(e){return r.default({method:"post",url:"".concat(o,"/config"),data:e})},deleteAutoConfig:function(e){return r.default({method:"delete",url:"".concat(o,"/config/").concat(e)})},runAutoConfig:function(e){return r.default({method:"post",url:"".concat(o,"/config/run/").concat(e)})},getAutoRunHistory:function(e){return r.default({method:"get",url:"".concat(o,"/run/history"),params:e})},getAllureReport:function(e){return r.default({method:"get",url:"/v1/auto/case/allure/".concat(e)})},getAllureDetail:function(e){return r.default({method:"get",url:"".concat(o,"/allure/detail/").concat(e)})}}},ace0:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("test-case-form",{ref:"caseForm",attrs:{condition:e.condition,"read-only":e.readOnly}})},r=[]},ad4b:function(e,t,a){"use strict";a("bb65")},ad53:function(e,t,a){"use strict";a.r(t);var n=a("ec0b"),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=r.a},ade0:function(e,t,a){"use strict";var n=a("2cbd"),r=a("0cf1"),o=(a("ba66"),a("2877")),i=Object(o["a"])(r["default"],n["a"],n["b"],!1,null,"7efe8e71",null);t["default"]=i.exports},ae65:function(e,t,a){"use strict";var n=a("278c").default;a("d81d"),a("4fad"),a("159b"),a("d3b7");var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=a("365c"),i=r(a("e73b")),s=r(a("5ec0")),l=r(a("6d22")),c=r(a("df34")),u=r(a("ba07")),d=a("93f3"),p=a("7a93"),f=r(a("ebd2")),m=a("6aa6"),h=a("b74e"),b=Object.entries(m.businessType).map((function(e){var t=n(e,2),a=t[0],r=t[1];return{text:r,value:a}})),g=Object.entries(m.terminalType).map((function(e){var t=n(e,2),a=t[0],r=t[1];return{text:r,value:a}}));t.default={name:"PipeLine",components:{TableHeader:c.default,TablePagination:l.default,TableOperator:u.default,PipelineEdit:f.default,DialogFooter:s.default},props:{},data:function(){return{businessType:m.businessType,terminalType:m.terminalType,terminalOptions:g,businessOptions:b,noPolling:!0,sonarFormVisible:!1,dialogFormVisible:!1,compareFormVisible:!1,condition:{},total:0,pageSize:d.PAGINATION_SIZE.LARGE,currentPage:1,searchName:"",tableDatas:[],commitForm:{commitId:""},compareForm:{compareBranch:""},commitRules:{commitId:[{required:!0,message:"请输入commitId",trigger:"blur"}]},pipelineFilters:{}}},computed:{loading:function(){return this.$store.state.loading},table5BtnWidth:function(){return i.default["table5BtnWidth"]}},destroyed:function(){clearInterval(this.myInterval)},mounted:function(){this.pollingDataList()},methods:{filter:function(e){this.noPolling=!0,this.currentPage=1,h._filter(e,this.pipelineFilters,this.$route.path),this.pollingDataList()},pipelineIcon:function(e){return"success"===e?"el-icon-circle-check iconSize success":"pending"===e?"el-icon-video-pause iconSize pending":"running"===e?"el-icon-loading iconSize running":"fail"===e?"el-icon-circle-close iconSize fail":"skip"===e?"el-icon-warning-outline iconSize skip":void 0},getPipelineList:function(e){var t=this,a={limit:this.pageSize,offset:this.pageSize*(this.currentPage-1),name:e};this.pipelineFilters=sessionStorage.getItem(this.$route.path)||"{}",this.pipelineFilters=JSON.parse(this.pipelineFilters),Object.assign(a,this.pipelineFilters),this.$refs.pipelineTable.columns.forEach((function(e){e.filteredValue=t.pipelineFilters[e.columnKey]})),o.coverageApi.getPipelineList(a).then((function(e){t.tableDatas=e.data.data,t.tableDatas.forEach((function(e){e.visible=!1,e.visible2=!1})),t.total=e.data.total,t.noPolling=!0}))},pollingDataList:function(e){var t=this;this.getPipelineList(e),clearInterval(this.myInterval),this.myInterval=window.setInterval((function(){setTimeout((function(){t.noPolling=!1,t.getPipelineList(e)}),1)}),1e4)},handlePollingDataList:function(e){this.currentPage=1,this.pollingDataList(e)},handleToBuildRecord:function(e){this.$router.push({name:p.PathName.PipelineBuildRecordByPipelineId,params:{pipelineId:e.id}})},handleAddOrEdit:function(e){this.$nextTick((function(){this.$refs.edit.open(e)}))},handleDelete:function(e){var t=this;this.$alert("确认删除流水线?","",{confirmButtonText:"确定",showCancelButton:!0,cancelButtonText:"取消",callback:function(a){"confirm"===a&&o.coverageApi.deletePipeline(e.id).then((function(){t.pollingDataList()}))}})},openMergeDialog:function(e){this.compareForm.compareBranch=e.coverageParams.compareBranch,this.compareFormVisible=!0,this.compareForm.row=e},handleTriggerCoverage:function(){var e={pipelineId:this.compareForm.row.id,projectGit:this.compareForm.row.coverageParams.projectGit,compareBranch:this.compareForm.compareBranch};o.coverageApi.triggerCoverageDeploy(e),this.compareFormVisible=!1},openCommitDialog:function(e){this.dialogFormVisible=!0,this.commitForm.row=e},handleTriggerDeployServe:function(){var e=this;this.$refs["commitForm"].validate((function(t){if(!t)return!1;var a={projectName:e.commitForm.row.projectName,pipelineId:e.commitForm.row.id,commitId:e.commitForm.commitId};o.coverageApi.triggerServerDeploy(a).finally((function(){return e.dialogFormVisible=!1})),o.coverageApi.triggerSonarBuild(a)}))},openSonarDialog:function(e){this.sonarFormVisible=!0,this.commitForm.row=e},triggerSonar:function(){var e=this;this.$refs["sonarForm"].validate((function(t){if(!t)return!1;var a={commitId:e.commitForm.commitId,pipelineId:e.commitForm.row.id};o.coverageApi.triggerSonarBuild(a).finally((function(){return e.sonarFormVisible=!1}))}))},handleToBuildConsole:function(e,t){this.$router.push({name:p.PathName.PipelineBuildConsole,params:{pipelineId:e.id,step:t}})},handleToServerDeployHistory:function(e){this.$router.push({name:p.PathName.PipelineServerBuildRecordByPipelineId,params:{pipelineId:e.id}})}}}},aeab:function(e,t,a){},aef2:function(e,t,a){"use strict";a("a9e3"),a("159b"),a("d81d");var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=a("365c"),o=n(a("5ec0")),i=n(a("6d22")),s=n(a("df34")),l=a("b74e"),c=a("93f3"),u=a("00e0"),d=n(a("dbc4")),p=n(a("4e79")),f=n(a("be65")),m=n(a("63ac"));t.default={name:"TestCaseRelevance",components:{CaseTypeTableItem:f.default,PriorityTableItem:m.default,TablePagination:i.default,NodeTree:d.default,SelectMenu:p.default,DialogFooter:o.default,TableHeader:s.default},data:function(){return{priorityOptions:[],caseTypeOptions:[],dialogVisible:!1,currentProject:{},treeNodes:[],selectNode:{},projects:[],tableData:[],selectRows:[],currentPage:1,pageSize:c.PAGINATION_SIZE.LARGE,total:0,caseFilter:{},condition:{}}},props:{planId:[String,Number]},computed:{loading:function(){return this.$store.state.loading}},methods:{initOptions:function(){this.projects=this.condition.projectOptions,this.priorityOptions=this.condition.priorityOptions,this.caseTypeOptions=this.condition.caseTypeOptions},initTableData:function(){this.initOptions(),this.getData()},getData:function(e){var t=this,a={offset:this.pageSize*(this.currentPage-1),limit:this.pageSize,name:e,treeId:this.selectNode.id,projId:this.selectNode.id?void 0:this.currentProject.id};this.caseFilter=sessionStorage.getItem(this.$route.path),this.caseFilter=this.caseFilter?JSON.parse(this.caseFilter):{},"{}"!==JSON.stringify(this.caseFilter)&&(Object.assign(a,this.caseFilter),this.$refs.table.columns.forEach((function(e){e.filteredValue=t.caseFilter[e.columnKey]}))),r.testPlanApi.getTestCasePlanUnRelateCaseList(this.planId,a).then((function(e){var a=e.data;t.total=a.total,t.tableData=a.data}))},open:function(e,t){this.condition=e,this.initTableData(),this.currentProject.id=t,this.dialogVisible=!0},handleSearch:function(e){this.currentPage=1,this.getData(e)},handleSelectAll:function(e){e.length>0?this.selectRows=e:this.selectRows=[]},handleSelectionChange:function(e){this.selectRows=e},filter:function(e){this.currentPage=1,l._filter(e,this.caseFilter,this.$route.path),this.initTableData()},refreshNode:function(){this.$emit("refresh")},save:function(){var e=this,t={operation:u.planOperationEnum.ADD,caseIds:this.selectRows.map((function(e){return e.id})),treeId:this.selectNode.id,projId:this.selectNode.id?void 0:this.currentProject.id};r.testPlanApi.updateTestCasePlanCaseList(this.planId,t).then((function(){e.close(),e.$emit("refreshTable")}))},close:function(){this.dialogVisible=!1},changeProject:function(e){var t=this;this.currentProject=e,r.testCaseApi.getTestCaseModules({projId:e.id}).then((function(e){t.treeNodes=e.data})),this.selectNode={},this.initTableData()},nodeChange:function(e){this.currentPage=1,this.selectNode=e,this.initTableData()}}}},af44:function(e,t,a){},b041:function(e,t,a){"use strict";var n=a("c973").default;a("96cf"),a("7db0");var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=a("365c"),i=r(a("e73b")),s=r(a("7749")),l=a("7a93"),c=a("b889"),u=r(a("42d0")),d=r(a("b892")),p=r(a("c419")),f=r(a("dbc4")),m=r(a("4e79"));t.default={name:"TestCase",components:{HiddenButton:s.default,TestCaseImport:d.default,NodeTree:f.default,TestCaseList:p.default,TestCaseEdit:u.default,SelectMenu:m.default},comments:{},data:function(){return{operationEnum:c.operationEnum,projects:this.projects,currentProject:{},treeNodes:[],selectNode:{},asideHidden:!1,selectParentNodes:[],readOnly:!0,nodeTreeDraggable:!1,condition:{}}},inject:["projects"],computed:{projectId:function(){return this.$route.params.projectId},moduleId:function(){return this.$route.params.moduleId},loading:function(){return this.$store.state.loading},hiddenButtonPosition:function(){return i.default["hiddenButtonPosition"]}},watch:{selectNode:function(){this.selectNode.id||(this.selectParentNodes=[])}},mounted:function(){var e,t=this;e=this.projectId?this.projects.find((function(e){return e.id===t.projectId})):this.projects[0],this.moduleId&&(this.selectNode.id=this.moduleId),this.changeProject(e,this.moduleId)},methods:{changeProject:function(e,t){var a=this;return n(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a.currentProject=e,n.next=3,a.getNodeTree();case 3:if(t){n.next=8;break}return a.selectNode={},a.refreshTable(),n.next=8,a.$router.push({name:l.PathName.TestTrackTestcaseProject,params:{projectId:e.id}});case 8:case"end":return n.stop()}}),n)})))()},nodeChange:function(e,t){this.selectParentNodes=t,this.selectNode=e,this.refreshTable(),this.$router.push({name:l.PathName.TestTrackTestcaseModule,params:{projectId:this.currentProject.id,moduleId:e.id}})},getNodeTree:function(){var e=this;return n(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.currentProject){t.next=3;break}return t.next=3,o.testCaseApi.getTestCaseModules({projId:e.currentProject.id}).then((function(t){e.treeNodes=t.data}));case 3:case"end":return t.stop()}}),t)})))()},refreshNode:function(){this.getNodeTree()},refreshTable:function(){var e=this;this.$nextTick((function(){e.$refs.testCaseList.currentPage=1,e.$refs.testCaseList.initTableData()}))},handleClick:function(e){this.asideHidden=e}}}},b119:function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=a("7a93"),o=n(a("7c3c")),i=n(a("816f")),s=n(a("6072")),l=n(a("56a0")),c=n(a("ca62"));t.default=[{path:"/user/gantt",name:r.PathName.UserGantt,component:s.default,meta:{isUsingSocketInfo:!0}},{path:"/efficiency/data",name:r.PathName.EfficiencyData,component:i.default,meta:{isUsingSocketInfo:!0}},{path:"/month/resource/report",name:r.PathName.MonthResourceReport,component:o.default,meta:{isUsingSocketInfo:!0}},{path:"/sprint/detail",name:r.PathName.SprintDetail,component:l.default,meta:{isUsingSocketInfo:!0}},{path:"/sprint/overview",name:r.PathName.SprintOverView,component:c.default}]},b15b:function(e,t,a){"use strict";a.r(t);var n=a("7226"),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=r.a},b18c:function(e,t,a){"use strict";a.r(t);var n=a("0e74"),r=a("70d9");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);a("5367");var i=a("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,"35d807b7",null);t["default"]=s.exports},b1ac:function(e,t,a){"use strict";a.r(t);var n=a("88c8"),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=r.a},b1af:function(e,t,a){},b22a:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loading_cycle,expression:"loading_cycle"}]},[a("div",{staticClass:"card-title",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("各产线需求响应周期")]),a("el-date-picker",{staticStyle:{width:"200px",float:"right",padding:"3px 0",border:"0"},attrs:{clearable:!1,placeholder:"选择日期",type:"date","value-format":"yyyy-MM-dd"},model:{value:e.dt,callback:function(t){e.dt=t},expression:"dt"}})],1),a("ve-histogram",{attrs:{data:e.projectResponseCycleData,extend:e.extend}})],1),a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loading_sprint,expression:"loading_sprint"}],staticClass:"card-margin-top",attrs:{"v-show":""!==e.proj_id_cycle}},[a("div",{staticClass:"card-title",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("需求响应周期趋势")]),a("el-select",{staticStyle:{width:"200px",float:"right",padding:"3px 0",border:"0"},model:{value:e.proj_id_cycle,callback:function(t){e.proj_id_cycle=t},expression:"proj_id_cycle"}},e._l(e.projects,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("ve-line",{attrs:{data:e.businessSprintCycleData,extend:e.extend}})],1),a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loading_bug,expression:"loading_bug"}],staticClass:"card-margin-top",attrs:{"v-show":""!==e.proj_id_bugTime}},[a("div",{staticClass:"card-title",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("线下bug平均解决/关闭时长(小时)")]),a("el-select",{staticStyle:{width:"200px",float:"right",padding:"3px 0",border:"0"},model:{value:e.proj_id_bugTime,callback:function(t){e.proj_id_bugTime=t},expression:"proj_id_bugTime"}},e._l(e.projects,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("ve-line",{attrs:{data:e.bugTimeChartData,extend:e.extend}})],1),a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loading_throughput,expression:"loading_throughput"}],staticClass:"card-margin-top",attrs:{"v-show":""!==e.proj_id_throughput}},[a("div",{staticClass:"card-title",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("迭代需求吞吐率")]),a("el-select",{staticStyle:{width:"200px",float:"right",padding:"3px 0",border:"0"},model:{value:e.proj_id_throughput,callback:function(t){e.proj_id_throughput=t},expression:"proj_id_throughput"}},e._l(e.projects,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("ve-line",{attrs:{data:e.storyThroughputChartData,extend:e.extend}})],1)],1)},r=[],o=(a("159b"),a("b64b"),a("6e00")),i=a.n(o),s={name:"projectTolerance",data:function(){return this.extend={"xAxis.0.axisLabel.rotate":20},this.storyThroughputChartSettings={axisSite:{right:["吞吐率"]},yAxisType:["KMB","percent"],yAxisName:["数值","比率"]},{loading_cycle:!1,loading_sprint:!1,loading_bug:!1,loading_throughput:!1,proj_id_cycle:"",proj_id_bugTime:"",proj_id_throughput:"",dt:"",bugTimeChartData:{columns:[],rows:[]},storyThroughputChartData:{columns:[],rows:[]},businessSprintCycleData:{columns:[],rows:[]},projectResponseCycleData:{columns:[],rows:[]}}},watch:{proj_id_bugTime:function(){this.getProjSprintBugTime(this.proj_id_bugTime)},proj_id_throughput:function(){this.getProjSprintThroughput(this.proj_id_throughput)},proj_id_cycle:function(){this.getBusinessSprintCycle(this.proj_id_cycle)},dt:function(){this.getProjectCycle()}},computed:{projects:function(){return this.$store.state.jira.projects},loading:function(){return this.$store.state.loading}},mounted:function(){this.proj_id_bugTime=this.$store.state.jira.projects[0].id,this.proj_id_throughput=this.proj_id_bugTime,this.proj_id_cycle=this.proj_id_bugTime,this.getdatatime()},methods:{getdatatime:function(){this.dt=(new Date).format("yyyy-MM-dd")},getProjectCycle:function(){var e=this;this.loading_cycle=!0,this.projectResponseCycleData.columns=[],this.projectResponseCycleData.rows=[],i.a.getBusinessCycleTrend({query_date:this.dt}).then((function(t){t.data.forEach((function(t){e.projectResponseCycleData.rows.push({project:t.projectName,"交付周期":t.deliveryCycle,"开发交付周期":t.developCycle}),e.projectResponseCycleData.columns=Object.keys(e.projectResponseCycleData.rows[0])})),e.loading_cycle=!1}))},getBusinessSprintCycle:function(e){var t=this;this.loading_sprint=!0,this.businessSprintCycleData.columns=[],this.businessSprintCycleData.rows=[],i.a.getBusinessSprintCycle({proj_id:e}).then((function(e){e.data.forEach((function(e){t.businessSprintCycleData.rows.push({sprint:e.sprintName,"开发交付周期":e.developCycle,"交付周期":e.deliveryCycle}),t.businessSprintCycleData.columns=Object.keys(t.businessSprintCycleData.rows[0])})),t.loading_sprint=!1}))},getProjSprintBugTime:function(e){var t=this;this.loading_bug=!0,this.bugTimeChartData.columns=[],this.bugTimeChartData.rows=[],i.a.getSprintBugFixTimeTrend({proj_id:e}).then((function(e){e.data.forEach((function(e){t.bugTimeChartData.rows.push({sprint:e.sprintName,"线下bug平均解决时长":e.offlineAvgFixTime,"线下bug平均关闭时长":e.offlineAvgCloseTime}),t.bugTimeChartData.columns=Object.keys(t.bugTimeChartData.rows[0])})),t.loading_bug=!1}))},getProjSprintThroughput:function(e){var t=this;this.loading_throughput=!0,this.storyThroughputChartData.columns=[],this.storyThroughputChartData.rows=[],i.a.getStoryThroughput({proj_id:e}).then((function(e){e.data.forEach((function(e){t.storyThroughputChartData.rows.push({sprint:e.sprintName,"需求数":e.totalStoryCount}),t.storyThroughputChartData.columns=Object.keys(t.storyThroughputChartData.rows[0])})),t.loading_throughput=!1}))}}},l=s,c=(a("f817"),a("0095"),a("2877")),u=Object(c["a"])(l,n,r,!1,null,"e09c2472",null);t["default"]=u.exports},b277:function(e,t,a){},b31f:function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=a("7a93"),o=n(a("7828")),i=n(a("7b49")),s=n(a("c4b0"));t.default=[{path:"/auto/config/list",name:r.PathName.AutoConfig,component:i.default,meta:{isUsingSocketInfo:!0}},{path:"/auto/config/build/record",name:r.PathName.AutoCaseBuildRecord,component:o.default,meta:{isUsingSocketInfo:!1}},{path:"/auto/config/build/record/:configId",name:r.PathName.AutoCaseBuildRecordByConfigId,component:o.default,meta:{isUsingSocketInfo:!1}},{path:"/auto/build/report/:historyId",name:r.PathName.AutoCaseReport,component:s.default,meta:{isUsingSocketInfo:!1}}]},b322:function(e,t,a){"use strict";a.r(t);var n=a("7222"),r=a("a2ba");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);a("454d");var i=a("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,"76981c0a",null);t["default"]=s.exports},b457:function(e,t,a){"use strict";a("da40")},b726:function(e,t,a){"use strict";a.r(t);var n=a("65ba"),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=r.a},b74e:function(e,t,a){"use strict";function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd hh:mm:ss";return e?new Date(e).format(t):""}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(new Date).getTime();return e=Object.assign({},e,{disabledDate:function(e){return e.getTime()<t}}),e}function o(e,t,a){t||(t={}),Object.assign(t,e),sessionStorage.setItem(a,JSON.stringify(t))}function i(e){var t=new Date(e);return 0===e?"0s":e<1e3?"".concat(t.getMilliseconds(),"ms"):1e3===e?"1s":1e3<e&&e<6e4?"".concat(t.getSeconds(),"s ").concat(t.getMilliseconds(),"ms"):6e4===e?"1m":6e4<e&&e<36e5?"".concat(t.getMinutes(),"m ").concat(t.getSeconds(),"s"):"".concat(t.getHours(),"h ").concat(t.getMinutes(),"m ").concat(t.getSeconds(),"s")}a("ac1f"),a("5319"),a("4d63"),a("25f0"),a("99af"),Object.defineProperty(t,"__esModule",{value:!0}),t.goodDuration=t._filter=t.datePickerOptionsStart=t.formatTime=void 0,t.formatTime=n,Date.prototype.format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var a in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),t)new RegExp("("+a+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[a]:("00"+t[a]).substr((""+t[a]).length)));return e},t.datePickerOptionsStart=r,t._filter=o,t.goodDuration=i},b76a:function(e,t,a){"use strict";a("4494")},b793:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{staticClass:"card-content"},[a("template",{slot:"header"},[a("table-header",{attrs:{condition:e.condition,"show-create":!1,"show-run":!0,"run-tip":"开始评审"},on:{runTest:e.handleReviewRun,search:e.handleSearch}},[a("template",{slot:"title"},[a("div",[e._v("全部用例")])])],2)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"table",staticClass:"test-content adjust-table",attrs:{data:e.tableData,"row-key":"id"},on:{select:e.handleSelectionChange,"filter-change":e.filter,"select-all":e.handleSelectAll,"row-click":e.handleReviewRun}},[a("el-table-column",{attrs:{type:"selection"}}),a("el-table-column",{attrs:{resizable:!1,align:"center",width:"40"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("show-more-btn",{attrs:{buttons:e.buttons,"is-disabled":t.row.isDisabled,size:e.selectRows.size}})]}}])}),a("el-table-column",{attrs:{label:"名称",prop:"name","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{filters:e.priorityOptions,"column-key":"importance",label:"用例等级",prop:"importance","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(e){return[a("priority-table-item",{attrs:{value:e.row.importance}})]}}])}),a("el-table-column",{attrs:{"column-key":"caseType",label:"类型",prop:"caseType","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(e){return[a("case-type-table-item",{attrs:{value:e.row.caseType}})]}}])}),a("el-table-column",{attrs:{"column-key":"executionType",label:"测试方式",prop:"executionType","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(e){return[a("execution-type-table-item",{attrs:{value:e.row.executionType}})]}}])}),a("el-table-column",{attrs:{label:"所属模块",prop:"treePath","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"所属项目",prop:"projName","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{filters:e.statusOptions,"column-key":"status",label:"评审结果"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("review-case-status-table-item",{attrs:{value:e.row.status}})]}}])}),a("el-table-column",{attrs:{width:e.tableTimeWidth,label:"更新时间",prop:"updatedAt","show-overflow-tooltip":"",sortable:""}}),a("el-table-column",{attrs:{width:e.table1BtnWidth,label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("table-operator",{attrs:{"run-tip":"开始评审","show-run":""},on:{runClick:function(a){return e.handleReviewRun(t.row)}}})]}}])})],1),a("table-pagination",{attrs:{change:e.initTableData,"current-page":e.currentPage,"page-size":e.pageSize,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t}}})],2),a("batch-edit",{ref:"batchEdit",attrs:{"type-arr":e.caseBatchReviewOptions,"value-arr":e.batchReviewValueArr,"dialog-title":"批量评审用例"},on:{batchEdit:e.batchReview}})],1)},r=[]},b7e5:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{staticClass:"card-content"},[a("template",{slot:"header"},[a("table-header",{attrs:{condition:e.condition,"create-tip":"创建自动化配置"},on:{create:e.handleAddOrEdit,search:e.handlePollingDataList}},[a("template",{slot:"title"},[a("div",[e._v("接口自动化配置")])])],2)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading&&e.noPolling,expression:"loading && noPolling"}],attrs:{data:e.tableData,size:"medium"}},[a("el-table-column",{attrs:{label:"名称",prop:"name"}}),a("el-table-column",{attrs:{label:"创建者",prop:"creator"}}),a("el-table-column",{attrs:{label:"定时表达式",prop:"crontabSchedule"}}),a("el-table-column",{attrs:{label:"定时执行",prop:"enableAutoTrigger"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.enableAutoTrigger?"是":"否"))])]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("table-operator",{attrs:{"copy-tip":"执行记录","show-copy":"","show-delete":"","show-edit":"","show-run":"","run-tip":"running"===t.row.status?"正在执行":"执行",runDisable:"running"===t.row.status},on:{copyClick:function(a){return e.handleToBuildRecord(t.row)},deleteClick:function(a){return e.handleDelete(t.row)},editClick:function(a){return e.handleAddOrEdit(t.row)},runClick:function(a){return e.handleRun(t.row)}}})]}}])})],1),a("table-pagination",{attrs:{change:e.getAutoConfigList,"current-page":e.currentPage,"page-size":e.pageSize,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t}}}),a("auto-config-edit",{ref:"edit",on:{fatherMethod:e.getAutoConfigList}})],2)},r=[]},b81e:function(e,t,a){"use strict";a.r(t);var n=a("4aba"),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=r.a},b850:function(e,t,a){"use strict";a.r(t);var n=a("a38d"),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=r.a},b889:function(e,t,a){"use strict";var n,r,o,i,s,l,c,u,d,p,f,m,h=a("9523").default;Object.defineProperty(t,"__esModule",{value:!0}),t.stepStatusType=t.stepStatusEnum=t.caseBatchEditType=t.caseBatchEditEnum=t.caseUpdateTypeEnum=t.priorityType=t.priorityEnum=t.executionType=t.executionEnum=t.caseTypeType=t.caseTypeEnum=t.operationType=t.operationEnum=void 0,function(e){e["ADD"]="add",e["EDIT"]="edit",e["VIEW"]="view"}(c=t.operationEnum||(t.operationEnum={})),t.operationType=(n={},h(n,c.ADD,"新建用例"),h(n,c.EDIT,"编辑用例"),h(n,c.VIEW,"查看用例"),n),function(e){e["FUNCTIONAL"]="functional",e["PERFORMANCE"]="performance",e["API"]="api"}(u=t.caseTypeEnum||(t.caseTypeEnum={})),t.caseTypeType=(r={},h(r,u.FUNCTIONAL,"功能测试"),h(r,u.PERFORMANCE,"性能测试"),h(r,u.API,"接口测试"),r),function(e){e[e["MANUAL"]=1]="MANUAL",e[e["AUTO"]=2]="AUTO"}(d=t.executionEnum||(t.executionEnum={})),t.executionType=(o={},h(o,d.MANUAL,"手动"),h(o,d.AUTO,"自动"),o),function(e){e[e["P1"]=1]="P1",e[e["P2"]=2]="P2",e[e["P3"]=3]="P3"}(p=t.priorityEnum||(t.priorityEnum={})),t.priorityType=(i={},h(i,p.P1,"P1"),h(i,p.P2,"P2"),h(i,p.P3,"P3"),i),function(e){e["DELETE"]="delete",e["UPDATE_CASE"]="update_case",e["UPDATE_PLAN_STATUS"]="update_plan_status",e["UPDATE_PLAN_EXECUTOR"]="update_plan_executor",e["UPDATE_REVIEW_STATUS"]="update_review_status",e["UPDATE_PLAN_SMOKE_CHECK"]="update_plan_smoke_check"}(t.caseUpdateTypeEnum||(t.caseUpdateTypeEnum={})),function(e){e["PRIORITY"]="priority",e["CASE_TYPE"]="caseType",e["METHOD"]="method",e["MAINTAINER"]="maintainer"}(f=t.caseBatchEditEnum||(t.caseBatchEditEnum={})),t.caseBatchEditType=(s={},h(s,f.PRIORITY,"用例等级"),h(s,f.MAINTAINER,"维护人"),s),function(e){e["PASS"]="pass",e["FAIL"]="fail",e["BLOCK"]="block",e["SKIP"]="skip"}(m=t.stepStatusEnum||(t.stepStatusEnum={})),t.stepStatusType=(l={},h(l,m.PASS,"通过"),h(l,m.FAIL,"失败"),h(l,m.BLOCK,"阻塞"),h(l,m.SKIP,"跳过"),l)},b892:function(e,t,a){"use strict";a.r(t);var n=a("034a"),r=a("ff5f");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);a("cc95");var i=a("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,"6071b0e6",null);t["default"]=s.exports},b8b5:function(e,t,a){"use strict";a("589a")},b91f:function(e,t,a){"use strict";a("808f")},b935:function(e,t,a){"use strict";a("b0c0"),a("498a"),a("a4d3"),a("e01a");var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=a("365c"),o=n(a("5ec0")),i=a("b889"),s=n(a("dbac")),l=a("9ddf"),c=a("2ef0");t.default={name:"TestCaseEdit",components:{TestCaseForm:s.default,DialogFooter:o.default},data:function(){return{operationEnum:i.operationEnum,operationType:i.operationType,testCase:{},operation:"",dialogFormVisible:!1,isCreateContinue:!1,isStepTableAlive:!0}},props:{treeNodes:Array,readOnly:{type:Boolean,default:!0},selectNode:Object,currentProject:Object,condition:Object},mounted:function(){var e=this;this.$eventBus.$on("testCaseAddOrEditOrCopy",(function(t,a){e.open(t,a)}))},methods:{reload:function(){var e=this;this.isStepTableAlive=!1,this.$nextTick((function(){return e.isStepTableAlive=!0}))},open:function(e,t){var a=this;this.dialogFormVisible=!0,this.$nextTick((function(){var n=c.cloneDeep(e||l.caseForm);a.operation=i.operationEnum.ADD,e?(a.readOnly?a.operation=i.operationEnum.VIEW:(a.operation=i.operationEnum.EDIT,n.module=e.treeId,n.maintainer=e.qa,n.priority=e.importance,n.method=e.executionType,n.prerequisite=e.preconditions),t&&(a.operation=i.operationEnum.ADD,n.name="")):(n.module=a.selectNode.id,n.maintainer=a.$store.state.login.username),0===n.steps.length&&n.steps.push(l.caseStep),a.$refs.testCaseForm.initForm(n)}))},close:function(){this.dialogFormVisible=!1,this.reload()},saveCase:function(){var e=this,t=this.$refs.testCaseForm.$children[0];t.validate((function(a){if(a){e.testCase=t.model;var n=e.buildParam();if(e.operation===i.operationEnum.ADD)e.validate(n)&&r.testCaseApi.createTestCase(n).then((function(){if(e.isCreateContinue){var t=c.cloneDeep(l.caseForm);t.module=e.selectNode.id,t.maintainer=e.$store.state.login.username,e.$refs.testCaseForm.initForm(t)}else e.dialogFormVisible=!1;e.$emit("refresh")}));else if(e.operation===i.operationEnum.EDIT){var o={type:i.caseUpdateTypeEnum.UPDATE_CASE,case:n};e.validate(n)&&r.testCaseApi.updateTestCase(e.testCase.id,o).then((function(){e.isCreateContinue?e.$refs.testCaseForm.$children[0].resetFields():e.dialogFormVisible=!1,e.$emit("refresh")}))}}}))},buildParam:function(){this.testCase=this.$refs.testCaseForm.$children[0].model;var e={projId:this.currentProject.id,treeId:this.testCase.module,name:this.testCase.name.trim(),executionType:this.testCase.method,caseType:this.testCase.caseType,importance:this.testCase.priority,qa:this.testCase.maintainer,description:this.testCase.description};return this.testCase.method!==i.executionEnum.AUTO&&(e=Object.assign({testId:null},e)),this.testCase.prerequisite.trim()&&(e=Object.assign({preconditions:this.testCase.prerequisite},e)),""!==this.testCase.steps[0].desc&&(e=Object.assign({steps:this.testCase.steps},e)),e},validate:function(e){if(e.steps)for(var t=0;t<e.steps.length;t++)if(e.steps[t].actions&&e.steps[t].actions.length>300||e.steps[t].expectedresults&&e.steps[t].expectedresults.length>300)return this.$message.warning("步骤描述,预期结果长度必须小于300"),!1;return!0}}}},b94e:function(e,t,a){e.exports=a.p+"img/jira_bug.e2bbe126.svg"},b979:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sprintExceptions=void 0,function(e){e["TARGETSTARTENDNULLEXCEPTION"]="子任务起止时间不完整",e["TARGETSTARTENDWRONGEXCEPTION"]="子任务起止时间超过迭代时间",e["BUGNOSPRINTEXCEPTION"]="Bug未关联Sprint",e["STORYNOSUBTASKEXCEPTION"]="Story未拆子任务",e["NOEPICSTORYEXCEPTION"]="Story未关联Epic",e["NOCOMMONSTORYEXCEPTION"]="通用型Story",e["NOCOMMONEPICEXCEPTION"]="Epic问题"}(t.sprintExceptions||(t.sprintExceptions={}))},b9a4:function(e,t,a){"use strict";a("13a6")},b9cb:function(e,t,a){},b9e8:function(e,t,a){},ba07:function(e,t,a){"use strict";a.r(t);var n=a("0528"),r=a("5c14");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);var i=a("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,"6e701f9a",null);t["default"]=s.exports},ba66:function(e,t,a){"use strict";a("779e")},bb15:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{staticClass:"card-content"},[a("template",{slot:"header"},[a("table-header",{attrs:{condition:e.condition,"create-tip":"apollo通知配置-出海",placeholder:"根据项目名称搜索"},on:{create:e.openEditIntl,search:e.handleSearchIntl}},[a("template",{slot:"title"},[a("div",[e._v("apolloIntl通知配置-出海")])])],2)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"table",attrs:{data:e.tableData}},[a("el-table-column",{attrs:{label:"应用",prop:"appId"}}),a("el-table-column",{attrs:{label:"群聊",prop:"chatName"}}),a("el-table-column",{attrs:{width:e.table2BtnWidth,label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("table-operator",{attrs:{"show-delete":"","show-edit":""},on:{deleteClick:function(a){return e.handledeleteIntl(t.row)},editClick:function(a){return e.openEditIntl(t.row)}}})]}}])})],1),a("table-pagination",{attrs:{change:e.getTableDataIntl,"current-page":e.currentPage,"page-size":e.pageSize,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t}}})],2),a("el-dialog",{staticClass:"dialog-title",attrs:{"close-on-click-modal":!1,visible:e.dialogFormVisible,width:"65%"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("template",{slot:"title"},[a("div",{staticStyle:{"text-align":"left"}},[a("span",[e._v(e._s(e.operation===e.operationEnum.EDIT?"编辑apollo通知配置":"创建apollo通知配置"))])]),a("el-divider",{staticStyle:{width:"100%"}})],1),a("el-form",{ref:"apolloIntlNotifyForm",attrs:{model:e.appChatForm,rules:e.appChatRules,"label-width":e.formLabelWidth}},[a("el-row",[a("el-col",{attrs:{offset:1,span:10}},[a("el-form-item",{attrs:{label:"应用",prop:"appId"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"请选择应用"},model:{value:e.appChatForm.appId,callback:function(t){e.$set(e.appChatForm,"appId",t)},expression:"appChatForm.appId"}},e._l(e.appOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.appId,value:e.appId}})})),1)],1)],1),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"推送群聊",prop:"chatId"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"请选择需要通知的群"},model:{value:e.appChatForm.chatId,callback:function(t){e.$set(e.appChatForm,"chatId",t)},expression:"appChatForm.chatId"}},e._l(e.chatOptions,(function(e){return a("el-option",{key:e.chatId,attrs:{label:e.name,value:e.chatId}})})),1)],1)],1)],1)],1),a("template",{slot:"footer"},[a("dialog-footer",{on:{cancel:function(t){e.dialogFormVisible=!1},confirm:e.saveConfigIntl}})],1)],2)],1)},r=[],o=(a("d3b7"),a("e73b")),i=a.n(o),s=a("365c"),l=a("2ef0"),c=a("ba07"),u=a("df34"),d=a("6d22"),p=a("5ec0"),f=a("4314"),m=a("93f3"),h={name:"apolloIntlNotify",components:{TableOperator:c["default"],TableHeader:u["default"],TablePagination:d["default"],DialogFooter:p["default"]},data:function(){return{operationEnum:f["operationEnum"],dialogFormVisible:!1,condition:{},operation:"",tableData:[],currentPage:1,pageSize:m["PAGINATION_SIZE"].LARGE,total:0,appOptions:[],appChatForm:{appId:"",chatId:""},appChatRules:{appId:[{required:!0,message:"请选择应用",trigger:"blur"}],chatId:[{required:!0,message:"请选择通知群聊",trigger:"blur"}]}}},computed:{formLabelWidth:function(){return i.a["formLabelWidth"]},loading:function(){return this.$store.state.loading},chatOptions:function(){return this.$store.state.coverage.larkChats},table2BtnWidth:function(){return i.a["table2BtnWidth"]}},mounted:function(){this.getAllIntlApps(),this.getTableDataIntl()},methods:{getAllIntlApps:function(){var e=this;s["dataToolApi"].getApolloIntlApps().then((function(t){e.appOptions=t.data}))},openEditIntl:function(e){this.dialogFormVisible=!0,this.operation=f["operationEnum"].ADD,this.appChatForm={appId:"",chatId:""},e&&(this.operation=f["operationEnum"].EDIT,this.appChatForm=Object(l["cloneDeep"])(e))},getTableDataIntl:function(e){var t=this,a={offset:this.pageSize*(this.currentPage-1),limit:this.pageSize,search:e||""};s["dataToolApi"].getApolloIntlAppChat(a).then((function(e){t.tableData=e.data.data,t.total=e.data.total}))},saveConfigIntl:function(){var e=this;this.operation===f["operationEnum"].ADD?s["dataToolApi"].createApolloIntlAppChat(this.appChatForm).finally((function(){e.dialogFormVisible=!1,e.getTableDataIntl()})):s["dataToolApi"].updateApolloIntlAppChat(this.appChatForm,this.appChatForm["id"]).finally((function(){e.dialogFormVisible=!1,e.getTableDataIntl()}))},handledeleteIntl:function(e){var t=this;this.$alert("确认删除该配置?","",{confirmButtonText:"确定",showCancelButton:!0,cancelButtonText:"取消",callback:function(a){"confirm"===a&&s["dataToolApi"].deleteApolloIntlAppChat(e.id).then((function(){t.getTableDataIntl()}))}})},handleSearchIntl:function(e){this.currentPage=1,this.getTableDataIntl(e)}}},b=h,g=a("2877"),v=Object(g["a"])(b,n,r,!1,null,"5cabc03a",null);t["default"]=v.exports},bb65:function(e,t,a){},bd26:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",[e._v(e._s(e.executionType[e.value]))])},r=[]},bdb4:function(e,t,a){"use strict";a("5de9")},be65:function(e,t,a){"use strict";a.r(t);var n=a("56a2"),r=a("580f");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);var i=a("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,"6186d77c",null);t["default"]=s.exports},bfd0:function(e,t,a){"use strict";a("49c6")},c042:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("00e0");t.default={name:"PlanStatusTableItem",props:{value:{type:String}},data:function(){return{planStatusEnum:n.planStatusEnum,planStatusType:n.planStatusType}}}},c081:function(e,t,a){"use strict";a.r(t);var n=a("c540"),r=a("5783");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);var i=a("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,"2d499487",null);t["default"]=s.exports},c17a:function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(a("365c")),o=n(a("4328"));t.default={createTestCaseReview:function(e){return r.default({method:"post",url:"v1/test/review",data:e})},getTestCaseReviewList:function(e){return r.default({method:"get",url:"v1/test/review",params:e,paramsSerializer:function(e){return o.default.stringify(e,{arrayFormat:"repeat"})}})},updateTestCaseReview:function(e,t){return r.default({method:"patch",url:"v1/test/review/".concat(e),data:t})},getTestCaseReviewDetail:function(e){return r.default({method:"get",url:"v1/test/review/".concat(e)})}}},c1ed:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("00e0");t.default={name:"TestPlanCaseStatusButton",props:{status:{type:String},isReadOnly:{type:Boolean,default:!1},isFailure:{type:Boolean,default:!1}},computed:{loading:function(){return this.$store.state.loading}},data:function(){return{planResultEnum:n.planResultEnum,planResultType:n.planResultType}},methods:{setStatus:function(e){this.$emit("statusChange",e)}}}},c2a6:function(e,t,a){"use strict";a.r(t);var n=a("4c9a"),r=a("104e");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);a("82a0");var i=a("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,"03758d5c",null);t["default"]=s.exports},c2d5:function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=a("7a93"),o=n(a("8b06")),i=n(a("f0d0")),s=n(a("2209")),l=n(a("4edc")),c=n(a("d70c")),u=n(a("071c"));t.default=[{path:"/apollo",name:r.PathName.Apollo,component:o.default},{path:"/apolloIntl",name:r.PathName.ApolloIntl,component:i.default},{path:"/userConfig",name:r.PathName.UserConfig,component:s.default},{path:"/spuConfig",name:r.PathName.SpuConfig,component:l.default},{path:"/orderConfig",name:r.PathName.OrderConfig,component:c.default},{path:"/lessonConfig",name:r.PathName.LessonConfig,component:u.default}]},c32a:function(e,t,a){"use strict";a("5ff4")},c419:function(e,t,a){"use strict";a.r(t);var n=a("f8fb"),r=a("a80c");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);a("a5bb");var i=a("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,"d4099a50",null);t["default"]=s.exports},c4b0:function(e,t,a){"use strict";a.r(t);var n=a("4298"),r=a("50b9");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);var i=a("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,"1735b4a3",null);t["default"]=s.exports},c540:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",[a("template",{slot:"header"},[a("table-header",{attrs:{condition:e.condition,"create-tip":"创建分支",placeholder:"(每次搜索只返回20条数据，请输入更精准的分支名称搜索)",showCreate:!0,showSearch:!0},on:{create:function(t){e.dialogFormVisible=!0},search:e.handleGetProjectBranches}},[a("template",{slot:"title"},[a("div",[e._v(e._s(e.projectName)+"的分支")])])],2)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],attrs:{data:e.tableData,size:"medium"}},[a("el-table-column",{attrs:{prop:"name",label:"分支名"}}),a("el-table-column",{attrs:{prop:"commit.id",label:"最新commit id"}}),a("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("table-operator",{attrs:{"show-delete":!t.row.protected},on:{deleteClick:function(a){return e.handleDeleteBranch(t.row)}}})]}}])})],1),a("el-dialog",{attrs:{visible:e.dialogFormVisible,title:"创建分支",width:"50%","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"branchForm",attrs:{model:e.branchForm,rules:e.branchRules}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{"label-width":e.formLabelWidth,label:"分支名",prop:"branch"}},[a("el-input",{attrs:{placeholder:"请输入要创建的的分支名"},model:{value:e.branchForm.branch,callback:function(t){e.$set(e.branchForm,"branch",t)},expression:"branchForm.branch"}})],1)],1),a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"ref分支","label-width":e.formLabelWidth,prop:"ref"}},[a("el-select",{attrs:{filterable:"",remote:"",placeholder:"请选择基于哪只分支创建新分支","remote-method":e.remoteMethod,loading:e.loading},model:{value:e.branchForm.ref,callback:function(t){e.$set(e.branchForm,"ref",t)},expression:"branchForm.ref"}},e._l(e.options,(function(e){return a("el-option",{key:e.name,attrs:{label:e.name,value:e.name}})})),1)],1)],1)],1)],1),a("template",{slot:"footer"},[a("dialog-footer",{on:{cancel:function(t){e.dialogFormVisible=!1},confirm:e.handleCreateGitBranch}})],1)],2)],2)},r=[]},c8ac:function(e,t,a){},c8e8:function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(a("365c")),o=n(a("4328"));t.default={getTestCaseModules:function(e){return r.default({method:"get",url:"v1/test/case/tree",params:e})},updateTestCaseModules:function(e,t){return r.default({method:"patch",url:"v1/test/case/tree/".concat(e),data:t})},createTestCaseModules:function(e){return r.default({method:"post",url:"v1/test/case/tree",data:e})},deleteTestCaseModules:function(e){return r.default({method:"delete",url:"v1/test/case/tree/".concat(e)})},uploadXMind:function(e){return r.default({method:"post",url:"v1/test/manual/case/upload",data:e,headers:{"Content-Type":"multipart/form-data"}})},updateTestCase:function(e,t){return r.default({method:"patch",url:"v1/test/manual/case/".concat(e,"/update"),data:t})},updateTestCaseBatch:function(e){return r.default({method:"patch",url:"v1/test/manual/case/batch",data:e})},getTestCaseList:function(e){return r.default({method:"get",url:"v1/test/manual/case/list",params:e,paramsSerializer:function(e){return o.default.stringify(e,{arrayFormat:"repeat"})}})},createTestCase:function(e){return r.default({method:"post",url:"v1/test/manual/case/add",data:e})}}},c93e:function(e,t,a){},c988:function(e,t,a){"use strict";a("159b"),a("b0c0");var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(a("879c")),o=a("2ef0");t.default={name:"TableAdvSearchBar",components:Object.assign({},r.default),props:{condition:Object},data:function(){return{visible:!1,config:this.init()}},methods:{init:function(){var e=o.cloneDeep(this.condition);return e.components.forEach((function(e){var t=e.operator.value;e.operator.value=void 0===t?e.operator.options[0].value:t})),e},search:function(){var e={};this.config.components.forEach((function(t){var a=t.operator.value,n=t.value;Array.isArray(n)?n.length>0&&(e[t.key]={operator:a,value:n}):void 0!==n&&null!==n&&""!==n&&(e[t.key]={operator:a,value:n})})),this.condition.name&&(this.condition.name=void 0),this.condition.combine=e,this.$emit("update:condition",this.condition),this.$emit("search",e),this.visible=!1},reset:function(){var e=this.condition.components;this.config.components.forEach((function(t,a){if(void 0!==t.operator.value){var n=e[a].operator.value;t.operator.value=void 0===n?t.operator.options[0].value:n}void 0!==t.value&&(t.value=e[a].value)})),this.condition.combine=void 0,this.$emit("update:condition",this.condition),this.$emit("search")},open:function(){this.visible=!0}}}},ca29:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[e.asideHidden?e._e():a("el-aside",[a("div",[a("el-input",{attrs:{placeholder:"UID(未登录时不用填写)",size:"small"},on:{change:e.getEventListByUser},model:{value:e.uid,callback:function(t){e.uid=t},expression:"uid"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.getEventListByUser},slot:"append"})],1)],1),a("div",[a("el-timeline",e._l(e.activities,(function(t){return a("el-timeline-item",{key:t.row,attrs:{color:t.color,timestamp:t.event_datetime},nativeOn:{click:function(a){return e.getPropertiesByEvent(t)}}},[e._v(" "+e._s(t.event_key)+" ")])})),1)],1)]),a("el-main",[a("el-card",[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("p",{staticStyle:{"font-size":"medium","font-weight":"bolder"},attrs:{align:"left"}},[e._v("事件属性 ")])]),a("div",["{}"===JSON.stringify(e.eventProperties)?a("div",{staticStyle:{"font-size":"14px",color:"#909399","text-align":"center"}},[a("span",[e._v("暂无数据")])]):e._e(),e._l(e.eventProperties,(function(t,n){return a("div",{key:n,attrs:{align:"left"}},[a("span",{staticStyle:{"font-weight":"bold","font-size":"medium"}},[e._v(e._s(n)+" ")]),a("span",{staticStyle:{"font-size":"medium"}},[e._v(": "+e._s(t))]),a("p")])}))],2)]),a("el-card",[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("p",{staticStyle:{"font-size":"medium","font-weight":"bolder"},attrs:{align:"left"}},[e._v("用户属性")])]),"{}"===JSON.stringify(e.userProperties)?a("div",{staticStyle:{"font-size":"14px",color:"#909399","text-align":"center"}},[a("span",[e._v("暂无数据")])]):e._e(),e._l(e.userProperties,(function(t,n){return a("div",{key:n,attrs:{align:"left"}},[a("span",{staticStyle:{"font-weight":"bold","font-size":"medium"}},[e._v(e._s(n)+" ")]),a("span",{staticStyle:{"font-size":"medium"}},[e._v(": "+e._s(t))]),a("p")])}))],2),a("el-card",[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("p",{staticStyle:{"font-size":"medium","font-weight":"bolder"},attrs:{align:"left"}},[e._v("公共属性")])]),a("div",["{}"===JSON.stringify(e.commonProperties)?a("div",{staticStyle:{"font-size":"14px",color:"#909399","text-align":"center"}},[a("span",[e._v("暂无数据")])]):e._e(),e._l(e.commonProperties,(function(t){return a("div",{key:t,attrs:{align:"left"}},e._l(t,(function(t,n){return a("div",{key:n},[a("span",{staticStyle:{"font-weight":"bold","font-size":"medium"}},[e._v(e._s(n)+" ")]),a("span",{staticStyle:{"font-size":"medium"}},[e._v(": "+e._s(t))]),a("p")])})),0)}))],2)])],1)],1)},r=[]},ca62:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("gstc",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{config:e.config},on:{state:e.onState,loaded:e.onLoaded}})],1)},r=[],o=(a("159b"),a("365c")),i=a("7a93"),s=a("a18c"),l=a("17a5"),c=[],u=(l["a"].api.GSTCID,"====BEGIN LICENSE KEY====\\njwTCXoMUHwe0J/TTdLFREcPHiEkqShgaQVfmuBur+bAMcK1UBEagfsD+KgxikB7Fu8CDo3YOVYoTZmBWTBninCZvH5uxe4jGogjuRhdOq1CJk3aPUExVWqF24cv1OgblKxlaD6MV9BglcopMBw9O07kUtVuTFUH6hXwAW+qeYCkobuRsv46pVEt2n+MjIaAmViEyGkiLTJj+pZrfosq2JFv9o7Xo0NNjnq1zj1lwqaHL6XbIq+14B+fFgtQwmiXm2MfnYp6o/pzaatcI/HIBGqdYVD9baYrr2g3RpesRaXv5YR2rmo1CkwCUjLismvaG50cFKWLXnzd1CswZXN2iJw==||U2FsdGVkX18WTqVIMMiDwxKMGT45bIsjW3TiHXxau/bL88V2s71KyxdYvGmQdqntmtEMYZmnWJVhA8rSPY3n20hIxKcrBM9ePK053G0/LCo=\\ngwjEpevayxjKP8pN0bNQgmKpAiCPEA2hbM+KUOv7KQKFENs9kIza5uHemcSIyCPXj6yPk6KjMEkReVXEnJvq037MzowMpIkDLtIvvRtqfjgAMNq/2DwL8T1psCZDfKLYAXexGdD9eP8w8AzV01BTJohQd4b0uAIhluaE5OP7ldMfsZZKWLB1/pZtV2o4vMefr8Bj8sZfWTixGixhBRCaiNuX3wS9rU4KTP7H27Yw4aaQQLXga2R7qv5+8wj2P166AKrpgxVO1Qqgvvn5H0NindxVDHDW6Lb6HmPbTRfbfOgq8nDyTsKHM9xMM8TRjsQ7OLQzC14/scZi0/hJoM81gQ==\\n====END LICENSE KEY===="),d={name:"SprintOverview",components:{gstc:l["b"]},data:function(){return{config:{licenseKey:u,innerHeight:window.innerHeight-160,locale:{name:"zh",Now:"Now",weekdays:["周日","周一","周二","周三","周四","周五","周六"],months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]},actions:{"chart-timeline-items-row-item":[this.clickAction],"list-column-row":[this.sprintClickAction]},list:{columns:{data:{sprintName:{id:"sprintName",data:"sprintName",width:200,header:{content:"迭代"}},master:{id:"master",data:"master",isHTML:!1,width:100,header:{content:"scrumMaster"}}}},rows:{1:{sprintName:"",master:""}}},chart:{items:{},time:{zoom:22}}}}},computed:{loading:function(){return this.$store.state.loading}},mounted:function(){var e=this;this.getSprintOverView(),window.onresize=function(){return function(){e.config.innerHeight=window.innerHeight-160}()}},methods:{getSprintOverView:function(){var e=this;o["jiraApi"].getSprintOverview().then((function(t){t.data.rows.forEach((function(t,a){e.config.list.rows[String(a+1)]=t})),t.data.items.forEach((function(t){function a(e){return"normal"===e?{style:{background:"#7bcb7d","border-radius":"1px"}}:"delay"===e?{style:{background:"#fbcc3e","border-radius":"1px"}}:"today"===e?{style:{background:"#2286f7","border-radius":"1px"}}:{style:{background:"#99b5df","border-radius":"1px"}}}e.config.chart.items[t["id"]]=Object.assign({},t,a(t.status))}))}))},onState:function(e){this.state=e,c.push(e.subscribe("config.chart.items.a1}",(function(e){console.log("item 1 changed",e)}))),c.push(e.subscribe("config.list.rows.a1",(function(e){console.log("row 1 changed",e)})))},onLoaded:function(e){console.log("gstc loaded!",e),window.gstc=e},clickAction:function(e,t){function a(e){s["default"].push({name:i["PathName"].SprintDetail,query:{projId:t.item.projId,sprintId:t.item.sprintId}})}return e.addEventListener("click",a),{update:function(e,a){t=a},destroy:function(e,t){e.removeEventListener("click",a)}}},sprintClickAction:function(e,t){function a(e){console.log(t),s["default"].push({name:i["PathName"].SprintDetail,query:{projId:t.row.projId,sprintId:t.row.sprintId}})}return e.addEventListener("click",a),{update:function(e,a){t=a},destroy:function(e,t){e.removeEventListener("click",a)}}}},beforeUnmount:function(){c.forEach((function(e){return e()}))}},p=d,f=(a("9f86"),a("2877")),m=Object(f["a"])(p,n,r,!1,null,"2a0fa497",null);t["default"]=m.exports},ca82:function(e,t,a){},cb47:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-input",{ref:"input",attrs:{placeholder:e.placeholder,clearable:"","prefix-icon":"el-icon-search"},on:{blur:e.handleSearch,clear:e.handleClear},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.target.blur(t)}},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}})},r=[]},cbc2:function(e,t,a){"use strict";a.r(t);var n=a("9fde"),r=a("8c36");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);var i=a("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,"b5766dba",null);t["default"]=s.exports},cbc4:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",[e.value===e.planResultEnum.INIT?a("el-tag",{attrs:{effect:"dark",type:"info"}},[e._v(" "+e._s(e.planResultType[e.value])+" ")]):e.value===e.planResultEnum.IN_PROGRESS?a("el-tag",{attrs:{effect:"dark",type:"primary"}},[e._v(" "+e._s(e.planResultType[e.value])+" ")]):e.value===e.planResultEnum.PASS?a("el-tag",{attrs:{effect:"dark",type:"success"}},[e._v(" "+e._s(e.planResultType[e.value])+" ")]):e.value===e.planResultEnum.FAIL?a("el-tag",{attrs:{effect:"dark",type:"danger"}},[e._v(" "+e._s(e.planResultType[e.value])+" ")]):e.value===e.planResultEnum.BLOCK?a("el-tag",{attrs:{effect:"dark",type:"warning"}},[e._v(" "+e._s(e.planResultType[e.value])+" ")]):e.value===e.planResultEnum.SKIP?a("el-tag",{attrs:{effect:"dark",type:"info"}},[e._v(" "+e._s(e.planResultType[e.value])+" ")]):e._e()],1)},r=[]},cc0c:function(e,t,a){"use strict";var n=a("6374").default,r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(a("10a9"));t.default={name:"TestBuried",components:{},data:function(){return{loading:!1,asideHidden:!1,uid:"",selectEvent:"",eventProperties:{},userProperties:{},commonProperties:{},activities:[]}},computed:{},mounted:function(){this.initPageParams()},methods:{initPageParams:function(){this.getEventListByUser()},getEventListByUser:function(){var e=this;this.loading=!0,console.log("getEventListByUser",this.uid),o.default.GetEventByUser({uid:this.uid,eventKeys:this.selectEvent}).then((function(t){e.activities=[];var a,r=n(t.data.data);try{for(r.s();!(a=r.n()).done;){var o=a.value;e.activities.push({event_key:o.eventKey,uuid:o.uuid,row:o.row,user_properties:o.userProperties,event_datetime:o.eventDatetime,event_properties:o.eventProperties})}}catch(i){r.e(i)}finally{r.f()}e.loading=!1,e.activities.length>0&&(e.eventProperties=e.activities[0].event_properties,e.userProperties=e.activities[0].user_properties,e.activities[0].color="#0bbd87"),console.log("this.activities",e.activities,t)})).catch((function(t){console.log(t),e.loading=!1}))},getPropertiesByEvent:function(e){console.log("getPropertiesByEvent",this.uid,e),this.eventProperties={},this.userProperties={},this.commonProperties={},console.log("getPropertiesByEvent",this.eventProperties,e),e&&e.event_properties&&(this.eventProperties=e.event_properties),e&&e.user_properties&&(this.userProperties=e.user_properties),this.changeColor(e)},changeColor:function(e){var t,a=n(this.activities);try{for(a.s();!(t=a.n()).done;){var r=t.value;e.uuid==r.uuid?r.color="#0bbd87":r.color="#909399"}}catch(o){a.e(o)}finally{a.f()}}}}},cc11:function(e,t,a){},cc95:function(e,t,a){"use strict";a("cc11")},cca0:function(e,t,a){"use strict";a.r(t);var n=a("ca29"),r=a("1ace");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);a("b8b5"),a("5dbd");var i=a("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,"2c46efbf",null);t["default"]=s.exports},cd2c:function(e,t,a){"use strict";a("e3c2")},cd49:function(e,t,a){"use strict";var n=a("c973").default;a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("96cf"),a("b0c0"),a("d3b7"),a("3ca3"),a("ddb0");var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(a("3dfd"));a("94b1"),a("ef97"),a("c037"),a("627c"),a("007d");var i=r(a("5c96"));a("2ef0");var s=r(a("e8cc")),l=r(a("c3da")),c=r(a("2b0e")),u=r(a("3b71")),d=r(a("9ca8"));a("8ee0");var p=r(a("a18c")),f=r(a("4360")),m=r(a("349e"));a("e222"),a("3d39"),a("b277"),a("6a99");var h=a("7a93");a("0fae");var b=r(a("d768")),g=r(a("40ea")),v=r(a("2cd2")),y=r(a("d625"));a("64d2"),a("ed2c");var _=r(a("dee4"));c.default.use(m.default),c.default.config.productionTip=!1,c.default.config.productionTip=!1,c.default.component("chart",d.default),c.default.component(g.default.name,g.default),c.default.component(b.default.name,b.default),c.default.component(v.default.name,v.default),c.default.use(y.default),c.default.use(_.default),c.default.use(i.default,{size:"mini"}),c.default.use(u.default),c.default.component(l.default.name,l.default),c.default.component(s.default.name,s.default),p.default.beforeEach(function(){var e=n(regeneratorRuntime.mark((function e(t,a,n){var r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return f.default.commit("FLASH_TOKEN"),r=Object.assign({},f.default.state.jira.socketInfo,f.default.state.users.socketInfo,f.default.state.coverage.socketInfo),e.prev=2,o=[],t.meta.isUsingSocketInfo&&!r.projectsUpdate&&o.push(f.default.dispatch("GET_PROJECT")),t.meta.isUsingSocketInfo&&!r.usersUpdate&&o.push(f.default.dispatch("GET_USER")),t.meta.isUsingSocketInfo&&!r.projectsSprintUpdate&&o.push(f.default.dispatch("GET_PROJECT_CLOSED_SPRINT")),t.meta.isUsingSocketInfo&&!r.gitprojectUpdate&&o.push(f.default.dispatch("GET_GITPROJECT")),t.meta.isUsingSocketInfo&&!r.larkChatsUpdate&&o.push(f.default.dispatch("GET_LARKCHATS")),e.next=11,Promise.all(o);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e["catch"](2),i.default.Message.error(e.t0),n(!1);case 17:console.log("检测登录状态",f.default.getters.isLogin),f.default.getters.isLogin||t.name===h.PathName.Login||t.name===h.PathName.SslLogin||t.name===h.PathName.TestTrackCasePlanReport?(document.body.scrollTop=0,n()):n("/ssoLogin");case 19:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t,a,n){return e.apply(this,arguments)}}()),new c.default({el:"#app",router:p.default,store:f.default,components:{App:o.default},template:"<App/>",render:function(e){return e(o.default)}});var S=c.default.prototype.$eventBus.noConflict();c.default.mixin({computed:{$eventBus:function(){return S(this)}}})},cdb5:function(e,t,a){"use strict";a("a9e3"),a("b680"),a("159b"),a("b64b");var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=a("365c"),o=a("b74e"),i=a("93ab"),s=n(a("503f"));t.default={name:"AllureReportDetail",components:{AllureReportBar:s.default},props:{buildNumber:{type:Number,default:0}},data:function(){return{goodDuration:o.goodDuration,formatTime:o.formatTime,showDialog:!1,testSuit:{},caseDetail:void 0,index:0,total:0,parent:"",tableData:[],activeName:"overview",isShowTrace:!1}},computed:{loading:function(){return this.$store.state.loading},offset:function(){return this.parent.pageSize*(this.parent.currentPage-1)},caseIcon:function(){return function(e){return e===i.caseStatusEnum.PASSED?"fa fa-check-circle fa-fw text-status-passed fa-lg":e===i.caseStatusEnum.FAILED?"fa fa-times-circle fa-fw text-status-failed fa-lg":e===i.caseStatusEnum.SKIPPED?"fa fa-minus-circle fa-fw text-status-skipped fa-lg":e===i.caseStatusEnum.BROKEN?"fa fa-exclamation-circle fa-fw text-status-broken fa-lg":e===i.caseStatusEnum.UNKNOWN?"fa fa-question-circle fa-fw text-status-unknown fa-lg":""}},caseStatus:function(){return function(e){return e===i.caseStatusEnum.PASSED?"case-passed":e===i.caseStatusEnum.FAILED?"case-failed":e===i.caseStatusEnum.SKIPPED?"case-skipped":e===i.caseStatusEnum.BROKEN?"case-broken":e===i.caseStatusEnum.UNKNOWN?"case-unknown":""}},historyRate:function(){return(this.caseDetail.extra.history.statistic.passed/this.caseDetail.extra.history.statistic.total*100).toFixed(2)}},mounted:function(){var e=this;this.$eventBus.$on("allureReportDetail",(function(t,a,n){e.parent=n,e.open(t,a)}))},methods:{cancel:function(){this.showDialog=!1,this.$emit("refresh")},open:function(e,t){this.showDialog=!0,this.testSuit=e,this.tableData=t},openDetails:function(e){var t=this;e.children||r.autoApi.getAllureDetail(e.uid).then((function(e){t.caseDetail=e.data.detail}))},getAllLeafStatus:function(e){var t=new Array;function a(e){e.forEach((function(e){e.children?a(e.children):t.push(e.status)}))}a(e);var n={};return t.forEach((function(e){Object.keys(n).indexOf(e)>-1?n[e]+=1:n[e]=1})),n}}}},cde2:function(e,t,a){},d0df:function(e,t,a){},d11c:function(e,t,a){"use strict";a.r(t);var n=a("edc6"),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=r.a},d141:function(e,t,a){"use strict";a("aa90")},d1bb:function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(a("e73b")),o=a("7a93"),i=a("9cea");t.default={name:"HomeSide",components:{},data:function(){return{asideHidden:!1,sideMenu:[{text:"首页",route:{name:o.PathName.Dashboard},icon:"el-icon-s-home"},{text:"效能大盘",icon:"el-icon-user",route:{name:o.PathName.UserGantt},sub_menu:[{text:"冲刺总览",route:{name:o.PathName.SprintOverView},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.SprintOverView)<0},{text:"冲刺详情",route:{name:o.PathName.SprintDetail},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.SprintDetail)<0},{text:"项目报告",route:{name:o.PathName.EfficiencyData},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.ProjectReport)<0},{text:"资源地图",route:{name:o.PathName.UserGantt},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.GanttResource)<0},{text:"月度资源报告",route:{name:o.PathName.MonthResourceReport},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.MonthResourceReport)<0},{text:"月度质量报告",route:{name:o.PathName.MonthReport},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.MonthQualityReport)<0},{text:"项目趋势报告",route:{name:o.PathName.ProjectTolerance},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.ProjectTrendReport)<0}]},{text:"测试跟踪",icon:"el-icon-coin",route:{name:o.PathName.TestTrack},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.TestTrack)<0,sub_menu:[{text:"测试用例",route:{name:o.PathName.TestTrackTestcaseProject},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.TestTrackCase)<0},{text:"用例评审",route:{name:o.PathName.TestTrackCaseReview},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.TestTrackReview)<0},{text:"冒烟计划",route:{name:o.PathName.TestTrackCasePlan},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.TestTrackSmoke)<0},{text:"功能计划",route:{name:o.PathName.TestTrackNotSmokePlan},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.TestTrackFunc)<0},{text:"数据埋点",route:{name:o.PathName.TestTrackBuriedDataReview},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.TestTrackBuriedDataOperate)<0},{text:"个人画像",route:{name:o.PathName.TestTrackProfileReview},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.TestTrackBuriedProfileOperate)<0}]},{text:"自动化",icon:"el-icon-thumb",route:{name:o.PathName.AutoConfig},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.AutoTest)<0,sub_menu:[{text:"用例配置",route:{name:o.PathName.AutoConfig},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.AutoTestConfig)<0},{text:"构建历史",route:{name:o.PathName.AutoCaseBuildRecord},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.AutoTestHistory)<0}]},{text:"fat发版",icon:"el-icon-tickets",route:{name:o.PathName.Pipeline},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.FatCd)<0,sub_menu:[{text:"流水线",route:{name:o.PathName.Pipeline},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.FatCdPipeline)<0},{text:"全量覆盖率",route:{name:o.PathName.PipelineFullCoverageTrend},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.FatCdFullCoverageTrend)<0},{text:"分支管理",route:{name:o.PathName.GitLabProjects},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.FatCdBranch)<0},{text:"服务构建历史",route:{name:o.PathName.PipelineServerBuildRecord},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.FatCdDeployRecord)<0},{text:"覆盖率构建历史",route:{name:o.PathName.PipelineBuildRecord},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.FatCdCoverageRecord)<0},{text:"sonar扫描情况",route:{name:o.PathName.FullSonar},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.FatCdCoverageRecord)<0}]},{text:"数据工厂",icon:"el-icon-s-data",route:{name:o.PathName.Apollo},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.DataTool)<0,sub_menu:[{text:"fat-apollo",route:{name:o.PathName.Apollo},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.Apollo)<0},{text:"fat-apolloIntl",route:{name:o.PathName.ApolloIntl},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.ApolloIntl)<0},{text:"用户配置",route:{name:o.PathName.UserConfig},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.Apollo)<0},{text:"商品配置",route:{name:o.PathName.SpuConfig},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.Apollo)<0},{text:"订单配置",route:{name:o.PathName.OrderConfig},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.Apollo)<0},{text:"课程配置",route:{name:o.PathName.LessonConfig},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.Apollo)<0}]},{text:"测试工具",icon:"el-icon-s-tools",route:{name:o.PathName.TestTool},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.Tool)<0,sub_menu:[{text:"辅助工具",route:{name:o.PathName.TestTool},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.ToolMock)<0},{text:"flower",route:{name:o.PathName.Flower},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.ToolFlower)<0},{text:"PR合并通知",route:{name:o.PathName.PrMerged},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.ToolPrMerge)<0},{text:"jira联动PR配置",route:{name:o.PathName.PrMergeJira},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.ToolJiraPrConfig)<0},{text:"审批流通知配置",route:{name:o.PathName.ApprovalNotify},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.ToolApprovalNotify)<0},{text:"apollo通知配置-国内",route:{name:o.PathName.ApolloNotify},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.Tool)<0},{text:"apollo通知配置-出海",route:{name:o.PathName.ApolloIntlNotify},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.Tool)<0}]}]}},computed:{asideWidth:function(){return this.asideHidden?r.default["asideCollapseWidth"]:r.default["asideWidth"]},menuClass:function(){return this.asideHidden?"menu-collapse-container":"menu-container"}},watch:{asideHidden:function(){this.$store.commit("SET_ASIDE_WIDTH",this.asideWidth)},"$store.getters.userPers":function(){this.sideMenu=[{text:"首页",route:{name:o.PathName.Dashboard},icon:"el-icon-s-home"},{text:"效能大盘",icon:"el-icon-user",route:{name:o.PathName.UserGantt},sub_menu:[{text:"冲刺总览",route:{name:o.PathName.SprintOverView},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.SprintOverView)<0},{text:"冲刺详情",route:{name:o.PathName.SprintDetail},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.SprintDetail)<0},{text:"项目报告",route:{name:o.PathName.EfficiencyData},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.ProjectReport)<0},{text:"资源地图",route:{name:o.PathName.UserGantt},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.GanttResource)<0},{text:"月度资源报告",route:{name:o.PathName.MonthResourceReport},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.MonthResourceReport)<0},{text:"月度质量报告",route:{name:o.PathName.MonthReport},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.MonthQualityReport)<0},{text:"项目趋势报告",route:{name:o.PathName.ProjectTolerance},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.ProjectTrendReport)<0}]},{text:"测试跟踪",icon:"el-icon-coin",route:{name:o.PathName.TestTrack},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.TestTrack)<0,sub_menu:[{text:"测试用例",route:{name:o.PathName.TestTrackTestcaseProject},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.TestTrackCase)<0},{text:"用例评审",route:{name:o.PathName.TestTrackCaseReview},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.TestTrackReview)<0},{text:"冒烟计划",route:{name:o.PathName.TestTrackCasePlan},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.TestTrackSmoke)<0},{text:"功能计划",route:{name:o.PathName.TestTrackNotSmokePlan},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.TestTrackFunc)<0}]},{text:"自动化",icon:"el-icon-thumb",route:{name:o.PathName.AutoConfig},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.AutoTest)<0,sub_menu:[{text:"用例配置",route:{name:o.PathName.AutoConfig},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.AutoTestConfig)<0},{text:"构建历史",route:{name:o.PathName.AutoCaseBuildRecord},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.AutoTestHistory)<0}]},{text:"fat发版",icon:"el-icon-tickets",route:{name:o.PathName.Pipeline},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.FatCd)<0,sub_menu:[{text:"流水线",route:{name:o.PathName.Pipeline},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.FatCdPipeline)<0},{text:"全量覆盖率",route:{name:o.PathName.PipelineFullCoverageTrend},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.FatCdFullCoverageTrend)<0},{text:"分支管理",route:{name:o.PathName.GitLabProjects},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.FatCdBranch)<0},{text:"服务构建历史",route:{name:o.PathName.PipelineServerBuildRecord},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.FatCdDeployRecord)<0},{text:"覆盖率构建历史",route:{name:o.PathName.PipelineBuildRecord},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.FatCdCoverageRecord)<0},{text:"sonar扫描情况",route:{name:o.PathName.FullSonar},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.FatCdCoverageRecord)<0}]},{text:"数据工厂",icon:"el-icon-s-data",route:{name:o.PathName.Apollo},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.DataTool)<0,sub_menu:[{text:"fat-apollo",route:{name:o.PathName.Apollo},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.Apollo)<0},{text:"fat-apolloIntl",route:{name:o.PathName.ApolloIntl},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.ApolloIntl)<0},{text:"用户配置",route:{name:o.PathName.UserConfig},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.Apollo)<0},{text:"商品配置",route:{name:o.PathName.SpuConfig},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.Apollo)<0},{text:"订单配置",route:{name:o.PathName.OrderConfig},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.Apollo)<0},{text:"课程配置",route:{name:o.PathName.LessonConfig},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.Apollo)<0}]},{text:"测试工具",icon:"el-icon-s-tools",route:{name:o.PathName.TestTool},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.Tool)<0,sub_menu:[{text:"辅助工具",route:{name:o.PathName.TestTool},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.ToolMock)<0},{text:"flower",route:{name:o.PathName.Flower},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.ToolFlower)<0},{text:"PR合并通知",route:{name:o.PathName.PrMerged},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.ToolPrMerge)<0},{text:"jira联动PR配置",route:{name:o.PathName.PrMergeJira},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.ToolJiraPrConfig)<0},{text:"审批流通知配置",route:{name:o.PathName.ApprovalNotify},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.ToolApprovalNotify)<0},{text:"apollo通知配置-国内",route:{name:o.PathName.ApolloNotify},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.Tool)<0},{text:"apollo通知配置-出海",route:{name:o.PathName.ApolloIntlNotify},hidden:this.$store.getters.userPers.indexOf(i.menuPermissionEnum.Tool)<0}]}]}},created:function(){this.asideHidden=!1},methods:{handleChangeRouter:function(e){this.$router.push({name:e})}}}},d22a:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"background-color":"#000000",color:"#ffffff"}},[a("div",{staticStyle:{"font-size":"2em","font-weight":"bold"}},[e._v("#"+e._s(e.step)+" Console Output")]),a("pre",{staticClass:"console-text"},[e._v("    "),a("code",[e._v(e._s(e.consoleText))]),e._v("\n  ")]),e.isBuilding?a("i",{staticClass:"el-icon-loading",staticStyle:{"font-size":"18px","margin-top":"4px"}}):e._e()])},r=[],o=a("365c"),i={name:"buildConsole",computed:{pipelineId:function(){return this.$route.params.pipelineId},step:function(){return this.$route.params.step?this.$route.params.step:""}},data:function(){return{consoleText:"",isBuilding:!0}},mounted:function(){this.PolingGetConsoleOutput()},destroyed:function(){clearInterval(this.myInterval)},methods:{getBuildConsole:function(){var e=this;"deploy"===this.step?o["coverageApi"].getPipelineDeployConsole(this.pipelineId).then((function(t){e.consoleText=t.data.text,e.isBuilding=t.data.isBuilding})):o["coverageApi"].getPipelineCoverageConsole(this.pipelineId).then((function(t){e.consoleText=t.data.text,e.isBuilding=t.data.isBuilding})),!1===this.isBuilding&&clearInterval(this.myInterval)},PolingGetConsoleOutput:function(){var e=this;this.getBuildConsole(),this.myInterval=window.setInterval((function(){setTimeout((function(){e.getBuildConsole()}),1)}),3e3)}}},s=i,l=(a("ff6b"),a("2877")),c=Object(l["a"])(s,n,r,!1,null,"ecb2b8bc",null);t["default"]=c.exports},d2b9:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("div",{staticClass:"card-header",attrs:{slot:"header"},slot:"header"},[a("span",{staticClass:"title"},[e._v("项目")]),a("table-search-input-bar",{attrs:{placeholder:"根据名称搜索"},on:{search:e.handleSearch}})],1),a("el-table",{attrs:{data:e.projects,"header-cell-style":e.headerStyle}},[a("el-table-column",{attrs:{label:"名称",prop:"name","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"table-col"},[e._v(e._s(t.row.name))])]}}])}),a("el-table-column",{attrs:{label:"操作"}})],1)],1)},r=[]},d2e9:function(e,t,a){"use strict";a("159b");var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(a("7e31"));t.default={name:"TableSearchSelect",components:{TableSearchComponent:r.default},props:["component"],data:function(){return{options:this.component.options instanceof Array&&this.component.options||[]}},created:function(){var e=this;this.component.options instanceof Array||!this.component.options.url||this.$get(this.component.options.url,(function(t){t.data&&t.data.forEach((function(t){e.options.push({label:t[e.component.options.labelKey],value:t[e.component.options.valueKey]})}))}))},computed:{label:function(){var e=this;return function(t){return e.component.options.showLabel?e.component.options.showLabel(t):-1!==t.label.indexOf(".")?e.$t(t.label):t.label}}}}},d394:function(e,t,a){"use strict";a("00eb")},d448:function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=a("365c"),o=n(a("6d22")),i=n(a("df34")),s=n(a("ba07")),l=a("93f3"),c=a("7a93");t.default={name:"AutoConfigBuildRecord",components:{TablePagination:o.default,TableHeader:i.default,TableOperator:s.default},data:function(){return{condition:{},total:0,pageSize:l.PAGINATION_SIZE.LARGE,currentPage:1,tableData:[],userPipelineId:!0}},computed:{configId:function(){return this.$route.params.configId?this.$route.params.configId:""}},mounted:function(){this.getBuildRecord()},methods:{tagType:function(e){return"success"===e.status?"success":"running"===e.status?"info":"pending"===e.status?"":"fail"===e.status?"danger":void 0},getBuildRecord:function(e){var t=this,a={offset:this.pageSize*(this.currentPage-1),limit:this.pageSize,configName:e,configId:this.configId};r.autoApi.getAutoRunHistory(a).then((function(e){t.tableData=e.data.data,t.total=e.data.total}))},handleGetBuildRecord:function(e){this.currentPage=1,this.getBuildRecord(e)},handleToAllureReport:function(e){this.$router.push({name:c.PathName.AutoCaseReport,params:{historyId:e.id}})}}}},d486:function(e,t,a){"use strict";a("4f70")},d70c:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-tabs",{model:{value:e.activePannel,callback:function(t){e.activePannel=t},expression:"activePannel"}},[a("el-tab-pane",{attrs:{label:"创建9.9订单",name:"sampleOrder"}},[a("sample-order")],1)],1)},r=[],o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",[a("div",[a("el-form",{ref:"orderForm",staticStyle:{width:"100%",margin:"20px auto"},attrs:{"status-icon":"",rules:e.orderRules,model:e.orderForm,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"科目类型:",prop:"subject"}},[a("el-radio-group",{model:{value:e.orderForm.subject,callback:function(t){e.$set(e.orderForm,"subject",t)},expression:"orderForm.subject"}},e._l(e.SubjectTypes,(function(t){return a("el-radio",{key:t.label,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1),a("el-form-item",{attrs:{label:"渠道:",prop:"source"}},[a("el-input",{staticStyle:{width:"auto"},attrs:{placeholder:"请输入渠道来源"},model:{value:e.orderForm.source,callback:function(t){e.$set(e.orderForm,"source",t)},expression:"orderForm.source"}})],1),a("el-form-item",{attrs:{label:"手机号:",prop:"mobile"}},[a("el-input",{staticStyle:{width:"auto"},attrs:{placeholder:"请输入用户手机号"},model:{value:e.orderForm.mobile,callback:function(t){e.$set(e.orderForm,"mobile",t)},expression:"orderForm.mobile"}})],1),a("el-form-item",{staticStyle:{"margin-top":"30px"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("orderForm")}}},[e._v("确认")]),a("el-button",{on:{click:function(t){return e.resetForm("orderForm")}}},[e._v("重置")])],1)],1),a("el-dialog",{attrs:{visible:e.createOrder,center:"",title:"提示",width:"30%"},on:{"update:visible":function(t){e.createOrder=t}}},[a("span",[e._v("是否要创建相关订单，请确认fat环境mock已打开")]),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.createOrder=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.orderSubmit}},[e._v("确 定")])],1)])],1),a("div",{staticStyle:{"margin-top":"50px","margin-left":"28px"}},[a("span",{staticStyle:{"font-size":"14px",float:"left",color:"#606266"}},[e._v("响应数据：")]),a("el-input",{staticStyle:{"margin-top":"10px"},attrs:{type:"textarea",rows:10}})],1)])},i=[],s=a("3835"),l=(a("d81d"),a("4fad"),a("365c")),c=a("8e88"),u=Object.entries(c["SubjectType"]).map((function(e){var t=Object(s["a"])(e,2),a=t[0],n=t[1];return{label:n,value:a}})),d={name:"sampleOrder",data:function(){return{createOrder:!1,SubjectTypes:u,orderForm:{subject:[],source:"",mobile:""},orderRules:{subject:[{required:!0,message:"请选择科目",trigger:"blur"}],source:[{required:!0,message:"请输入相关渠道",trigger:"blur"}],mobile:[{required:!0,message:"请输入手机号",trigger:"blur"}]},result:""}},methods:{onSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;t.createOrder=!0}))},orderSubmit:function(){var e=this;console.log(this.orderForm);var t=_.cloneDeep(this.orderForm);l["dataToolApi"].createSampleOrder(t).then((function(t){e.result=t.data})),this.createOrder=!1},resetForm:function(e){this.$refs[e].resetFields()}}},p=d,f=a("2877"),m=Object(f["a"])(p,o,i,!1,null,"2e8146d1",null),h=m.exports,b={name:"orderConfig",components:{SampleOrder:h},data:function(){return{activePannel:"sampleOrder"}}},g=b,v=Object(f["a"])(g,n,r,!1,null,"81af6b14",null);t["default"]=v.exports},d741:function(e,t,a){"use strict";a.r(t);var n=a("89c4"),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=r.a},d74d:function(e,t,a){"use strict";a("1020")},d849:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"hiddenButton",style:{left:this.width},on:{click:e.handleClick}},[e.hidden?a("i",{staticClass:"el-icon-arrow-right"}):a("i",{staticClass:"el-icon-arrow-left"})])},r=[]},d853:function(e,t,a){"use strict";a.r(t);var n=a("1b93"),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=r.a},d916:function(e,t,a){"use strict";a.r(t);var n=a("3668"),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=r.a},d9d3:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",[e._v(e._s(e.planStageType[e.value]))])},r=[]},d9e9:function(e,t,a){"use strict";a("a4a3")},d9f1:function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=a("365c"),o=a("b889"),i=n(a("6444")),s=n(a("2bc2"));t.default={name:"TestCase",components:{TestReviewCaseEdit:i.default,TestReviewCaseList:s.default},comments:{},data:function(){return{operationEnum:o.operationEnum,projects:this.projects,currentReview:{},readOnly:!1}},created:function(){var e=this.$route.params.reviewId;e&&this.getReviewDetail(e)},inject:["projects"],methods:{refresh:function(){this.$refs.testReviewCaseList.initTableData()},getReviewDetail:function(e){var t=this;r.testReviewApi.getTestCaseReviewDetail(e).then((function(e){t.currentReview=e}))}}}},da40:function(e,t,a){},daae:function(e,t,a){"use strict";a("4dfb")},db06:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",[a("template",{slot:"header"},[a("table-header",{attrs:{condition:e.condition,"create-tip":"创建流水线",placeholder:"根据job名称搜索",showCreate:!1,showSearch:""===e.pipelineId},on:{search:e.handleGetDeployRecord}},[a("template",{slot:"title"},[a("div",[e._v("服务端发版记录")])])],2)],1),a("el-table",{attrs:{data:e.tableData,size:"medium"}},[a("el-table-column",{attrs:{prop:"jobName",label:"job名称",width:"300"}}),a("el-table-column",{attrs:{prop:"username",label:"触发者"}}),a("el-table-column",{attrs:{prop:"buildId",label:"构建号"}}),a("el-table-column",{attrs:{prop:"createdAt",label:"构建时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(new Date(t.row.createdAt).format("yyyy-MM-dd hh:mm:ss")))])]}}])}),a("el-table-column",{attrs:{prop:"commitId",label:"构建分支/commitId"}}),a("el-table-column",{attrs:{prop:"status",label:"构建状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:e.tagType(t.row),effect:"dark"}},[e._v(e._s(t.row.statusChinese))])]}}])})],1),a("table-pagination",{attrs:{change:e.getDeployRecord,"current-page":e.currentPage,"page-size":e.pageSize,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t}}})],2)},r=[]},db3d:function(e,t,a){"use strict";a("0d06")},db52:function(e,t,a){"use strict";a("802e")},db5d:function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(a("365c")),o=n(a("4328"));t.default={createApprovalChatConfig:function(e){return r.default({method:"post",url:"v1/ace/approval/notify_config",data:e})},updateApprovalChatConfig:function(e,t){return r.default({method:"patch",url:"v1/ace/approval/notify_config/".concat(e),data:t})},deleteApprovalChatConfig:function(e){return r.default({method:"delete",url:"v1/ace/approval/notify_config/".concat(e)})},getApprovalChatConfig:function(e){return r.default({method:"get",url:"v1/ace/approval/notify_config",params:e,paramsSerializer:function(e){return o.default.stringify(e,{arrayFormat:"repeat"})}})}}},db78:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticClass:"dialog-title",attrs:{"close-on-click-modal":!1,title:e.operation===e.operationEnum.EDIT?"编辑流水线":"创建流水线",visible:e.dialogFormVisible,width:"65%"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"pipelineForm",attrs:{model:e.form,rules:e.rules,"label-width":e.formLabelWidth}},[a("el-row",[a("el-col",{attrs:{offset:1,span:10}},[a("el-form-item",{attrs:{label:"流水线名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入流水线名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"服务名称",prop:"projectId"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择服务"},model:{value:e.form.projectId,callback:function(t){e.$set(e.form,"projectId",t)},expression:"form.projectId"}},e._l(e.projectOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{offset:1,span:10}},[a("el-form-item",{attrs:{label:"业务线",prop:"business"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择端"},model:{value:e.form.business,callback:function(t){e.$set(e.form,"business",t)},expression:"form.business"}},e._l(e.businessOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"端",prop:"terminal"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择端"},on:{change:e.handleChangeTerminal},model:{value:e.form.terminal,callback:function(t){e.$set(e.form,"terminal",t)},expression:"form.terminal"}},e._l(e.terminalOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{offset:1,span:10}},[a("el-form-item",{attrs:{label:"对比分支",prop:"compareBranch"}},[a("el-input",{attrs:{placeholder:"请输入测试对比分支"},model:{value:e.form.compareBranch,callback:function(t){e.$set(e.form,"compareBranch",t)},expression:"form.compareBranch"}})],1)],1),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"git地址",prop:"projectGit"}},[a("el-input",{attrs:{placeholder:"请输入git地址"},model:{value:e.form.projectGit,callback:function(t){e.$set(e.form,"projectGit",t)},expression:"form.projectGit"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{offset:1}},[a("el-form-item",{attrs:{label:"流水线步骤"}},[[a("el-checkbox",{attrs:{disabled:""},model:{value:e.checked1,callback:function(t){e.checked1=t},expression:"checked1"}},[e._v("服务端发版")]),a("el-checkbox",{model:{value:e.checked2,callback:function(t){e.checked2=t},expression:"checked2"}},[e._v("覆盖率收集")])]],2)],1)],1),a("el-row",[a("el-col",{attrs:{offset:1,span:20}},[a("el-form-item",{attrs:{label:"通知群",prop:"notifyChatIds"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",multiple:"",placeholder:"请选择需要通知的群"},model:{value:e.form.notifyChatIds,callback:function(t){e.$set(e.form,"notifyChatIds",t)},expression:"form.notifyChatIds"}},e._l(e.chatOptions,(function(e){return a("el-option",{key:e.chatId,attrs:{label:e.name,value:e.chatId}})})),1)],1)],1)],1)],1),a("template",{slot:"footer"},[a("dialog-footer",{on:{cancel:function(t){e.dialogFormVisible=!1},confirm:e.savePipeline}})],1)],2)},r=[]},dbac:function(e,t,a){"use strict";a.r(t);var n=a("62b1"),r=a("52e3");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);a("768a"),a("5bcc");var i=a("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,"5771784a",null);t["default"]=s.exports},dbc4:function(e,t,a){"use strict";a.r(t);var n=a("113e"),r=a("7bb5");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);a("cd2c");var i=a("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,"73368e2b",null);t["default"]=s.exports},dbf7:function(e,t,a){},dc28:function(e,t,a){},dc37:function(e,t,a){},dc5d:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[e.asideHidden?e._e():a("el-aside",[a("node-tree",{ref:"nodeTree",attrs:{"current-node":e.selectNode,disabled:void 0===e.selectNode.id,draggable:e.nodeTreeDraggable,treeNodes:e.treeNodes,type:e.operationEnum.VIEW},on:{nodeSelectEvent:e.handleSelect,refresh:e.reloadMenu}})],1),a("el-main",{class:e.asideHidden?"main-class":""},[a("test-case-plan-list",{ref:"testCasePlanList",attrs:{"select-node":e.selectNode,"select-parent-nodes":e.selectParentNodes,"tree-nodes":e.treeNodes},on:{refresh:e.refresh,testCaseEdit:e.editTestCase}})],1),a("hidden-button",{on:{click:e.handleClick}})],1)},r=[]},dc95:function(e,t,a){"use strict";a("aeab")},dcc1:function(e,t,a){},dd0d:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",[e.value===e.reviewStatusEnum.INIT?a("el-tag",{attrs:{effect:"dark",size:"mini",type:"info"}},[e._v(" "+e._s(e.reviewStatusType[e.value])+" ")]):e.value===e.reviewStatusEnum.IN_PROGRESS?a("el-tag",{attrs:{effect:"dark",size:"mini",type:"primary"}},[e._v(" "+e._s(e.reviewStatusType[e.value])+" ")]):e.value===e.reviewStatusEnum.DONE?a("el-tag",{attrs:{effect:"dark",size:"mini",type:"success"}},[e._v(" "+e._s(e.reviewStatusType[e.value])+" ")]):e.value===e.reviewStatusEnum.REJECT?a("el-tag",{attrs:{effect:"dark",size:"mini",type:"danger"}},[e._v(" "+e._s(e.reviewStatusType[e.value])+" ")]):e._e()],1)},r=[]},dd17:function(e,t,a){},dd62:function(e,t,a){"use strict";a.r(t);var n=a("e755"),r=a("b850");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);a("ad4b"),a("dfd4");var i=a("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,"1c48f592",null);t["default"]=s.exports},de28:function(e,t,a){"use strict";a.r(t);var n=a("c988"),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=r.a},dee4:function(e,t){t.install=function(e){e.prototype.sureView=function(e,t,a){this.$confirm('此操作将永久删除<strong style="color: red;">'+a+"</strong>,是否继续?","提示",{dangerouslyUseHTMLString:!0,confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e(t)}))},e.prototype.messageShow=function(e,t){return 0===t.data["status"]?(e.$message({showClose:!0,message:t.data["msg"],type:"warning"}),!1):(t.data["msg"]&&e.$message({showClose:!0,message:t.data["msg"],type:"success"}),!0)}}},df34:function(e,t,a){"use strict";a.r(t);var n=a("7431"),r=a("4430");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);a("d394");var i=a("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,"e16d1f82",null);t["default"]=s.exports},dfc7:function(e,t,a){"use strict";a("c8ac")},dfd4:function(e,t,a){"use strict";a("8199")},e1d9:function(e,t,a){"use strict";a("e7a6")},e222:function(e,t){!function(e){var t,a='<svg><symbol id="icon-dakaisanshu" viewBox="0 0 1024 1024"><path d="M203.009 859.615c-21.321 0-38.623-20.085-38.623-43.49v-608.248c0-23.947 17.921-43.49 38.623-43.49 21.321 0 38.623 20.085 38.623 43.49v608.248c0 23.947-17.921 43.49-38.623 43.49zM512 859.615c-21.321 0-38.623-20.085-38.623-43.49v-608.248c0-23.947 17.921-43.49 38.623-43.49 21.321 0 38.623 20.085 38.623 43.49v608.248c0 23.947-17.921 43.49-38.623 43.49zM820.991 859.615c-21.321 0-38.623-20.085-38.623-43.49v-608.248c0-23.947 17.921-43.49 38.623-43.49 21.321 0 38.623 20.085 38.623 43.49v608.248c0 23.947-17.921 43.49-38.623 43.49z" fill="#4A4A4A" ></path></symbol></svg>',n=(t=document.getElementsByTagName("script"))[t.length-1].getAttribute("data-injectcss");if(n&&!e.__iconfont__svg__cssinject__){e.__iconfont__svg__cssinject__=!0;try{document.write("<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>")}catch(t){console&&console.log(t)}}!function(t){if(document.addEventListener)if(~["complete","loaded","interactive"].indexOf(document.readyState))setTimeout(t,0);else{var a=function e(){document.removeEventListener("DOMContentLoaded",e,!1),t()};document.addEventListener("DOMContentLoaded",a,!1)}else document.attachEvent&&(n=t,r=e.document,o=!1,i=function(){o||(o=!0,n())},(s=function(){try{r.documentElement.doScroll("left")}catch(t){return void setTimeout(s,50)}i()})(),r.onreadystatechange=function(){"complete"==r.readyState&&(r.onreadystatechange=null,i())});var n,r,o,i,s}((function(){var e,t,n,r,o,i;(e=document.createElement("div")).innerHTML=a,a=null,(t=e.getElementsByTagName("svg")[0])&&(t.setAttribute("aria-hidden","true"),t.style.position="absolute",t.style.width=0,t.style.height=0,t.style.overflow="hidden",n=t,(r=document.body).firstChild?(o=n,(i=r.firstChild).parentNode.insertBefore(o,i)):r.appendChild(n))}))}(window)},e225:function(e,t,a){"use strict";a("8963")},e244:function(e,t,a){"use strict";a("7eac")},e27b:function(e,t,a){},e280:function(e,t,a){"use strict";a.r(t);var n=a("9f26"),r=a("16e1");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);a("55970"),a("8118");var i=a("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,"646f58d8",null);t["default"]=s.exports},e2b4:function(e,t,a){"use strict";a.r(t);var n=a("6afb"),r=a("b1ac");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);a("1f5e"),a("5b36");var i=a("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,"7e28cf65",null);t["default"]=s.exports},e3c2:function(e,t,a){},e42c:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("table-search-component",{attrs:{component:e.component},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",e._b({attrs:{placeholder:"请输入内容",size:"small"},model:{value:t.component.value,callback:function(a){e.$set(t.component,"value",a)},expression:"scope.component.value"}},"el-input",e.props,!1))]}}]),model:{value:e.component.operator.value,callback:function(t){e.$set(e.component.operator,"value",t)},expression:"component.operator.value"}})},r=[]},e4b0:function(e,t,a){"use strict";a("b0c0"),a("498a");var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=a("365c"),o=n(a("5ec0")),i=a("b889");t.default={components:{DialogFooter:o.default},data:function(){return{operationEnum:i.operationEnum,name:"NodeEdit",form:{name:""},rules:{name:[{required:!0,message:"请输入名称",trigger:"blur"},{max:30,message:"长度必须小于30",trigger:"blur"}]},type:"",node:{},dialogFormVisible:!1}},props:{treeNodes:Array,currentProject:Object},methods:{open:function(e,t){this.type=e,this.node=t,e===i.operationEnum.EDIT?this.form.name=this.node.name:this.form.name="",this.dialogFormVisible=!0},saveNode:function(){var e=this;this.$refs.nodeForm.validate((function(t){if(!t)return!1;e.currentProject.id?""!==e.form.name.trim()?e.buildParam():e.$message.warning("请输入名称"):e.$message.warning("暂无项目，请先创建项目")}))},buildParam:function(){var e=this,t={name:this.form.name,projId:this.currentProject.id};this.type===i.operationEnum.ADD?(this.node&&(t=Object.assign({parent:this.node.id},t)),r.testCaseApi.createTestCaseModules(t).then((function(){e.$emit("refreshNode"),e.close()}))):this.type===i.operationEnum.EDIT&&r.testCaseApi.updateTestCaseModules(this.node.id,t).then((function(){e.$emit("refreshNode"),e.close()}))},close:function(){this.dialogFormVisible=!1}}}},e551:function(e,t,a){"use strict";var n,r,o,i,s,l=a("9523").default;Object.defineProperty(t,"__esModule",{value:!0}),t.caseBatchReviewType=t.caseBatchReviewEnum=t.reviewCaseStatusType=t.reviewCaseStatusEnum=t.reviewStatusType=t.reviewStatusEnum=void 0,function(e){e["INIT"]="init",e["IN_PROGRESS"]="in_progress",e["DONE"]="done",e["REJECT"]="reject"}(o=t.reviewStatusEnum||(t.reviewStatusEnum={})),t.reviewStatusType=(n={},l(n,o.INIT,"未开始"),l(n,o.IN_PROGRESS,"进行中"),l(n,o.DONE,"已完成"),l(n,o.REJECT,"驳回"),n),function(e){e["INIT"]="init",e["REJECT"]="reject",e["PASS"]="pass"}(i=t.reviewCaseStatusEnum||(t.reviewCaseStatusEnum={})),t.reviewCaseStatusType=(r={},l(r,i.INIT,"未开始"),l(r,i.REJECT,"未通过"),l(r,i.PASS,"通过"),r),function(e){e["STATUS"]="status"}(s=t.caseBatchReviewEnum||(t.caseBatchReviewEnum={})),t.caseBatchReviewType=l({},s.STATUS,"评审状态")},e5a8:function(e,t,a){},e681:function(e,t,a){},e6e4:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[e.asideHidden?e._e():a("el-aside",[a("select-menu",{attrs:{"current-data":e.currentProject,data:e.projects,title:"项目"},on:{dataChange:e.changeProject}}),a("node-tree",{ref:"nodeTree",attrs:{"current-node":e.selectNode,"current-project":e.currentProject,disabled:void 0===e.currentProject.id,draggable:e.nodeTreeDraggable,"tree-nodes":e.treeNodes,type:e.operationEnum.EDIT},on:{"update:currentNode":function(t){e.selectNode=t},"update:current-node":function(t){e.selectNode=t},nodeSelectEvent:e.nodeChange,refreshNode:e.refreshNode,refreshTable:e.refreshTable}})],1),a("el-main",{class:e.asideHidden?"main-class":""},[a("test-case-list",{ref:"testCaseList",attrs:{condition:e.condition,"current-project":e.currentProject,"read-only":e.readOnly,"select-node":e.selectNode,"select-parent-nodes":e.selectParentNodes,"tree-nodes":e.treeNodes},on:{"update:condition":function(t){e.condition=t},"update:readOnly":function(t){e.readOnly=t},"update:read-only":function(t){e.readOnly=t},refresh:e.refreshTable}})],1),a("test-case-edit",{ref:"testCaseEditDialog",attrs:{condition:e.condition,"current-project":e.currentProject,"read-only":e.readOnly,"select-node":e.selectNode,"tree-nodes":e.treeNodes},on:{refresh:e.refreshTable}}),a("test-case-import",{attrs:{"current-project":e.currentProject,"select-node":e.selectNode},on:{refresh:e.refreshTable}}),a("hidden-button",{on:{click:e.handleClick}})],1)},r=[]},e73b:function(e,t,a){e.exports={fontFamily:"PingFangSC-Regular,PingFang SC,sans-serif",asideWidth:"180px",asideCollapseWidth:"62px",hiddenButtonPosition:"327px",unfoldButtonPosition:"445px",formLabelWidth:"120px",formContentWidth:"205px",table1BtnWidth:"50px",table2BtnWidth:"90px",table3BtnWidth:"130px",table4BtnWidth:"170px",table5BtnWidth:"210px",tableTimeWidth:"140px"}},e755:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",[a("template",{slot:"header"},[a("table-header",{ref:"headerTable",attrs:{condition:e.condition,placeholder:"请输入行为用户UID",inputText:e.inputText,search_text:e.search_text,showCreate:!1,showSearch:""===e.configId,projDefaultSelect:e.projDefaultSelect,endVersion:e.endVersion,endVersionSelect:e.endVersionSelect,startVersion:e.startVersion,startVersionSelect:e.startVersionSelect,projectList:e.projectList,status:e.status,statusSelect:e.statusSelect,getProjectList:e.getProjectList,getEnumVersionList:e.getEnumVersionList,envSelect:e.envSelect,envList:e.envList,checkEvent:e.checkEvent},on:{updateSelectProjValue:function(t){return e.updateSelectProjValue(t)},getEventListValue:function(t){return e.getEventListValue(t)},checkEvent:function(t){return e.checkEvent(t)}}},[a("template",{slot:"title"},[a("div",[e._v("数据埋点")])])],2)],1),a("el-header",[a("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"end"}},[a("el-col",{attrs:{span:4}},[a("el-input",{attrs:{placeholder:"请输入行为用户的UID",size:"mini",clearable:""},model:{value:e.inputText,callback:function(t){e.inputText=t},expression:"inputText"}})],1),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{plain:""},on:{click:function(t){return e.operateEvent(t)}}},[e._v("批量操作")])],1)],1)],1),a("el-table",{attrs:{data:e.tableData,size:"medium"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection","default-sort":{prop:"id",order:"descending"},width:"50"},model:{value:e.multipleSelection,callback:function(t){e.multipleSelection=t},expression:"multipleSelection"}}),a("el-table-column",{attrs:{prop:"eventKey",label:"事件ID"}}),a("el-table-column",{attrs:{prop:"status",label:"事件状态",formatter:e.statusFormat}}),a("el-table-column",{attrs:{prop:"createUser",label:"事件创建人"}}),a("el-table-column",{attrs:{prop:"createdTime",label:"事件创建时间",formatter:e.dateFormat}}),a("el-table-column",{attrs:{prop:"startVersion",label:"起始版本"}}),a("el-table-column",{attrs:{prop:"endversion",label:"结束版本"}})],1),a("el-dialog",{attrs:{title:"数据埋点检查(3min)",visible:e.diaglogVisibel,width:"60%"},on:{"update:visible":function(t){e.diaglogVisibel=t}}},[a("el-table",{staticClass:"tableBox",attrs:{data:e.checkData,size:"medium",stripe:"","row-class-name":"warning-row","default-sort":{prop:"eventKey",order:"descending"},border:"true"}},[a("el-table-column",{attrs:{prop:"eventKey",label:"事件ID",sortable:"",width:"100"}}),a("el-table-column",{attrs:{prop:"name",label:"名称"}}),a("el-table-column",{attrs:{prop:"eventDesc",label:"事件备注","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"priority",label:"级别"}}),a("el-table-column",{attrs:{prop:"eventEventProper",label:"事件属性Key",width:"200"}}),a("el-table-column",{attrs:{prop:"eventEventProperValue",label:"埋点属性值"}}),a("el-table-column",{attrs:{prop:"eventTime",label:"埋点触发时间",width:"100"}}),a("el-table-column",{attrs:{prop:"result",label:"事件是否埋点",sortable:""}}),a("el-table-column",{attrs:{prop:"eventEventProperResult",label:"属性是否关联",sortable:""}}),a("el-table-column",{attrs:{prop:"eventUserAllPropsCK",width:"100",label:"用户属性记录",resizable:""}}),a("el-table-column",{attrs:{prop:"eventEventAllPropsCK",width:"500",label:"事件属性记录",resizable:""}})],1)],1),a("table-pagination",{attrs:{change:e.getPageEventListValue,"current-page":e.currentPage,"page-size":e.pageSize,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t}}})],2)},r=[]},e7a6:function(e,t,a){},e877:function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=a("7a93"),o=n(a("ed52")),i=n(a("753e"));t.default=[{path:"/dashboard",name:r.PathName.Dashboard,component:o.default,meta:{isUsingSocketInfo:!0}},{path:"/password",name:r.PathName.SelfPassword,component:i.default}]},e9bc:function(e,t,a){"use strict";a.r(t);var n=a("a3d4"),r=a("12e1");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);var i=a("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,"34428b94",null);t["default"]=s.exports},ea9b:function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(a("365c")),o="/v1/";t.default={doLogin:function(e){return r.default({method:"post",url:"".concat(o,"user/login"),data:e})},resetPassword:function(e,t){return r.default({method:"post",url:"".concat(o,"user/").concat(e,"/change-password"),data:t})},getUserBySearch:function(e){return r.default({method:"get",url:"".concat(o,"user"),params:e})},getUserPermissions:function(e){return r.default({method:"get",url:"".concat(o,"user/permissions"),params:e})},authToken:function(e){return r.default({method:"post",url:"".concat(o,"user/auth_token"),data:e})},ssoLogout:function(e){return r.default({method:"post",url:"".concat(o,"user/logout"),data:e})}}},ebd2:function(e,t,a){"use strict";a.r(t);var n=a("db78"),r=a("21bd");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);var i=a("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,"6a1d9c1c",null);t["default"]=s.exports},ec0b:function(e,t,a){"use strict";a("b0c0"),a("ac1f"),a("5319"),a("7db0");var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=a("365c"),o=n(a("e73b")),i=n(a("5ec0")),s=a("00e0"),l=a("2dc3"),c=a("2ef0");t.default={name:"PackagingTest",components:{DialogFooter:i.default},data:function(){return{dialogFormVisible:!1,planInstanceStatusEnum:s.planInstanceStatusEnum,form:l.packagingTestForm,rules:l.packagingTestRules,operation:"",ownerOptions:[],projectOptions:[],epicOptions:[],planOptions:[],pickerOptionsStart:{},testPlan:l.planForm}},computed:{formLabelWidth:function(){return o.default["formLabelWidth"]}},mounted:function(){var e=this;this.$eventBus.$on("packagingTestSubmit",(function(t){e.testPlan=t,console.log(t),e.open(t)}))},methods:{open:function(e){var t=this;this.dialogFormVisible=!0,this.$nextTick((function(){if(t.$refs.planForm&&t.$refs.planForm.resetFields(),e.approvalInstance){var a=c.cloneDeep(JSON.parse(e.approvalInstance));Object.assign(t.form,a)}else t.form.name=e.name,t.form.result=window.location.href.replace("list",e.id);t.form.id=e.id,t.form.status=e.instanceStatus,t.form.rejectCount=e.rejectCount,t.form.ownerEmail=t.$store.state.users.users.find((function(t){return t.username==e.owner})).email}))},buildParams:function(){var e={name:this.form.name,summary:this.form.summary,influence:this.form.influence,server:this.form.server,result:this.form.result,postpone:this.form.postpone,reason:this.form.reason,rejectCount:this.form.rejectCount,userEmail:this.$store.state.login.email,ownerEmail:this.form.ownerEmail,jiraProjects:this.testPlan.projIds};return e},approvalSubmit:function(){var e=this;this.$refs.planForm.validate((function(t){if(!t)return!1;var a=e.buildParams();r.testPlanApi.createPackagingTestApproval(e.form.id,a).then((function(){e.$emit("refresh")})),e.dialogFormVisible=!1}))}}}},ec60:function(e,t,a){"use strict";var n=a("278c").default;a("d81d"),a("4fad"),a("159b"),a("b0c0"),a("7db0");var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=a("365c"),i=r(a("e73b")),s=r(a("6d22")),l=r(a("df34")),c=r(a("ba07")),u=a("b74e"),d=a("93f3"),p=a("7a93"),f=a("e551"),m=r(a("18ae")),h=Object.entries(f.reviewStatusType).map((function(e){var t=n(e,2),a=t[0],r=t[1];return{text:r,value:a}}));t.default={name:"TestCaseReviewList",components:{ReviewStatusTableItem:m.default,TableOperator:c.default,TablePagination:s.default,TableHeader:l.default},data:function(){return{reviewStatusOptions:h,tableData:[],projects:this.projects,users:this.users,currentPage:1,pageSize:d.PAGINATION_SIZE.LARGE,total:0,caseFilter:{}}},props:{currentProject:Object,treeNodes:Array,selectNode:Object,selectParentNodes:Array,condition:Object},computed:{loading:function(){return this.$store.state.loading},table2BtnWidth:function(){return i.default["table2BtnWidth"]},tableTimeWidth:function(){return i.default["tableTimeWidth"]}},inject:["projects","users"],mounted:function(){this.initTableData()},methods:{setSelectOptions:function(){this.setReviewerOptions(),this.$emit("update:condition",this.condition)},initTableData:function(){this.setSelectOptions(),this.getData()},getData:function(e){var t=this,a={name:e,offset:this.pageSize*(this.currentPage-1),limit:this.pageSize};this.caseFilter=sessionStorage.getItem(this.$route.path),this.caseFilter=this.caseFilter?JSON.parse(this.caseFilter):{},"{}"!==JSON.stringify(this.caseFilter)&&(Object.assign(a,this.caseFilter),this.$refs.table.columns.forEach((function(e){e.filteredValue=t.caseFilter[e.columnKey]}))),o.testReviewApi.getTestCaseReviewList(a).then((function(e){var a=e.data;t.total=a.total,t.tableData=a.data,t.tableData.forEach((function(e){e.projName=t.projects.find((function(t){return t.key===e.projKey})).name,e.reviewerList=e.reviewerList||[],e.createdAt=u.formatTime(e.createdAt),e.targetEnd=u.formatTime(e.targetEnd)}))}))},filter:function(e){this.currentPage=1,u._filter(e,this.caseFilter,this.$route.path),this.initTableData()},handleSearch:function(e){this.getData(e)},handleEdit:function(e){this.$eventBus.$emit("caseReviewEdit",e)},setReviewerOptions:function(){this.condition.reviewerOptions=this.users},handleRun:function(e){this.$router.push({name:p.PathName.TestTrackCaseReviewView,params:{reviewId:e.id}})}}}},ec8b:function(e,t,a){"use strict";a("b0c0"),a("159b"),a("7db0"),a("b64b"),Object.defineProperty(t,"__esModule",{value:!0}),t.buildUploadFileParams=t.getModuleByTreeId=t.getModuleOptions=t.buildNodePath=void 0;var n=a("6ca1a");function r(e,t,a){if(t.id=e.id,t.path=t.path+"/"+e.name,a.push(t),e.children)for(var n=0;n<e.children.length;n++)r(e.children[n],{id:"",path:t.path},a)}function o(e){var t=[];return e.forEach((function(e){r(e,{id:"",path:""},t)})),sessionStorage.setItem(JSON.stringify(e),JSON.stringify(t)),t}function i(e,t){var a,n=sessionStorage.getItem(JSON.stringify(e));a=null===n?o(e):JSON.parse(n);var r=a.find((function(e){return e.id===t}));return r||{id:"",path:"-"}}function s(e){var t=new FormData;return Object.keys(e).forEach((function(a){t.append(n.decamelize(a),e[a])})),t}t.buildNodePath=r,t.getModuleOptions=o,t.getModuleByTreeId=i,t.buildUploadFileParams=s},ed2c:function(e,t,a){},ed52:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-header",{staticClass:"dashboard-header",attrs:{height:"40px"}},[a("el-row",[a("el-col",{staticClass:"dashboard-header-col"},[a("el-dropdown",{attrs:{placement:""},on:{command:e.change_projid}},[a("span",{staticClass:"el-dropdown-link"},[e._v(" "+e._s(e.activeDrop)+" "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"}),a("el-dropdown-menu",[a("el-dropdown-item",{attrs:{command:"-1"}},[e._v("全部项目")]),e._l(e.projects,(function(t,n){return a("el-dropdown-item",{key:n,attrs:{command:n}},[e._v(" "+e._s(t.name)+" ")])}))],2)],1)]),a("el-date-picker",{staticStyle:{"margin-left":"20px"},attrs:{"default-time":["00:00:00","23:59:59"],align:"right","end-placeholder":"结束日期","range-separator":"至","start-placeholder":"开始日期",type:"daterange","unlink-panels":"","value-format":"yyyy-MM-dd"},on:{change:e.getBugSummary},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)],1)],1),a("div",{staticStyle:{margin:"20px 0"}},[a("el-card",{staticStyle:{padding:"16px",border:"none"},attrs:{shadow:"never"}},[a("el-row",e._l(e.bug_summary,(function(t,n){return a("el-col",{key:n,attrs:{span:8}},[a("div",{staticClass:"col-title-style"},[a("span",[e._v(e._s(t.name))])]),a("div",{staticClass:"col-data-style"},[a("span",[e._v(e._s(t.data))])]),n>0?a("div",{staticClass:"yBar"}):e._e()])})),1)],1)],1)],1)},r=[],o=(a("b0c0"),a("6e00")),i=a.n(o),s={name:"dashboard",data:function(){return{value:[],projId:"",activeDrop:"全部项目",bug_summary:[]}},computed:{projects:function(){return this.$store.state.jira.projects},timeDefault:function(){var e=new Date;e.setTime(e.getTime()-864e5);var t=e.getFullYear(),a=e.getMonth()+1>9?e.getMonth()+1:"0"+(e.getMonth()+1),n=e.getDate()>9?e.getDate():"0"+e.getDate(),r=t+"-"+a+"-"+n,o=new Date;o.setTime(o.getTime()-2592e6);var i=o.getFullYear(),s=o.getMonth()+1>9?o.getMonth()+1:"0"+(o.getMonth()+1),l=o.getDate()>9?o.getDate():"0"+o.getDate(),c=i+"-"+s+"-"+l;return[c,r]}},methods:{change_projid:function(e){e<0?(this.projId="",this.activeDrop="全部项目"):(this.projId=this.projects[e].id,this.activeDrop=this.projects[e].name),this.getBugSummary()},getBugSummary:function(){var e=this;i.a.getBugSummary({start_date:this.value[0],end_date:this.value[1],projId:this.projId}).then((function(t){e.bug_summary=t.data}))}},mounted:function(){this.value=this.timeDefault,this.getBugSummary()}},l=s,c=(a("669d"),a("2877")),u=Object(c["a"])(l,n,r,!1,null,"246fad40",null);t["default"]=u.exports},ed61:function(e,t,a){"use strict";a("7564")},edc6:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("00e0");t.default={name:"PlanTestTableItem",props:{value:{type:String},isDotHidden:{type:Boolean}},data:function(){return{planInstanceStatusEnum:n.planInstanceStatusEnum,planInstanceStatusType:n.planInstanceStatusType}},methods:{handleChange:function(e){this.$emit("approvalStatus",e),this.$emit("handleChange")}}}},ee71:function(e,t,a){"use strict";a.r(t);var n=a("3772"),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=r.a},ee79:function(e,t,a){},ef57:function(e,t,a){"use strict";a.r(t);var n=a("ace0"),r=a("b81e");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);var i=a("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,"a6b57882",null);t["default"]=s.exports},f057:function(e,t,a){"use strict";a.r(t);var n=a("a522"),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=r.a},f0b0:function(e,t,a){"use strict";var n=a("c973").default,r=a("278c").default;a("96cf"),a("d81d"),a("4fad"),a("d3b7"),a("6062"),a("3ca3"),a("ddb0"),a("a630"),a("159b"),a("b0c0"),a("7db0");var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=a("365c"),s=o(a("e73b")),l=o(a("6d22")),c=o(a("df34")),u=o(a("ba07")),d=a("b74e"),p=a("93f3"),f=a("7a93"),m=a("b889"),h=a("00e0"),b=o(a("5fd9")),g=o(a("f643")),v=o(a("25b2")),y=o(a("be65")),_=o(a("6535")),S=o(a("48e0")),T=o(a("63ac")),w=a("ec8b"),x=o(a("e280")),E=o(a("2797")),C=Object.entries(m.executionType).map((function(e){var t=r(e,2),a=t[0],n=t[1];return{text:n,value:a}})),P=Object.entries(m.priorityType).map((function(e){var t=r(e,2),a=t[0],n=t[1];return{text:n,value:a}})),k=Object.entries(h.planResultType).map((function(e){var t=r(e,2),a=t[0],n=t[1];return{text:n,value:a}})),O=Object.entries(m.caseTypeType).map((function(e){var t=r(e,2),a=t[0],n=t[1];return{text:n,value:a}})),I=Object.entries(h.caseBatchEditType).map((function(e){var t=r(e,2),a=t[0],n=t[1];return{text:n,value:a}}));t.default={name:"TestCasePlanList",components:{BatchEdit:b.default,TestCasePlanRun:x.default,ExecutionTypeTableItem:_.default,CaseTypeTableItem:y.default,PlanCaseStatusTableItem:S.default,PriorityTableItem:T.default,ShowMoreBtn:g.default,NodeBreadcrumb:v.default,TableOperator:u.default,TablePagination:l.default,TableHeader:c.default,TestCaseRelevance:E.default},data:function(){return{executionOptions:C,priorityOptions:P,planResultOptions:k,caseTypeOptions:O,caseBatchEditOptions:I,planStageEnum:h.planStageEnum,users:this.users,projects:this.projects,condition:{},buttons:[{name:"批量编辑用例",handleClick:this.handleBatchEdit},{name:"批量取消关联",handleClick:this.handleBatchUnRelate}],allCase:!1,tableData:[],selectRows:new Set,currentPage:1,pageSize:p.PAGINATION_SIZE.LARGE,total:0,caseFilter:{},batchEditValueArr:{result:k,executor:[]},planStage:"",isQa:!1}},props:{treeNodes:Array,selectNode:Object,selectParentNodes:Array},inject:["projects","users"],computed:{planId:function(){return this.$route.params.planId},projId:function(){return this.$route.query.projId},treeId:function(){return this.$route.query.treeId},caseIds:function(){return Array.from(this.selectRows).map((function(e){return e.caseId}))},table2BtnWidth:function(){return s.default["table2BtnWidth"]},tableTimeWidth:function(){return s.default["tableTimeWidth"]}},watch:{$route:function(){this.initTableData()},treeNodes:function(){this.initTableData()}},mounted:function(){this.getPlanDetail()},methods:{setSelectOptions:function(){this.setPriorityOptions(),this.setProjectOptions(),this.setCaseTypeOptions(),this.setExecutorOptions()},initTableData:function(){this.setSelectOptions(),this.getData()},getData:function(e){var t=this;return n(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n={offset:t.pageSize*(t.currentPage-1),limit:t.pageSize,name:e,treeId:t.treeId,projId:t.treeId?void 0:t.projId},t.caseFilter=sessionStorage.getItem(t.$route.path),t.caseFilter=t.caseFilter?JSON.parse(t.caseFilter):{},"{}"!==JSON.stringify(t.caseFilter)&&(Object.assign(n,t.caseFilter),t.$refs.table.columns.forEach((function(e){e.filteredValue=t.caseFilter[e.columnKey]}))),a.next=6,i.testPlanApi.getTestCasePlanCaseList(t.planId,n).then((function(e){var a=e.data;t.total=a.total,t.tableData=a.data,t.tableData.forEach((function(e){e.treePath=w.getModuleByTreeId(t.treeNodes,e.treeId).path,e.updatedAt=d.formatTime(e.updatedAt),e.projName=t.projects.find((function(t){return t.id===e.projId})).name,e.caseDetail.steps.forEach((function(e){e.actualStatus=m.stepStatusEnum.PASS})),e.stepActualStatus.forEach((function(t,a){e.caseDetail.steps[a].actualStatus=t||m.stepStatusEnum.PASS})),e.stepActualResults.forEach((function(t,a){e.caseDetail.steps[a].actualResult=t}))}))}));case 6:case"end":return a.stop()}}),a)})))()},getPlanDetail:function(){var e=this;i.testPlanApi.getTestCasePlanDetail(this.planId).then((function(t){e.planStage=t.stage}))},handleSwitch:function(){Object.assign(this.caseFilter,{executor:this.allCase?void 0:this.$store.state.login.username}),this.getData(),this.allCase=!this.allCase},handleSearch:function(e){this.currentPage=1,this.getData(e)},handleRunTest:function(e){e||(e=this.tableData[0]),this.$eventBus.$emit("testPlanCaseRun",e,this.tableData,this)},handleSelectAll:function(e){var t=this;e.length>0?(this.tableData.forEach((function(e){t.$set(e,"isDisabled",!1)})),this.selectRows=new Set(e)):(this.selectRows.clear(),this.tableData.forEach((function(e){t.$set(e,"isDisabled",!0)})))},handleSelectionChange:function(e,t){-1===e.indexOf(t)?this.$set(t,"isDisabled",!0):this.$set(t,"isDisabled",!1),this.selectRows=new Set(e)},handleRelateCase:function(){this.$refs.testCaseRelevance.open(this.condition,this.projId)},handleBatchEdit:function(){this.$refs.batchEdit.open()},handleBatchUnRelate:function(){this.handleDelete("",!0)},batchEdit:function(e){var t=this,a={caseIds:this.caseIds,planId:this.planId,type:m.caseUpdateTypeEnum.UPDATE_PLAN_STATUS};e.type===h.caseBatchEditEnum.EXECUTOR?a=Object.assign(a,{type:m.caseUpdateTypeEnum.UPDATE_PLAN_EXECUTOR,executor:e.value}):e.type===h.caseBatchEditEnum.RESULT&&(a=this.isQa?Object.assign(a,{type:m.caseUpdateTypeEnum.UPDATE_PLAN_SMOKE_CHECK,smokeCheck:e.value}):Object.assign(a,{status:e.value})),i.testCaseApi.updateTestCaseBatch(a).then((function(){t.refreshTable()}))},refreshTable:function(){this.$emit("refresh")},handleDelete:function(e,t){var a=this,n=e||t?"确认取消关联测试用例?":"确认取消全部关联测试用例?";this.$alert(n,"",{confirmButtonText:"确定",showCancelButton:!0,cancelButtonText:"取消",callback:function(n){if("confirm"===n){var r={operation:h.planOperationEnum.REMOVE,caseIds:t?a.caseIds:e?[e.caseId]:[],projId:a.projId,treeId:a.treeId};i.testPlanApi.updateTestCasePlanCaseList(a.planId,r).then((function(){a.refreshTable()}))}}})},filter:function(e){this.currentPage=1,d._filter(e,this.caseFilter,this.$route.path),this.initTableData()},setReviewerOptions:function(){this.condition.reviewerOptions=this.users},setProjectOptions:function(){this.condition.projectOptions=this.treeNodes},setPriorityOptions:function(){this.condition.priorityOptions=this.priorityOptions},setCaseTypeOptions:function(){this.condition.caseTypeOptions=this.caseTypeOptions},setExecutorOptions:function(){this.batchEditValueArr.executor=this.users},handleRowClick:function(e){this.$router.push({name:f.PathName.TestTrackCaseReviewView,params:{reviewId:e.id}})}}}},f0d0:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-select",{staticStyle:{width:"100%","padding-right":"5px"},attrs:{filterable:""},on:{change:e.getAppIntlItems},model:{value:e.appId,callback:function(t){e.appId=t},expression:"appId"}},e._l(e.appOptions,(function(e){return a("el-option",{key:e.id,attrs:{value:e.appId,label:e.appId}})})),1)],1),a("el-col",{attrs:{span:3}},[a("el-button",{staticStyle:{float:"left"},attrs:{type:"primary",icon:"el-icon-refresh",round:""},on:{click:e.getAppIntlItems}},[e._v("刷新配置项")])],1)],1)],1),e._l(e.tableData,(function(t,n){return a("div",{key:n,staticStyle:{"margin-top":"15px"},attrs:{index:n,space:t}},[a("el-card",[a("div",{staticClass:"title",attrs:{slot:"header"},slot:"header"},[a("span",[e._v(e._s(t.namespace))]),t.items.length>0&&t.editable?a("el-button",{staticStyle:{float:"right",padding:"3px"},attrs:{icon:"el-icon-s-promotion",type:"success"},on:{click:function(a){return e.openReleaseIntl(t.namespace)}}},[e._v("发布")]):e._e()],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.items,border:""}},[a("el-table-column",{attrs:{label:"发布状态",prop:"isModified",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:t.row.isModified?"warning":"info",effect:"dark"}},[e._v(e._s(t.row.isModified?"未发布":"已发布"))])]}}],null,!0)}),a("el-table-column",{attrs:{label:"key",prop:"key",width:"180"}}),a("el-table-column",{attrs:{label:"value",prop:"value"}}),a("el-table-column",{attrs:{label:"备注",prop:"comment",width:"180"}}),a("el-table-column",{attrs:{label:"最后修改人",prop:"dataChangeLastModifiedBy",width:"180"}}),a("el-table-column",{attrs:{label:"最后修改时间",prop:"dataChangeLastModifiedTime",width:"180"}}),a("el-table-column",{attrs:{label:"操作",width:e.table1BtnWidth},scopedSlots:e._u([{key:"default",fn:function(n){return[a("table-operator",{attrs:{"show-edit":"","edit-disable":!t.editable},on:{editClick:function(a){return e.openEditIntl(n.row,t.namespace)}}})]}}],null,!0)})],1)],1)],1)})),a("el-dialog",{attrs:{"close-on-click-modal":!1,visible:e.editDialog},on:{"update:visible":function(t){e.editDialog=t}}},[a("template",{slot:"title"},[a("div",{staticStyle:{"text-align":"left"}},[a("span",{staticClass:"dialog-title"},[e._v("编辑配置项")])]),a("el-divider",{staticStyle:{width:"100%"}})],1),a("el-form",{ref:"editForm",attrs:{model:e.editForm,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"Key:",prop:"key"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{disabled:""},model:{value:e.editForm.key,callback:function(t){e.$set(e.editForm,"key",t)},expression:"editForm.key"}})],1),a("el-form-item",{attrs:{label:"Value:",prop:"value"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{type:"textarea",rows:8},model:{value:e.editForm.value,callback:function(t){e.$set(e.editForm,"value",t)},expression:"editForm.value"}})],1),a("el-form-item",{attrs:{label:"Comment:",prop:"comment"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{type:"textarea"},model:{value:e.editForm.comment,callback:function(t){e.$set(e.editForm,"comment",t)},expression:"editForm.comment"}})],1)],1),a("template",{slot:"footer"},[a("dialog-footer",{on:{cancel:function(t){e.editDialog=!1},confirm:e.editAppIntlItem}})],1)],2),a("el-dialog",{attrs:{"close-on-click-modal":!1,visible:e.releaseDialog},on:{"update:visible":function(t){e.releaseDialog=t}}},[a("template",{slot:"title"},[a("div",{staticStyle:{"text-align":"left"}},[a("span",{staticClass:"dialog-title"},[e._v("发布")]),a("span",{staticStyle:{"font-size":"14px"}},[e._v(" (只有发布过的配置才会被客户端获取到，此次发布只会作用于当前环境:FAT)")])]),a("el-divider",{staticStyle:{width:"100%"}})],1),a("el-form",{ref:"releaseForm",attrs:{model:e.releaseForm,rules:e.releaseRules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"Changes:"}},[e.changes.length>0?a("div",[a("el-table",{attrs:{data:e.changes,border:"",height:"200px"}},[a("el-table-column",{attrs:{label:"Key",prop:"key"}}),a("el-table-column",{attrs:{label:"已发布的值",prop:"oldValue"}}),a("el-table-column",{attrs:{label:"未发布的值",prop:"newValue"}}),a("el-table-column",{attrs:{label:"修改人",prop:"dataChangeLastModifiedBy"}})],1)],1):a("div",[e._v("配置没有变化")])]),a("el-form-item",{attrs:{label:"Release Name:",prop:"key"}},[a("el-input",{staticStyle:{width:"50%"},model:{value:e.releaseForm.title,callback:function(t){e.$set(e.releaseForm,"title",t)},expression:"releaseForm.title"}})],1),a("el-form-item",{attrs:{label:"Comment:",prop:"comment"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{type:"textarea"},model:{value:e.releaseForm.comment,callback:function(t){e.$set(e.releaseForm,"comment",t)},expression:"releaseForm.comment"}})],1)],1),a("template",{slot:"footer"},[a("dialog-footer",{on:{cancel:function(t){e.releaseDialog=!1},confirm:e.releaseAppIntlConfig}})],1)],2)],2)},r=[],o=(a("d3b7"),a("159b"),a("365c")),i=a("2ef0"),s=a("ba07"),l=a("5ec0"),c=a("e73b"),u=a.n(c),d={name:"apolloIntl",components:{TableOperator:s["default"],DialogFooter:l["default"]},data:function(){return{editDialog:!1,releaseDialog:!1,appId:"",changes:[],tableData:[],releaseForm:{comment:"",title:""},editForm:{key:"",value:"",comment:""},releaseRules:{title:[{required:!0,message:"请输入发布标题",trigger:"blur"}]},appOptions:[]}},computed:{table1BtnWidth:function(){return u.a["table1BtnWidth"]},loading:function(){return this.$store.state.loading}},mounted:function(){this.getAllIntlApps()},methods:{getAllIntlApps:function(){var e=this;o["dataToolApi"].getApolloIntlApps().then((function(t){e.appOptions=t.data,e.appId=e.appOptions[0].appId,e.getAppIntlItems()}))},getAppIntlItems:function(){var e=this;o["dataToolApi"].getApolloIntlAppItems(this.appId).then((function(t){e.tableData=t.data}))},openEditIntl:function(e,t){this.editForm=Object(i["cloneDeep"])(e),this.editForm["namespace"]=t,this.editDialog=!0},editAppIntlItem:function(){var e=this;o["dataToolApi"].updateApolloIntlAppItem(this.editForm,this.appId).then((function(){return e.getAppIntlItems()})).finally((function(){return e.editDialog=!1}))},openReleaseIntl:function(e){var t=this;this.changes=[];var a=(new Date).format("yyyyMMddhhmmss");this.releaseForm.title=a+"_release",this.releaseForm["namespace"]=e,this.tableData.forEach((function(a){a["namespace"]===e&&a["items"].forEach((function(e){e.isModified&&t.changes.push({key:e.key,oldValue:e.oldValue,newValue:e.newValue,dataChangeLastModifiedBy:e.dataChangeLastModifiedBy})}))})),this.releaseDialog=!0},releaseAppIntlConfig:function(){var e=this,t=this.releaseForm;t["changes"]=this.changes,o["dataToolApi"].releaseApolloIntlAppItem(t,this.appId).finally((function(){return e.releaseDialog=!1}))}}},p=d,f=(a("8681"),a("2877")),m=Object(f["a"])(p,n,r,!1,null,"3252344e",null);t["default"]=m.exports},f138:function(e,t,a){},f20d:function(e,t,a){},f232:function(e,t,a){"use strict";var n=a("cdb5"),r=a.n(n);t["default"]=r.a},f353:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"status-button"},[a("el-button",{attrs:{icon:e.status===e.planStatusEnum.INIT?"el-icon-check":"",round:"",type:"info"},on:{click:function(t){return e.setStatus(e.planStatusEnum.INIT)}}},[e._v(" "+e._s(e.planStatusType[e.planStatusEnum.INIT])+" ")]),a("el-button",{attrs:{icon:e.status===e.planStatusEnum.IN_PROGRESS?"el-icon-check":"",round:"",type:"primary"},on:{click:function(t){return e.setStatus(e.planStatusEnum.IN_PROGRESS)}}},[e._v(" "+e._s(e.planStatusType[e.planStatusEnum.IN_PROGRESS])+" ")]),a("el-button",{attrs:{icon:e.status===e.planStatusEnum.DONE?"el-icon-check":"",round:"",type:"success"},on:{click:function(t){return e.setStatus(e.planStatusEnum.DONE)}}},[e._v(" "+e._s(e.planStatusType[e.planStatusEnum.DONE])+" ")]),e.showReject?a("el-button",{attrs:{icon:e.status===e.planStatusEnum.REJECT?"el-icon-check":"",round:"",type:"danger"},on:{click:function(t){return e.setStatus(e.planStatusEnum.REJECT)}}},[e._v(" "+e._s(e.planStatusType[e.planStatusEnum.REJECT])+" ")]):e._e()],1)},r=[],o=a("00e0"),i={name:"TestPlanStatusButton",props:{status:String,showReject:{type:Boolean,default:!0}},data:function(){return{planStatusEnum:o["planStatusEnum"],planStatusType:o["planStatusType"]}},methods:{setStatus:function(e){this.$emit("statusChange",e)}}},s=i,l=(a("854f"),a("2877")),c=Object(l["a"])(s,n,r,!1,null,"18356880",null);t["default"]=c.exports},f37b:function(e,t,a){"use strict";a("3682")},f381:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-tabs",{model:{value:e.activePannel,callback:function(t){e.activePannel=t},expression:"activePannel"}},[a("el-tab-pane",{attrs:{label:"mock工具",name:"mock"}},[a("mock-switch")],1),a("el-tab-pane",{attrs:{label:"数据工具",name:"datatools"}},[a("data-tool")],1)],1)},r=[],o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-tabs",{staticClass:"tabStyle",attrs:{type:"border-card"},on:{change:e.changeTab},model:{value:e.editableTabsValue,callback:function(t){e.editableTabsValue=t},expression:"editableTabsValue"}},e._l(e.editableTabs,(function(e){return a("el-tab-pane",{key:e.scene,attrs:{label:e.scene,name:e.scene}},[a("data-tools",{attrs:{datas:e.children}})],1)})),1)},i=[],s=(a("d81d"),a("365c")),l="/v1/mock",c="/v1/dataTool",u={getAllDomainStatus:function(e){return Object(s["default"])({method:"get",url:"".concat(l,"/status"),params:e})},updateMock:function(e){return Object(s["default"])({method:"post",url:"".concat(l,"/status/update"),data:e})},getScenes:function(e){return Object(s["default"])({method:"get",url:"".concat(c,"/data/operation/query"),params:e})},preOperateData:function(e){return Object(s["default"])({method:"post",url:"".concat(c,"/data/operate"),data:e})},InterfaceOperateData:function(e){return Object(s["default"])({method:"post",url:"".concat(c,"/interface/operate"),data:e})}},d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"45%"},attrs:{"element-loading-spinner":"el-icon-loading","element-loading-text":"拼命加载中"}},[a("div",[a("el-form",{ref:"dataForm",staticStyle:{width:"100%",margin:"20px auto"},attrs:{model:e.dataForm,rules:e.dataRules,"label-position":"right","label-width":"100px"}},[a("el-form-item",{attrs:{label:"环境 :",prop:"env"}},[a("el-select",{staticClass:"dataToolFormItem",model:{value:e.dataForm.env,callback:function(t){e.$set(e.dataForm,"env",t)},expression:"dataForm.env"}},e._l(e.envs,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),a("el-form-item",{attrs:{label:"业务场景:",prop:"operation"}},[a("el-cascader",{staticClass:"dataToolFormItem",attrs:{options:e.datas,props:e.optionProps,filterable:""},on:{change:e.cleardynamicForm},model:{value:e.dataForm.operation,callback:function(t){e.$set(e.dataForm,"operation",t)},expression:"dataForm.operation"}})],1),e.showPhone?a("el-form-item",{attrs:{label:"手机号:",prop:"mobile"}},[a("el-autocomplete",{staticClass:"dataToolFormItem",attrs:{"fetch-suggestions":e.querySearch,placeholder:"请输入手机号"},model:{value:e.dataForm.mobile,callback:function(t){e.$set(e.dataForm,"mobile",t)},expression:"dataForm.mobile"}})],1):e._e(),e._l(e.dataForm.dynamicForm,(function(t,n){return a("el-form-item",{key:t.label,attrs:{label:t.label,prop:"dynamicForm."+n+".value"}},[a("el-input",{staticClass:"dataToolFormItem",attrs:{placeholder:"请输入"+t.label,type:e.dataForm.dynamicForm[n].typ,autosize:{minRows:2,maxRows:10}},model:{value:e.dataForm.dynamicForm[n].value,callback:function(t){e.$set(e.dataForm.dynamicForm[n],"value",t)},expression:"dataForm.dynamicForm[index].value"}})],1)})),e.showPhone?a("el-form-item",{attrs:{label:"更新内容:",prop:"content"}},[a("el-input",{staticClass:"dataToolFormItem",attrs:{placeholder:"若有指定字段要更新，请输入json格式字符串",type:"textarea"},model:{value:e.dataForm.content,callback:function(t){e.$set(e.dataForm,"content",t)},expression:"dataForm.content"}})],1):e._e(),a("el-form-item",{attrs:{label:"返回结果:"}},[a("div",{staticClass:"dataToolFormItem"},[e._v(e._s(e.result))])]),a("el-form-item",{staticStyle:{"text-align":"center"},attrs:{"label-width":"0"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确定")]),a("el-button",{on:{click:function(t){return e.resetForm("dataForm")}}},[e._v("重置")])],1)],2),a("el-dialog",{attrs:{title:"中台计分查询结果",width:"50%",center:"",visible:e.showLessonResult},on:{"update:visible":function(t){e.showLessonResult=t}}},[a("json-viewer",{attrs:{value:e.lessonResultData,"expand-depth":5,copyable:"",sort:""}})],1),a("el-dialog",{attrs:{visible:e.centerDialogVisible,center:"",title:"提示",width:"30%"},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[a("span",[e._v("确认要更新/删除"+e._s(e.dataForm.mobile)+"的数据吗？")]),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.centerDialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.submitScene}},[e._v("确 定")])],1)])],1)])},p=[],f=a("53ca"),m=(a("2ca0"),a("159b"),a("4de4"),a("99af"),{lessonOperateData:function(e){return console.log("lessonOperateData"),Object(s["default"])({method:"post",url:"v1/lesson/get_lesson_score",data:e})},ESSyncData:function(e){return console.log("ESSyncData"),Object(s["default"])({method:"post",url:"v1/lesson/es_sync_data",data:e})}}),h=a("2ef0"),b={name:"dataTools",props:{datas:{type:Array}},data:function(){var e=function(e,t,a){try{if(""!==t&&"object"===Object(f["a"])(JSON.parse(t)))a();else{if(""!==t&&"object"!==Object(f["a"])(JSON.parse(t)))return a(new Error("请输入json字符串"));a()}}catch(n){return a(new Error("请输入json字符串"))}};return{loading:!1,centerDialogVisible:!1,optionProps:{value:"scene",label:"chineseScene"},envs:["dev","fat"],dataForm:{env:"dev",operation:"",mobile:"",content:"",dynamicForm:[]},dataRules:{operation:[{required:!0,message:"请选择业务场景",trigger:"blur"}],content:[{validator:e,trigger:["blur","change"]}]},options:[],result:"",showPhone:!0,showLessonResult:!1,lessonResultData:""}},watch:{"dataForm.operation":function(){console.log("operation",this.dataForm.operation),"delete_promoter_openidOrUnionId"===this.dataForm.operation[0]||"delete_wc_users"===this.dataForm.operation[0]||"delete_unionId"===this.dataForm.operation[0]?(this.dataForm.dynamicForm.push({value:"",label:"openid"}),this.dataForm.dynamicForm.push({value:"",label:"unionId"})):"refund"===this.dataForm.operation[0]||"trace_seller_ship"===this.dataForm.operation[0]?this.dataForm.dynamicForm.push({value:"",label:"oid"}):"redeem"===this.dataForm.operation[0]?(this.dataForm.dynamicForm.push({value:"",label:"item_id"}),this.dataForm.dynamicForm.push({value:"",label:"num"})):this.dataForm.operation[0].startsWith("lesson_")?(this.showPhone=!1,this.dataForm.dynamicForm.push({value:"course.course.atom",label:"server_name"}),this.dataForm.dynamicForm.push({value:"",label:"params",typ:"textarea"})):"create_eshop_order"===this.dataForm.operation[0]?(this.dataForm.dynamicForm.push({value:"",label:"spuNo"}),this.dataForm.dynamicForm.push({value:"",label:"promoterId"})):"create_Sample_order"===this.dataForm.operation[0]?(this.dataForm.dynamicForm.push({value:"",label:"fanMobile"}),this.dataForm.dynamicForm.push({value:"",label:"sp2xuIds"})):"create_SGU"===this.dataForm.operation[0]||"create_SPU"===this.dataForm.operation[0]?(this.dataForm.dynamicForm.push({value:"",label:"title"}),this.dataForm.dynamicForm.push({value:"",label:"sgus"}),this.dataForm.dynamicForm.push({value:"",label:"skus"}),this.dataForm.dynamicForm.push({value:"",label:"price"}),this.dataForm.dynamicForm.push({value:"",label:"toolPrice"}),this.dataForm.dynamicForm.push({value:"",label:"subCategory"})):"saturn_bind"===this.dataForm.operation[0]?this.dataForm.dynamicForm.push({value:"",label:"channel"}):this.dataForm.dynamicForm=[]}},methods:{submitForm:function(){var e=this;this.setIntoStorage(),this.$refs.dataForm.validate((function(t){if(!t)return!1;e.centerDialogVisible=!0}))},submitScene:function(){var e=this;this.loading=!0;var t=h.cloneDeep(this.dataForm);t["operation"]=this.dataForm.operation[0],t["content"]=this.dataForm.content?JSON.parse(this.dataForm.content):this.dataForm.content,this.dataForm.dynamicForm.forEach((function(e){t[e.label]=e.value})),"redeem"===t["operation"]?u.InterfaceOperateData(t).then((function(t){0===t.data.code&&(e.result=t.data.data.code,console.log(e.result))})):"refund"===t["operation"]||"trace_seller_ship"===t["operation"]?u.InterfaceOperateData(t).then():t["operation"].startsWith("lesson")?m.lessonOperateData(t).then((function(t){e.showLessonResult=!0,e.lessonResultData=t.data})):t["operation"].startsWith("ESSync")?m.ESSyncData(t).then((function(t){e.result=t.data})):u.preOperateData(t).then((function(t){e.result=t.data})),this.loading=!1,this.centerDialogVisible=!1},resetForm:function(e){this.setIntoStorage(),this.$refs[e].resetFields()},cleardynamicForm:function(){this.dataForm.dynamicForm=[]},querySearch:function(e,t){var a=JSON.parse(localStorage.getItem("phoneArr")),n=e?a.filter(this.createStateFilter(e)):a;t(n)},createStateFilter:function(e){return function(t){return 0===t.value.indexOf(e)}},setIntoStorage:function(){var e=[],t="phoneArr";if(e.push({value:this.dataForm.mobile}),JSON.parse(localStorage.getItem(t))){if(localStorage.getItem(t).indexOf(this.dataForm.mobile)>-1)return;if(JSON.parse(localStorage.getItem(t)).length>=5){var a=JSON.parse(localStorage.getItem(t));a.pop(),localStorage.setItem(t,JSON.stringify(a))}localStorage.setItem(t,JSON.stringify(e.concat(JSON.parse(localStorage.getItem(t)))))}else localStorage.setItem(t,JSON.stringify(e))}},mounted:function(){this.setIntoStorage()}},g=b,v=(a("b91f"),a("2877")),y=Object(v["a"])(g,d,p,!1,null,"73439ddc",null),_=y.exports,S={name:"dataTool",components:{dataTools:_},data:function(){return{editableTabs:[],editableTabsValue:""}},methods:{changeTab:function(){},getScenes:function(){var e=this;u.getScenes().then((function(t){e.editableTabs=t.data.map((function(e){return{chineseScene:e.project,scene:e.project,children:e.datas}})),console.log("operation",e.editableTabs),e.editableTabsValue=e.editableTabs[0].scene}))}},mounted:function(){this.getScenes()}},T=S,w=(a("730c"),a("a0db"),Object(v["a"])(T,o,i,!1,null,"064d3916",null)),x=w.exports,E=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"form-card",attrs:{"element-loading-spinner":"el-icon-loading","element-loading-text":"拼命加载中"}},[a("div",{staticClass:"card-title",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("mock设置")])]),a("el-form",{attrs:{"label-position":"right","label-width":"150px"}},[a("el-form-item",{attrs:{label:"环境 :"}},[a("el-radio-group",{on:{change:e.getDomainStatus},model:{value:e.env,callback:function(t){e.env=t},expression:"env"}},[a("el-radio",{attrs:{label:"dev"}}),a("el-radio",{attrs:{label:"fat"}})],1)],1),e._l(e.domains,(function(t){return a("el-form-item",{key:t,attrs:{label:t.domain+":"}},[a("el-row",{attrs:{align:"middle"}},[a("el-col",{attrs:{span:5}},[a("el-switch",{model:{value:t.status,callback:function(a){e.$set(t,"status",a)},expression:"item.status"}})],1),a("el-col",{attrs:{span:15}},[a("el-checkbox-group",{attrs:{size:"medium"},model:{value:e.serverList,callback:function(t){e.serverList=t},expression:"serverList"}},[a("el-checkbox",{attrs:{label:"payatom"}}),a("el-checkbox",{attrs:{label:"交易中台"}})],1)],1)],1),e._l(t.details,(function(t,n){return a("div",{key:n},[a("span",{staticStyle:{color:"#909399"}},[e._v(" "+e._s(t.server)+":"+e._s(t.status))])])}))],2)})),a("el-form-item",{staticStyle:{"text-align":"center","padding-top":"15px"},attrs:{"label-width":"0"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("确定")]),a("el-button",[e._v("取消")])],1)],2)],1)},C=[],P=a("5c96"),k={name:"mockSwitch",data:function(){return{loading:!1,serverList:[],domains:[{domain:"api.pingxx.com",status:!1,details:[]}],env:"dev"}},computed:{host:function(){return this.$store.state.devHosts[this.env]},email:function(){return this.$store.state.login.email}},created:function(){this.getDomainStatus()},methods:{getDomainStatus:function(){var e=this;u.getAllDomainStatus({env:this.env}).then((function(t){var a=t.data;e.domains=a.map((function(e){return{domain:e.domain,status:e.status,details:e.details}})),e.loading=!1}))},onSubmit:function(){var e=this;this.loading=!0;var t={};this.domains.forEach((function(e){t[e.domain]=e.status})),u.updateMock({env:this.env,domains:t,user_email:this.email,server_list:this.serverList}).then((function(){e.getDomainStatus(),e.loading=!1,Object(P["Message"])({message:"正在重启支付服务，请耐心等待30秒后尝试",type:"info",duration:3e3,showClose:!0})})).catch((function(){e.loading=!1}))}}},O=k,I=(a("6d86"),Object(v["a"])(O,E,C,!1,null,null,null)),D=I.exports,j={components:{MockSwitch:D,dataTool:x},data:function(){return{activePannel:"mock"}}},A=j,R=Object(v["a"])(A,n,r,!1,null,null,null);t["default"]=R.exports},f435:function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=a("7a93"),o=n(a("7234")),i=n(a("e9bc"));t.default=[{path:"testCaseReview/list",name:r.PathName.TestTrackCaseReview,component:o.default,meta:{isUsingSocketInfo:!0}},{path:"testCaseReview/:reviewId?",name:r.PathName.TestTrackCaseReviewView,component:i.default,meta:{isUsingSocketInfo:!0}}]},f44c:function(e,t,a){"use strict";a.r(t);var n=a("a92c"),r=a("896b");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);a("828e");var i=a("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,"4b133d86",null);t["default"]=s.exports},f4e8:function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(a("16eb")),o=n(a("1388"));t.default={name:"trackProject",components:{TableSearchInputBar:o.default},data:function(){return{createVisible:!1,projects:this.projects,result:{},projectName:"",condition:{},tapd:!1,jira:!1,zentao:!1,form:{},currentPage:1,pageSize:5,total:0}},props:{baseUrl:String},inject:["loading","projects"],methods:{handleSearch:function(e){console.log(e)},headerStyle:function(){return"padding: 17px 0 font-family: ".concat(r.default["fontFamily"])}}}},f643:function(e,t,a){"use strict";a.r(t);var n=a("3f37"),r=a("950d");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);a("4e0d");var i=a("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,"67a27154",null);t["default"]=s.exports},f661:function(e,t,a){"use strict";var n=a("0eef"),r=a("4184"),o=(a("4541"),a("2877")),i=Object(o["a"])(r["default"],n["a"],n["b"],!1,null,"ed18c04e",null);t["default"]=i.exports},f6bf:function(e,t,a){"use strict";a.r(t);var n=a("ae65"),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=r.a},f71b:function(e,t,a){},f740:function(e,t,a){"use strict";a.r(t);var n=a("ec60"),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=r.a},f817:function(e,t,a){"use strict";a("3922")},f8fb:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{staticClass:"card-content"},[a("template",{slot:"header"},[a("table-header",{attrs:{condition:e.condition,"show-create":void 0!==e.selectNode.id,"show-run":void 0!==e.selectNode.id,"create-tip":"新建用例","icon-run":"el-icon-download","run-tip":"导入用例"},on:{create:e.testCaseModify,runTest:e.handleUpload,search:e.handleSearch}},[a("template",{slot:"title"},[a("node-breadcrumb",{attrs:{nodes:e.selectParentNodes},on:{refresh:e.refresh}})],1)],2)],1),a("el-table",{ref:"table",staticClass:"test-content adjust-table",attrs:{data:e.tableData,"row-key":"id"},on:{select:e.handleSelectionChange,"filter-change":e.filter,"select-all":e.handleSelectAll}},[a("el-table-column",{attrs:{type:"selection"}}),a("el-table-column",{attrs:{resizable:!1,align:"center",width:"40"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("show-more-btn",{attrs:{buttons:e.buttons,"is-disabled":t.row.isDisabled,size:e.selectRows.size}})]}}])}),a("el-table-column",{attrs:{label:"名称",prop:"name","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{placement:"right-end",title:"查看用例",width:"60%"},on:{show:e.handleShow}},[a("test-case-detail",{attrs:{condition:e.condition,form:t.row,"read-only":e.readOnly}}),a("span",{attrs:{slot:"reference"},slot:"reference"},[e._v(e._s(t.row.name))])],1)]}}])}),a("el-table-column",{attrs:{filters:e.priorityOptions,"column-key":"importance",label:"用例等级",prop:"importance","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(e){return[a("priority-table-item",{attrs:{value:e.row.importance}})]}}])}),a("el-table-column",{attrs:{"column-key":"caseType",label:"类型",prop:"caseType","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(e){return[a("case-type-table-item",{attrs:{value:e.row.caseType}})]}}])}),a("el-table-column",{attrs:{"column-key":"executionType",label:"测试方式",prop:"executionType","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(e){return[a("execution-type-table-item",{attrs:{value:e.row.executionType}})]}}])}),a("el-table-column",{attrs:{filters:e.statusOptions,"column-key":"status",label:"评审状态"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("review-case-status-table-item",{attrs:{value:e.row.status}})]}}])}),a("el-table-column",{attrs:{label:"所属模块",prop:"treePath","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{width:e.tableTimeWidth,label:"更新时间",prop:"updatedAt","show-overflow-tooltip":"",sortable:""}}),a("el-table-column",{attrs:{width:e.table3BtnWidth,label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("table-operator",{attrs:{"show-copy":"","show-delete":"","show-edit":""},on:{copyClick:function(a){return e.testCaseModify(t.row,!0)},deleteClick:function(a){return e.handleDelete(t.row)},editClick:function(a){return e.testCaseModify(t.row)}}})]}}])})],1),a("table-pagination",{attrs:{change:e.initTableData,"current-page":e.currentPage,"page-size":e.pageSize,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t}}})],2),a("batch-edit",{ref:"batchEdit",attrs:{"type-arr":e.caseBatchEditOptions,"value-arr":e.batchEditValueArr,"dialog-title":"批量编辑用例"},on:{batchEdit:e.batchEdit}}),a("batch-move",{ref:"batchMove",on:{batchMove:e.batchMove,refresh:e.refresh}})],1)},r=[]},f94f:function(e,t,a){"use strict";a("ac1f"),a("5319"),a("b0c0"),Object.defineProperty(t,"__esModule",{value:!0});var n=a("365c"),r=a("ec8b");t.default={name:"TestCaseImport",data:function(){return{result:{},activeName:"xmindImport",dialogVisible:!1}},props:{selectNode:Object,currentProject:Object},mounted:function(){var e=this;this.$eventBus.$on("TestCaseImport",(function(){e.open()}))},methods:{open:function(){this.dialogVisible=!0},close:function(){this.dialogVisible=!1},handleBeforeUpload:function(e){var t="application/vnd.xmind.workbook"===e.type||"xmind"===e.name.replace(/.+\./,"");return t||this.$message.error("文件只支持XMind格式！"),t},handleUpload:function(e){var t=this,a=e.file,o=r.buildUploadFileParams({projId:this.currentProject.id,treeId:this.selectNode.id,caseFile:a});n.testCaseApi.uploadXMind(o).then((function(){t.$emit("refresh"),t.close()}))}}}},f9f1:function(e,t,a){"use strict";a("0f47")},fb10:function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=a("7a93"),o=n(a("dd62"));t.default=[{path:"testBuried/event/list",name:r.PathName.TestTrackBuriedDataReview,component:o.default,meta:{isUsingSocketInfo:!0}}]},fbc4:function(e,t,a){"use strict";a.r(t);var n=a("2ad2"),r=a("6177");for(var o in r)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(o);a("e244");var i=a("2877"),s=Object(i["a"])(r["default"],n["a"],n["b"],!1,null,"2132c890",null);t["default"]=s.exports},fc45:function(e,t,a){},fd2b:function(e,t,a){"use strict";var n=a("278c").default;a("d81d"),a("4fad"),a("4de4"),a("159b");var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=a("365c"),i=r(a("e73b")),s=r(a("6d22")),l=r(a("df34")),c=r(a("ba07")),u=a("b74e"),d=a("93f3"),p=a("7a93"),f=a("00e0"),m=r(a("0ad2")),h=r(a("8988")),b=r(a("2eb0")),g=a("5c96"),v=Object.entries(f.planStatusType).map((function(e){var t=n(e,2),a=t[0],r=t[1];return{text:r,value:a}}));t.default={name:"TestPlanList",components:{PlanTestTableItem:b.default,PlanStageTableItem:m.default,PlanStatus:h.default,TableOperator:c.default,TablePagination:s.default,TableHeader:l.default},data:function(){return{planStatusOptions:v,planStageEnum:f.planStageEnum,planInstanceStatusEnum:f.planInstanceStatusEnum,projects:this.projects,users:this.users,isReject:!1,tableData:[],currentPage:1,pageSize:d.PAGINATION_SIZE.LARGE,total:0,caseFilter:{}}},props:{condition:Object,stage:String},computed:{loading:function(){return this.$store.state.loading},table4BtnWidth:function(){return i.default["table4BtnWidth"]},planStageOptions:function(){return this.stage===f.planStageEnum.SMOKE?Object.entries(f.planStageType).filter((function(e){var t=n(e,2),a=t[0];t[1];return a===f.planStageEnum.SMOKE})).map((function(e){var t=n(e,2),a=t[0],r=t[1];return{text:r,value:a}})):Object.entries(f.planStageType).filter((function(e){var t=n(e,2),a=t[0];t[1];return a!==f.planStageEnum.SMOKE})).map((function(e){var t=n(e,2),a=t[0],r=t[1];return{text:r,value:a}}))}},inject:["projects","users"],mounted:function(){this.initTableData()},methods:{initTableData:function(){this.setSelectOptions(),this.getData(),this.$emit("update:condition",this.condition)},setSelectOptions:function(){this.setOwnerOptions(),this.setProjectOptions()},getData:function(e){var t=this,a=this.planStageOptions.map((function(e){return e.value})),n={offset:this.pageSize*(this.currentPage-1),limit:this.pageSize,stage:a,name:e,isReject:this.isReject};this.caseFilter=sessionStorage.getItem(this.$route.path),this.caseFilter=this.caseFilter?JSON.parse(this.caseFilter):{},"{}"!==JSON.stringify(this.caseFilter)&&(Object.assign(n,this.caseFilter),this.caseFilter.stage&&0!==this.caseFilter.stage.length||Object.assign(n,{stage:a}),this.$refs.table.columns.forEach((function(e){e.filteredValue=t.caseFilter[e.columnKey]}))),o.testPlanApi.getTestCasePlanList(n).then((function(e){var a=e.data;t.total=a.total,t.tableData=a.data,t.tableData.forEach((function(e){e.targetStart=u.formatTime(e.targetStart),e.targetEnd=u.formatTime(e.targetEnd),e.actualStart=u.formatTime(e.actualStart),e.actualEnd=u.formatTime(e.actualEnd)}))}))},handleAddOrEdit:function(e){this.$eventBus.$emit("testPlanCreateOrUpdate",e,this.planStageOptions)},handleSearch:function(e,t){t&&(this.isReject=!this.isReject),this.currentPage=1,this.getData(e)},handleDelete:function(e){var t=this;this.$alert("确认删除测试计划?","",{confirmButtonText:"确定",showCancelButton:!0,cancelButtonText:"取消",callback:function(a){"confirm"===a&&o.testPlanApi.deleteTestCasePlan(e.id).then((function(){t.refresh()}))}})},handleSubmit:function(e){this.$eventBus.$emit("packagingTestSubmit",e)},handleToReport:function(e){this.$router.push({name:p.PathName.TestTrackCasePlanReport,params:{planId:e.id}})},refresh:function(){this.initTableData()},handleRowClick:function(e){this.$router.push({name:p.PathName.TestTrackCasePlanView,params:{planId:e.id}})},handleChange:function(e){var t=this;if(this.command!==f.planInstanceStatusEnum.APPROVED||100===e.checkPercentage){var a={status:this.command,userEmail:this.$store.state.login.email};o.testPlanApi.updateApprovalStatus(e.id,a).then((function(){t.command===f.planInstanceStatusEnum.APPROVED?o.testPlanApi.updateTestCasePlan(e.id,{status:f.planStatusEnum.DONE}).then((function(){t.refresh()})):t.refresh()}))}else g.Message({message:"审批通过需要确认成功率达100%",type:"warning",duration:3e3,showClose:!0})},approvalStatus:function(e){this.command=e},filter:function(e){this.currentPage=1,u._filter(e,this.caseFilter,this.$route.path),this.initTableData()},setOwnerOptions:function(){this.condition.ownerOptions=this.users},setProjectOptions:function(){this.condition.projectOptions=this.projects}}}},fd2bf:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.value===e.reviewCaseStatusEnum.INIT?a("el-tag",{attrs:{effect:"dark",type:"info"}},[e._v(" "+e._s(e.reviewCaseStatusType[e.value])+" ")]):e.value===e.reviewCaseStatusEnum.PASS?a("el-tag",{attrs:{effect:"dark",type:"success"}},[e._v(" "+e._s(e.reviewCaseStatusType[e.value])+" ")]):e.value===e.reviewCaseStatusEnum.REJECT?a("el-tag",{attrs:{effect:"dark",type:"danger"}},[e._v(" "+e._s(e.reviewCaseStatusType[e.value])+" ")]):e._e()],1)},r=[],o=a("e551"),i={name:"ReviewCaseStatusTableItem",props:{value:String},data:function(){return{reviewCaseStatusEnum:o["reviewCaseStatusEnum"],reviewCaseStatusType:o["reviewCaseStatusType"]}}},s=i,l=a("2877"),c=Object(l["a"])(s,n,r,!1,null,"18bcad62",null);t["default"]=c.exports},fe76:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reviewFormRules=t.reviewForm=void 0;var n=a("e551");t.reviewForm={id:"",name:"",projId:"",projKey:[],projName:"",reviewerList:[],status:n.reviewStatusEnum.INIT,description:"",targetEnd:""},t.reviewFormRules={name:[{required:!0,message:"请输入测试计划名称",trigger:"blur"}],projKey:[{required:!0,message:"请选择所属项目",trigger:"change"}],reviewerList:[{required:!0,message:"请选择负责人",trigger:"change"}],description:[{max:200,message:"长度必须小于200",trigger:"blur"}]}},ff21:function(e,t,a){"use strict";a("7754")},ff5f:function(e,t,a){"use strict";a.r(t);var n=a("f94f"),r=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=r.a},ff6b:function(e,t,a){"use strict";a("50e5")}});
//# sourceMappingURL=app.5eca4f38.js.map